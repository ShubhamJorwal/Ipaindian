<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bengaluru Urban District - IPA Command Center</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%);
            color: #ffffff;
            line-height: 1.6;
        }

        .topbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 70px;
            background: rgba(10, 14, 39, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 30px;
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .logo {
            font-size: 22px;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .breadcrumb-top {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.5);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .breadcrumb-top a {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            transition: color 0.3s;
        }

        .breadcrumb-top a:hover {
            color: #667eea;
        }

        .topbar-actions {
            display: flex;
            gap: 12px;
        }

        .btn {
            padding: 12px 24px;
            border-radius: 12px;
            border: none;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn:active {
            transform: scale(0.95);
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-primary:hover {
            box-shadow: 0 6px 25px rgba(102, 126, 234, 0.6);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        .btn-success {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
        }

        .btn-sm {
            padding: 8px 16px;
            font-size: 13px;
        }

        .sidebar {
            position: fixed;
            left: 0;
            top: 70px;
            bottom: 0;
            width: 280px;
            background: rgba(10, 14, 39, 0.6);
            backdrop-filter: blur(20px);
            border-right: 1px solid rgba(255, 255, 255, 0.1);
            overflow-y: auto;
            padding: 30px 0;
            z-index: 100;
        }

        .sidebar-section {
            margin-bottom: 30px;
        }

        .sidebar-header {
            padding: 0 24px;
            margin-bottom: 12px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: rgba(255, 255, 255, 0.4);
        }

        .sidebar-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 24px;
            color: rgba(255, 255, 255, 0.7);
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            margin: 4px 12px;
            border-radius: 10px;
        }

        .sidebar-item:hover {
            background: rgba(255, 255, 255, 0.08);
            color: white;
            transform: translateX(5px);
        }

        .sidebar-item.active {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.2) 0%, rgba(118, 75, 162, 0.2) 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .sidebar-item.active::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 4px;
            height: 60%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 2px;
        }

        .main-wrapper {
            margin-left: 280px;
            margin-top: 70px;
            padding: 40px;
            min-height: calc(100vh - 70px);
        }

        .page-content {
            display: none;
            animation: fadeIn 0.3s ease-in;
        }

        .page-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .page-header {
            margin-bottom: 40px;
        }

        .page-title {
            font-size: 36px;
            font-weight: 800;
            background: linear-gradient(135deg, #ffffff 0%, #a8b3ff 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 12px;
        }

        .page-subtitle {
            font-size: 16px;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 20px;
        }

        .card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            transition: all 0.3s;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(102, 126, 234, 0.3);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .card-title {
            font-size: 20px;
            font-weight: 700;
            color: white;
        }

        .grid {
            display: grid;
            gap: 24px;
        }

        .grid-2 { grid-template-columns: repeat(2, 1fr); }
        .grid-3 { grid-template-columns: repeat(3, 1fr); }
        .grid-4 { grid-template-columns: repeat(4, 1fr); }

        .stat-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 30px;
            cursor: pointer;
            transition: all 0.4s;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(102, 126, 234, 0.1) 0%, transparent 70%);
            transition: all 0.6s;
        }

        .stat-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(102, 126, 234, 0.4);
            border-color: rgba(102, 126, 234, 0.5);
        }

        .stat-card:hover::before {
            transform: rotate(180deg);
        }

        .stat-icon {
            font-size: 42px;
            margin-bottom: 16px;
        }

        .stat-value {
            font-size: 36px;
            font-weight: 800;
            margin-bottom: 8px;
            background: linear-gradient(135deg, #ffffff 0%, #a8b3ff 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .stat-label {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.7);
            font-weight: 500;
        }

        .stat-detail {
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 13px;
            color: rgba(255, 255, 255, 0.6);
        }

        .info-box {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.15) 0%, rgba(118, 75, 162, 0.1) 100%);
            border: 1px solid rgba(102, 126, 234, 0.3);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .info-box::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .info-box-title {
            font-weight: 700;
            font-size: 16px;
            margin-bottom: 12px;
            color: #a8b3ff;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .info-box-content {
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.8;
        }

        .section-title {
            font-size: 24px;
            font-weight: 700;
            margin: 40px 0 24px;
            display: flex;
            align-items: center;
            gap: 12px;
            color: white;
        }

        .section-title::before {
            content: '';
            width: 4px;
            height: 28px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 2px;
        }

        .table-container {
            overflow-x: auto;
            border-radius: 16px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .table {
            width: 100%;
            border-collapse: collapse;
        }

        .table th {
            text-align: left;
            padding: 18px 20px;
            font-size: 12px;
            font-weight: 700;
            color: rgba(255, 255, 255, 0.6);
            text-transform: uppercase;
            background: rgba(255, 255, 255, 0.05);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            letter-spacing: 0.05em;
        }

        .table td {
            padding: 18px 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            color: rgba(255, 255, 255, 0.9);
        }

        .table tr:hover {
            background: rgba(102, 126, 234, 0.1);
        }

        .badge {
            display: inline-flex;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            backdrop-filter: blur(10px);
        }

        .badge-success {
            background: rgba(16, 185, 129, 0.2);
            color: #10b981;
            border: 1px solid rgba(16, 185, 129, 0.3);
        }

        .badge-warning {
            background: rgba(245, 158, 11, 0.2);
            color: #f59e0b;
            border: 1px solid rgba(245, 158, 11, 0.3);
        }

        .badge-danger {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        .badge-primary {
            background: rgba(102, 126, 234, 0.2);
            color: #667eea;
            border: 1px solid rgba(102, 126, 234, 0.3);
        }

        .detail-box {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 20px;
        }

        .detail-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .detail-row:last-child {
            border-bottom: none;
        }

        .detail-label {
            color: rgba(255, 255, 255, 0.7);
            font-size: 14px;
        }

        .detail-value {
            color: white;
            font-weight: 600;
            font-size: 16px;
        }

        .action-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 30px;
        }

        .action-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 24px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .action-card:hover {
            background: rgba(102, 126, 234, 0.1);
            border-color: rgba(102, 126, 234, 0.3);
            transform: translateY(-4px);
            box-shadow: 0 12px 30px rgba(102, 126, 234, 0.3);
        }

        .action-icon {
            font-size: 36px;
            margin-bottom: 12px;
        }

        .action-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 8px;
            color: white;
        }

        .action-desc {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.6);
        }

        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(102, 126, 234, 0.5);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(102, 126, 234, 0.7);
        }

        @media (max-width: 1200px) {
            .grid-4 { grid-template-columns: repeat(2, 1fr); }
        }

        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
            }
            .main-wrapper {
                margin-left: 0;
            }
            .grid-4, .grid-3, .grid-2 {
                grid-template-columns: 1fr;
            }
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
            padding: 20px;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: linear-gradient(135deg, rgba(26, 31, 58, 0.98) 0%, rgba(10, 14, 39, 0.98) 100%);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            padding: 40px;
            max-width: 900px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            animation: modalFadeIn 0.3s ease-out;
        }

        @keyframes modalFadeIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .modal-title {
            font-size: 28px;
            font-weight: 700;
            background: linear-gradient(135deg, #ffffff 0%, #a8b3ff 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .modal-close {
            width: 40px;
            height: 40px;
            border-radius: 12px;
            border: none;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            transition: all 0.3s;
        }

        .modal-close:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: rotate(90deg);
        }

        .modal-body {
            color: rgba(255, 255, 255, 0.9);
        }

        .modal-section {
            margin-bottom: 30px;
        }

        .modal-section-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 16px;
            color: #a8b3ff;
        }

        .modal-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 20px;
        }

        .modal-item {
            padding: 16px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .modal-item-label {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 4px;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .modal-item-value {
            font-size: 18px;
            font-weight: 700;
            color: white;
        }

    </style>
</head>
<body>
    <header class="topbar">
        <div>
            <div class="logo">
                <span style="font-size: 32px;">üèõÔ∏è</span>
                <span>Bengaluru Urban District</span>
            </div>
            <div class="breadcrumb-top">
                <a href="#">Karnataka</a>
                <span>/</span>
                <span>Bengaluru Urban</span>
            </div>
        </div>
        <div class="topbar-actions">
            <button class="btn btn-secondary" onclick="refreshData()">
                <span>üîÑ</span> Refresh
            </button>
            <button class="btn btn-primary" onclick="generateReport()">
                <span>üìä</span> District Report
            </button>
        </div>
    </header>

    <aside class="sidebar">
        <div class="sidebar-section">
            <div class="sidebar-header">District Overview</div>
            <div class="sidebar-item active" data-page="dashboard">
                <span>üìä</span> <span>Dashboard</span>
            </div>
            <div class="sidebar-item" data-page="constituencies">
                <span>üìç</span> <span>28 Constituencies</span>
            </div>
            <div class="sidebar-item" data-page="booths">
                <span>üó≥Ô∏è</span> <span>Polling Booths</span>
            </div>
            <div class="sidebar-item" data-page="booths">
                <span>üó≥Ô∏è</span> <span>Survey</span>
            </div>
        </div>

        <div class="sidebar-section">
            <div class="sidebar-header">Operations</div>
            <div class="sidebar-item" data-page="clients">
                <span>üë•</span> <span>District Clients</span>
            </div>
            <div class="sidebar-item" data-page="campaigns">
                <span>üì¢</span> <span>Active Campaigns</span>
            </div>
            <div class="sidebar-item" data-page="field-teams">
                <span>üö∂</span> <span>Field Teams</span>
            </div>
            <div class="sidebar-item" data-page="events">
                <span>üìÖ</span> <span>Events & Rallies</span>
            </div>
        </div>

        <div class="sidebar-section">
            <div class="sidebar-header">Analytics</div>
            <div class="sidebar-item" data-page="voter-analysis">
                <span>üìà</span> <span>Voter Analysis</span>
            </div>
            <div class="sidebar-item" data-page="sentiment">
                <span>üí≠</span> <span>Sentiment Tracking</span>
            </div>
            <div class="sidebar-item" data-page="competition">
                <span>üëÅÔ∏è</span> <span>Competition Intel</span>
            </div>
        </div>

        <div class="sidebar-section">
            <div class="sidebar-header">Resources</div>
            <div class="sidebar-item" data-page="team">
                <span>üë•</span> <span>District Team</span>
            </div>
            <div class="sidebar-item" data-page="budget">
                <span>üí∞</span> <span>Budget & Finance</span>
            </div>
        </div>
    </aside>

    <main class="main-wrapper">
        <!-- Dashboard Page -->
        <div id="page-dashboard" class="page-content active">
            <div class="page-header">
                <h1 class="page-title">Bengaluru Urban District Command</h1>
                <p class="page-subtitle">District Manager: Rajesh Kumar | üìû +91 98765 43210 | ‚úâÔ∏è rajesh.k@ipa.in</p>
            </div>

            <div class="info-box">
                <div class="info-box-title">
                    <span>üéØ</span>
                    District Overview
                </div>
                <div class="info-box-content">
                    <strong>Bengaluru Urban District</strong> - Karnataka's political powerhouse with 28 assembly constituencies and 89 lakh registered voters. As the state capital, this district includes IT hub areas, traditional neighborhoods, and emerging suburbs. Currently managing 18 active political clients across all 28 constituencies with comprehensive campaign operations, field teams, and digital initiatives.
                </div>
            </div>

            <h2 class="section-title">Key Performance Indicators</h2>

            <div class="grid grid-4">
                <div class="stat-card">
                    <div class="stat-icon">üë•</div>
                    <div class="stat-value">89 L</div>
                    <div class="stat-label">Total Voters</div>
                    <div class="stat-detail">
                        Male: <strong>46L</strong> | Female: <strong>43L</strong>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon">üìç</div>
                    <div class="stat-value">28</div>
                    <div class="stat-label">Constituencies</div>
                    <div class="stat-detail">
                        Urban: <strong>28</strong> | Swing Seats: <strong>7</strong>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon">üéØ</div>
                    <div class="stat-value">18</div>
                    <div class="stat-label">Active Clients</div>
                    <div class="stat-detail">
                        Premium: <strong>5</strong> | Standard: <strong>13</strong>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon">üìä</div>
                    <div class="stat-value">92%</div>
                    <div class="stat-label">Campaign Readiness</div>
                    <div class="stat-detail">
                        <strong style="color: #10b981;">Excellent</strong> preparedness
                    </div>
                </div>
            </div>

            <h2 class="section-title">Constituency Breakdown</h2>

            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">All 28 Constituencies</h3>
                    <button class="btn btn-primary btn-sm" onclick="loadPage('constituencies')">
                        View Details ‚Üí
                    </button>
                </div>
                <div class="table-container">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Constituency</th>
                                <th>Voters</th>
                                <th>Current MLA</th>
                                <th>Party</th>
                                <th>Margin 2023</th>
                                <th>IPA Clients</th>
                                <th>Priority</th>
                            </tr>
                        </thead>
                        <tbody id="constituenciesTable">
                            <!-- Populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>

            <h2 class="section-title">District Operations</h2>

            <div class="grid grid-3">
                <div class="card">
                    <h3 class="card-title">üì¢ Campaign Stats</h3>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Active Campaigns</span>
                            <span class="detail-value" style="color: #667eea;">12</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Digital Reach</span>
                            <span class="detail-value" style="color: #10b981;">2.4M</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Houses Covered</span>
                            <span class="detail-value">8,947</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Events This Month</span>
                            <span class="detail-value">47</span>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">üë• Field Operations</h3>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Field Team Members</span>
                            <span class="detail-value" style="color: #667eea;">247</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Active Today</span>
                            <span class="detail-value" style="color: #10b981;">189</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Booth Coordinators</span>
                            <span class="detail-value">142</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Avg Performance</span>
                            <span class="detail-value">94%</span>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">üí∞ Revenue & Budget</h3>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">District Revenue</span>
                            <span class="detail-value" style="color: #667eea;">‚Çπ4.8 Cr</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Operational Budget</span>
                            <span class="detail-value" style="color: #10b981;">‚Çπ3.2 Cr</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Campaign Spend</span>
                            <span class="detail-value">‚Çπ1.8 Cr</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Budget Utilization</span>
                            <span class="detail-value">56%</span>
                        </div>
                    </div>
                </div>
            </div>

            <h2 class="section-title">Quick Actions</h2>

            <div class="action-grid">
                <div class="action-card" onclick="alert('Add new client')">
                    <div class="action-icon">‚ûï</div>
                    <div class="action-title">New Client</div>
                    <div class="action-desc">Register politician</div>
                </div>
                <div class="action-card" onclick="alert('Schedule event')">
                    <div class="action-icon">üìÖ</div>
                    <div class="action-title">Schedule Event</div>
                    <div class="action-desc">Rally or meeting</div>
                </div>
                <div class="action-card" onclick="alert('Deploy field team')">
                    <div class="action-icon">üö∂</div>
                    <div class="action-title">Deploy Team</div>
                    <div class="action-desc">Field operations</div>
                </div>
                <div class="action-card" onclick="alert('Create survey')">
                    <div class="action-icon">üìã</div>
                    <div class="action-title">Launch Survey</div>
                    <div class="action-desc">Opinion poll</div>
                </div>
                <div class="action-card" onclick="alert('View analytics')">
                    <div class="action-icon">üìà</div>
                    <div class="action-title">Analytics</div>
                    <div class="action-desc">District insights</div>
                </div>
                <div class="action-card" onclick="generateReport()">
                    <div class="action-icon">üìä</div>
                    <div class="action-title">Generate Report</div>
                    <div class="action-desc">Full district report</div>
                </div>
            </div>

            <h2 class="section-title">District Highlights</h2>

            <div class="grid grid-2">
                <div class="card">
                    <h3 class="card-title">üó≥Ô∏è Polling Infrastructure</h3>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Total Polling Booths</span>
                            <span class="detail-value">3,247</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Avg Voters per Booth</span>
                            <span class="detail-value">274</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Sensitive Booths</span>
                            <span class="detail-value">187</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Booth Coverage</span>
                            <span class="detail-value">100%</span>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">üìä Voter Demographics</h3>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Youth Voters (18-35)</span>
                            <span class="detail-value">38 L (42.7%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">First-time Voters</span>
                            <span class="detail-value">4.2 L</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Senior Citizens (60+)</span>
                            <span class="detail-value">9.4 L (10.6%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Women Voters</span>
                            <span class="detail-value">43 L (48.3%)</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Constituencies Page -->
        <div id="page-constituencies" class="page-content">
            <div class="page-header">
                <h1 class="page-title">28 Constituencies</h1>
                <p class="page-subtitle">Complete breakdown of all assembly constituencies in Bengaluru Urban</p>
            </div>

            <div class="card">
                <div class="table-container">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Constituency Name</th>
                                <th>Voters</th>
                                <th>Booths</th>
                                <th>Current MLA</th>
                                <th>Party</th>
                                <th>2023 Margin</th>
                                <th>Priority</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="detailedConstituenciesTable">
                            <!-- Populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Stub Pages -->
      <!-- Enhanced Polling Booths Section -->
<div id="page-booths" class="page-content">
    <div class="page-header">
        <div class="page-title-row" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
            <h1 class="page-title">Polling Booths Management</h1>
            <div class="page-actions">
                <button class="btn btn-secondary btn-sm" onclick="exportBoothsData()">
                    <span>‚¨áÔ∏è</span> Export Data
                </button>
                <button class="btn btn-primary btn-sm" onclick="generateBoothsReport()">
                    <span>üìä</span> Booth Report
                </button>
            </div>
        </div>
        <p class="page-subtitle">Complete booth-level infrastructure and management system for Bengaluru Urban District</p>
    </div>

    <div class="info-box">
        <div class="info-box-title">
            <span>üó≥Ô∏è</span>
            Booth Management System
        </div>
        <div class="info-box-content">
            <strong>Bengaluru Urban District Polling Infrastructure:</strong> 3,247 polling booths strategically distributed across all 28 assembly constituencies, serving 89 lakh registered voters. Each booth is equipped with dedicated booth-level officers (BLOs), trained coordinators, complete voter lists, and real-time monitoring systems. The district maintains a comprehensive database including booth classifications (normal, sensitive, critical), accessibility features, infrastructure status, and historical voting patterns. Our booth management system tracks coordinator assignments, voter demographics per booth, booth-wise party performance history, and field team deployment for door-to-door coverage in each booth's catchment area.<br><br>
            <strong>Average booth capacity:</strong> 274 voters per booth | <strong>Sensitive booths:</strong> 187 (5.8%) requiring special monitoring | <strong>Critical booths:</strong> 89 (2.7%) with history of incidents | <strong>Booth coverage:</strong> 100% coordinator assignment | <strong>Accessibility compliant:</strong> 2,847 booths (87.7%)
        </div>
    </div>

    <h2 class="section-title">Booth Infrastructure Overview</h2>

    <div class="grid grid-4">
        <div class="stat-card" onclick="showBoothDetailModal('total')">
            <div class="stat-icon">üó≥Ô∏è</div>
            <div class="stat-value">3,247</div>
            <div class="stat-label">Total Polling Booths</div>
            <div class="stat-detail">
                Across 28 constituencies
            </div>
        </div>

        <div class="stat-card" onclick="showBoothDetailModal('sensitive')">
            <div class="stat-icon">‚ö†Ô∏è</div>
            <div class="stat-value">187</div>
            <div class="stat-label">Sensitive Booths</div>
            <div class="stat-detail">
                <strong style="color: #f59e0b;">5.8%</strong> require special monitoring
            </div>
        </div>

        <div class="stat-card" onclick="showBoothDetailModal('critical')">
            <div class="stat-icon">üö®</div>
            <div class="stat-value">89</div>
            <div class="stat-label">Critical Booths</div>
            <div class="stat-detail">
                <strong style="color: #ef4444;">2.7%</strong> history of incidents
            </div>
        </div>

        <div class="stat-card" onclick="showBoothDetailModal('avg-voters')">
            <div class="stat-icon">üë•</div>
            <div class="stat-value">274</div>
            <div class="stat-label">Avg Voters/Booth</div>
            <div class="stat-detail">
                Range: 180-450 voters
            </div>
        </div>
    </div>

    <h2 class="section-title">Booth Categories & Classifications</h2>

    <div class="grid grid-3">
        <div class="card" onclick="showBoothCategoryModal('normal')">
            <h3 class="card-title">‚úÖ Normal Booths</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Total Count</span>
                    <span class="detail-value" style="color: #10b981;">2,971</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Percentage</span>
                    <span class="detail-value">91.5%</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Security Level</span>
                    <span class="detail-value">Standard</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Monitoring</span>
                    <span class="detail-value">Regular</span>
                </div>
            </div>
            <button class="btn btn-primary btn-sm" style="width: 100%; margin-top: 16px;" onclick="event.stopPropagation(); showBoothCategoryModal('normal')">
                View Details ‚Üí
            </button>
        </div>

        <div class="card" onclick="showBoothCategoryModal('sensitive')">
            <h3 class="card-title">‚ö†Ô∏è Sensitive Booths</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Total Count</span>
                    <span class="detail-value" style="color: #f59e0b;">187</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Percentage</span>
                    <span class="detail-value">5.8%</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Security Level</span>
                    <span class="detail-value">Enhanced</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Monitoring</span>
                    <span class="detail-value">Continuous</span>
                </div>
            </div>
            <button class="btn btn-primary btn-sm" style="width: 100%; margin-top: 16px;" onclick="event.stopPropagation(); showBoothCategoryModal('sensitive')">
                View Details ‚Üí
            </button>
        </div>

        <div class="card" onclick="showBoothCategoryModal('critical')">
            <h3 class="card-title">üö® Critical Booths</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Total Count</span>
                    <span class="detail-value" style="color: #ef4444;">89</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Percentage</span>
                    <span class="detail-value">2.7%</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Security Level</span>
                    <span class="detail-value">Maximum</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Monitoring</span>
                    <span class="detail-value">24/7 + CCTV</span>
                </div>
            </div>
            <button class="btn btn-primary btn-sm" style="width: 100%; margin-top: 16px;" onclick="event.stopPropagation(); showBoothCategoryModal('critical')">
                View Details ‚Üí
            </button>
        </div>
    </div>

    <h2 class="section-title">Booth Infrastructure & Facilities</h2>

    <div class="grid grid-2">
        <div class="card">
            <h3 class="card-title">üè¢ Building Infrastructure</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Government Schools</span>
                    <span class="detail-value">1,847 booths (56.9%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Government Colleges</span>
                    <span class="detail-value">478 booths (14.7%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Community Halls</span>
                    <span class="detail-value">542 booths (16.7%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Government Offices</span>
                    <span class="detail-value">289 booths (8.9%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Other Public Buildings</span>
                    <span class="detail-value">91 booths (2.8%)</span>
                </div>
            </div>
        </div>

        <div class="card">
            <h3 class="card-title">‚ôø Accessibility Features</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Wheelchair Accessible</span>
                    <span class="detail-value" style="color: #10b981;">2,847 (87.7%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Ramp Facility</span>
                    <span class="detail-value">2,654 (81.7%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Ground Floor Booths</span>
                    <span class="detail-value">2,991 (92.1%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Accessible Toilets</span>
                    <span class="detail-value">2,123 (65.4%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Braille Signage</span>
                    <span class="detail-value">1,847 (56.9%)</span>
                </div>
            </div>
        </div>
    </div>

    <h2 class="section-title">Booth Management & Coordination</h2>

    <div class="grid grid-3">
        <div class="stat-card" onclick="showBoothDetailModal('blo')">
            <div class="stat-icon">üë§</div>
            <div class="stat-value">3,247</div>
            <div class="stat-label">Booth Level Officers</div>
            <div class="stat-detail">
                <strong style="color: #10b981;">100%</strong> booths covered
            </div>
        </div>

        <div class="stat-card" onclick="showBoothDetailModal('coordinators')">
            <div class="stat-icon">üë•</div>
            <div class="stat-value">3,247</div>
            <div class="stat-label">IPA Coordinators</div>
            <div class="stat-detail">
                One per booth assignment
            </div>
        </div>

        <div class="stat-card" onclick="showBoothDetailModal('coverage')">
            <div class="stat-icon">üìã</div>
            <div class="stat-value">100%</div>
            <div class="stat-label">Voter List Coverage</div>
            <div class="stat-detail">
                All booths updated (Jan 2025)
            </div>
        </div>
    </div>

    <h2 class="section-title">Constituency-wise Booth Distribution</h2>

    <div class="card">
        <div class="card-header">
            <h3 class="card-title">Booths by Constituency</h3>
            <div style="display: flex; gap: 12px;">
                <select id="constituencyFilter" onchange="filterBoothsByConstituency(this.value)" 
                        style="padding: 8px 16px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: white;">
                    <option value="all">All Constituencies</option>
                    <option value="sensitive">Show Sensitive Only</option>
                    <option value="critical">Show Critical Only</option>
                </select>
                <input type="text" id="boothSearch" placeholder="Search booth number..." 
                       style="padding: 8px 16px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: white; width: 250px;">
            </div>
        </div>
        <div class="table-container">
            <table class="table">
                <thead>
                    <tr>
                        <th>Constituency</th>
                        <th>Total Booths</th>
                        <th>Avg Voters/Booth</th>
                        <th>Sensitive</th>
                        <th>Critical</th>
                        <th>Accessible</th>
                        <th>BLO Assigned</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="boothsDistributionTable">
                    <tr onclick="showConstituencyBoothsModal('Byatarayanapura')" style="cursor: pointer;">
                        <td><strong>Byatarayanapura</strong></td>
                        <td>112</td>
                        <td>248</td>
                        <td><span class="badge badge-warning">8</span></td>
                        <td><span class="badge badge-danger">3</span></td>
                        <td>98 (87.5%)</td>
                        <td><span class="badge badge-success">100%</span></td>
                        <td><button class="btn btn-primary btn-sm" onclick="event.stopPropagation(); showConstituencyBoothsModal('Byatarayanapura')">View</button></td>
                    </tr>
                    <tr onclick="showConstituencyBoothsModal('Yeshwanthpur')" style="cursor: pointer;">
                        <td><strong>Yeshwanthpur</strong></td>
                        <td>118</td>
                        <td>247</td>
                        <td><span class="badge badge-warning">6</span></td>
                        <td><span class="badge badge-danger">2</span></td>
                        <td>104 (88.1%)</td>
                        <td><span class="badge badge-success">100%</span></td>
                        <td><button class="btn btn-primary btn-sm" onclick="event.stopPropagation(); showConstituencyBoothsModal('Yeshwanthpur')">View</button></td>
                    </tr>
                    <tr onclick="showConstituencyBoothsModal('Jayanagar')" style="cursor: pointer;">
                        <td><strong>Jayanagar</strong></td>
                        <td>115</td>
                        <td>248</td>
                        <td><span class="badge badge-warning">9</span></td>
                        <td><span class="badge badge-danger">4</span></td>
                        <td>102 (88.7%)</td>
                        <td><span class="badge badge-success">100%</span></td>
                        <td><button class="btn btn-primary btn-sm" onclick="event.stopPropagation(); showConstituencyBoothsModal('Jayanagar')">View</button></td>
                    </tr>
                    <tr onclick="showConstituencyBoothsModal('Basavanagudi')" style="cursor: pointer;">
                        <td><strong>Basavanagudi</strong></td>
                        <td>118</td>
                        <td>247</td>
                        <td><span class="badge badge-warning">5</span></td>
                        <td><span class="badge badge-danger">2</span></td>
                        <td>108 (91.5%)</td>
                        <td><span class="badge badge-success">100%</span></td>
                        <td><button class="btn btn-primary btn-sm" onclick="event.stopPropagation(); showConstituencyBoothsModal('Basavanagudi')">View</button></td>
                    </tr>
                    <tr onclick="showConstituencyBoothsModal('Malleshwaram')" style="cursor: pointer;">
                        <td><strong>Malleshwaram</strong></td>
                        <td>112</td>
                        <td>248</td>
                        <td><span class="badge badge-warning">7</span></td>
                        <td><span class="badge badge-danger">3</span></td>
                        <td>97 (86.6%)</td>
                        <td><span class="badge badge-success">100%</span></td>
                        <td><button class="btn btn-primary btn-sm" onclick="event.stopPropagation(); showConstituencyBoothsModal('Malleshwaram')">View</button></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <h2 class="section-title">Booth Performance Analytics</h2>

    <div class="grid grid-2">
        <div class="card">
            <h3 class="card-title">üìä Historical Turnout by Booth Type</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Urban Core Booths (avg)</span>
                    <span class="detail-value" style="color: #f59e0b;">68.4%</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Suburban Booths (avg)</span>
                    <span class="detail-value" style="color: #10b981;">74.2%</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">IT Corridor Booths (avg)</span>
                    <span class="detail-value" style="color: #ef4444;">62.7%</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Residential Booths (avg)</span>
                    <span class="detail-value" style="color: #10b981;">76.8%</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">District Average 2023</span>
                    <span class="detail-value">71.3%</span>
                </div>
            </div>
        </div>

        <div class="card">
            <h3 class="card-title">üéØ Strategic Booth Prioritization</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">High Priority Booths</span>
                    <span class="detail-value" style="color: #ef4444;">342 booths</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Medium Priority</span>
                    <span class="detail-value" style="color: #f59e0b;">1,247 booths</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Low Priority</span>
                    <span class="detail-value" style="color: #10b981;">1,658 booths</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Swing Booths (Margin <1000)</span>
                    <span class="detail-value">189 booths</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Stronghold Booths</span>
                    <span class="detail-value">847 booths</span>
                </div>
            </div>
        </div>
    </div>

    <h2 class="section-title">Quick Actions</h2>

    <div class="action-grid">
        <div class="action-card" onclick="showBoothDetailModal('search')">
            <div class="action-icon">üîç</div>
            <div class="action-title">Search Booth</div>
            <div class="action-desc">Find specific booth</div>
        </div>
        <div class="action-card" onclick="assignCoordinator()">
            <div class="action-icon">üë§</div>
            <div class="action-title">Assign Coordinator</div>
            <div class="action-desc">Booth assignment</div>
        </div>
        <div class="action-card" onclick="updateBoothStatus()">
            <div class="action-icon">‚úèÔ∏è</div>
            <div class="action-title">Update Status</div>
            <div class="action-desc">Booth information</div>
        </div>
        <div class="action-card" onclick="viewVoterLists()">
            <div class="action-icon">üìã</div>
            <div class="action-title">Voter Lists</div>
            <div class="action-desc">Booth-wise lists</div>
        </div>
        <div class="action-card" onclick="generateBoothsReport()">
            <div class="action-icon">üìä</div>
            <div class="action-title">Generate Report</div>
            <div class="action-desc">Complete analysis</div>
        </div>
        <div class="action-card" onclick="exportBoothsData()">
            <div class="action-icon">‚¨áÔ∏è</div>
            <div class="action-title">Export Data</div>
            <div class="action-desc">Download booth data</div>
        </div>
    </div>
</div>

<!-- Modal for Booth Details -->
<div class="modal" id="boothDetailModal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title" id="boothModalTitle">Booth Details</h2>
            <button class="modal-close" onclick="closeBoothModal()">√ó</button>
        </div>
        <div class="modal-body" id="boothModalBody">
            <!-- Content populated by JavaScript -->
        </div>
    </div>
</div>

<!-- Modal for Constituency Booths -->
<div class="modal" id="constituencyBoothsModal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title" id="constituencyBoothsModalTitle">Constituency Booths</h2>
            <button class="modal-close" onclick="closeConstituencyBoothsModal()">√ó</button>
        </div>
        <div class="modal-body" id="constituencyBoothsModalBody">
            <!-- Content populated by JavaScript -->
        </div>
    </div>
</div>

<script>
// Booth Detail Modal Functions
function showBoothDetailModal(type) {
    let title = '';
    let content = '';
    
    switch(type) {
        case 'total':
            title = 'Total Polling Booths - Complete Overview';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">District-wide Booth Infrastructure</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">Total Booths</div>
                            <div class="modal-item-value">3,247</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Constituencies Covered</div>
                            <div class="modal-item-value">28</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Total Registered Voters</div>
                            <div class="modal-item-value">89,00,000</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Avg Voters per Booth</div>
                            <div class="modal-item-value">274</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Booth Distribution Analysis</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Highest booths (Mahadevapura)</span>
                            <span class="detail-value">131 booths</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Lowest booths (Anekal)</span>
                            <span class="detail-value">100 booths</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Average per constituency</span>
                            <span class="detail-value">116 booths</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Booth density (urban core)</span>
                            <span class="detail-value">High - 450+ voters/booth</span>
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case 'sensitive':
            title = 'Sensitive Polling Booths - 187 Locations';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Sensitive Booth Classification</div>
                    <div class="info-box">
                        <div class="info-box-content">
                            Sensitive booths are polling stations identified based on historical voting patterns, communal demographics, previous incidents of poll violence, booth capturing attempts, or areas with higher likelihood of electoral malpractice. These require enhanced security, continuous monitoring, and deployment of additional personnel.
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Statistics & Distribution</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">Total Sensitive Booths</div>
                            <div class="modal-item-value" style="color: #f59e0b;">187</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Percentage of Total</div>
                            <div class="modal-item-value">5.8%</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Security Personnel Required</div>
                            <div class="modal-item-value">374+ officers</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">CCTV Coverage</div>
                            <div class="modal-item-value">100%</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Constituencies with Most Sensitive Booths</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Shivaji Nagar</span>
                            <span class="detail-value">14 sensitive booths</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Pulakeshinagar</span>
                            <span class="detail-value">12 sensitive booths</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Jayanagar</span>
                            <span class="detail-value">9 sensitive booths</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">C.V. Raman Nagar</span>
                            <span class="detail-value">8 sensitive booths</span>
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case 'critical':
            title = 'Critical Polling Booths - 89 High-Risk Locations';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Critical Booth Classification</div>
                    <div class="info-box">
                        <div class="info-box-content">
                            Critical booths represent the highest risk category, identified due to history of serious poll violence, booth capturing, large-scale rigging attempts, communal tensions, or areas with organized criminal elements. These require maximum security deployment, 24/7 CCTV monitoring, micro-observers, and videography teams throughout polling.
                        </div>
                    </info-box>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Security Measures</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">Total Critical Booths</div>
                            <div class="modal-item-value" style="color: #ef4444;">89</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Percentage of Total</div>
                            <div class="modal-item-value">2.7%</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Paramilitary Forces Required</div>
                            <div class="modal-item-value">178+ personnel</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Micro Observers</div>
                            <div class="modal-item-value">89 assigned</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Enhanced Monitoring</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">24/7 CCTV Monitoring</span>
                            <span class="detail-value">100% coverage</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Videography Teams</span>
                            <span class="detail-value">89 teams deployed</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Flying Squads On-Call</span>
                            <span class="detail-value">12 rapid response teams</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Static Surveillance Teams</span>
                            <span class="detail-value">24 teams positioned</span>
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case 'avg-voters':
            title = 'Average Voters per Booth - 274';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Voter Distribution Analysis</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">District Average</div>
                            <div class="modal-item-value">274 voters/booth</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Minimum</div>
                            <div class="modal-item-value">180 voters</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Maximum</div>
                            <div class="modal-item-value">450 voters</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Election Commission Limit</div>
                            <div class="modal-item-value">1,500 voters</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Booth Size Distribution</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Small Booths (180-250 voters)</span>
                            <span class="detail-value">1,247 booths (38.4%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Medium Booths (251-350 voters)</span>
                            <span class="detail-value">1,542 booths (47.5%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Large Booths (351-450 voters)</span>
                            <span class="detail-value">458 booths (14.1%)</span>
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case 'blo':
            title = 'Booth Level Officers (BLOs) - 3,247 Officials';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">BLO Deployment Status</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">Total BLOs</div>
                            <div class="modal-item-value">3,247</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Booths Covered</div>
                            <div class="modal-item-value">100%</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Training Completed</div>
                            <div class="modal-item-value">3,247 (100%)</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Active BLOs</div>
                            <div class="modal-item-value">3,189 (98.2%)</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">BLO Responsibilities</div>
                    <div class="info-box">
                        <div class="info-box-content">
                            <strong>Key Duties:</strong> Voter list updation, booth familiarization visits, voter awareness campaigns, grievance handling, facilitation of EPIC (voter ID) distribution, booth accessibility checks, coordination with election machinery, and submission of regular reports to Assistant Electoral Registration Officers.
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case 'coordinators':
            title = 'IPA Booth Coordinators - 3,247 Team Members';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Coordinator Network</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">Total Coordinators</div>
                            <div class="modal-item-value">3,247</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">One Per Booth Coverage</div>
                            <div class="modal-item-value">100%</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Active Today</div>
                            <div class="modal-item-value">2,847 (87.7%)</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Average Performance</div>
                            <div class="modal-item-value">91.4%</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Coordinator Roles</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Voter Outreach</span>
                            <span class="detail-value">House-to-house campaigns</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Data Collection</span>
                            <span class="detail-value">Voter sentiment analysis</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Event Coordination</span>
                            <span class="detail-value">Local meetings & rallies</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Client Liaison</span>
                            <span class="detail-value">Ground-level feedback</span>
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case 'coverage':
            title = 'Voter List Coverage - 100% Updated';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Voter List Status</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">Last Update</div>
                            <div class="modal-item-value">January 2025</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Booths Updated</div>
                            <div class="modal-item-value">3,247 (100%)</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Total Voters Listed</div>
                            <div class="modal-item-value">89,00,000</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">New Additions (2024-25)</div>
                            <div class="modal-item-value">4,23,000</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Voter List Components</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Electoral Photo Identity Cards</span>
                            <span class="detail-value">87.4% have EPIC</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Digital Voter Lists Available</span>
                            <span class="detail-value">All booths online</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Gender-segregated Lists</span>
                            <span class="detail-value">Complete data</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Age-wise Classification</span>
                            <span class="detail-value">All demographics tagged</span>
                        </div>
                    </div>
                </div>
            `;
            break;
    }
    
    document.getElementById('boothModalTitle').textContent = title;
    document.getElementById('boothModalBody').innerHTML = content;
    document.getElementById('boothDetailModal').classList.add('active');
}

function showBoothCategoryModal(category) {
    let title = '';
    let content = '';
    
    switch(category) {
        case 'normal':
            title = 'Normal Booths - 2,971 Locations (91.5%)';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Normal Booth Characteristics</div>
                    <div class="info-box">
                        <div class="info-box-content">
                            Normal booths are polling stations with no historical record of electoral malpractice, violence, or irregularities. These locations have consistently demonstrated peaceful polling, fair voter turnout, and smooth electoral processes. Standard security and monitoring protocols apply.
                        </div>
                    </info-box>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Statistics</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">Total Normal Booths</div>
                            <div class="modal-item-value">2,971</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Percentage</div>
                            <div class="modal-item-value">91.5%</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Avg Turnout 2023</div>
                            <div class="modal-item-value">72.3%</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Polling Staff Required</div>
                            <div class="modal-item-value">4-5 per booth</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Security Arrangement</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Security Personnel</span>
                            <span class="detail-value">Standard deployment (2-3 per booth)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Monitoring Level</span>
                            <span class="detail-value">Regular checks by sector officers</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">CCTV Coverage</span>
                            <span class="detail-value">Optional but recommended</span>
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case 'sensitive':
            title = 'Sensitive Booths - 187 Locations (5.8%)';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Identification Criteria</div>
                    <div class="info-box">
                        <div class="info-box-content">
                            <strong>Sensitive booths identified based on:</strong><br>
                            ‚Ä¢ Historical voting patterns showing large-scale voting in very short time<br>
                            ‚Ä¢ Areas with communal tensions or potential for caste-based polarization<br>
                            ‚Ä¢ Previous complaints of voter intimidation or booth capturing attempts<br>
                            ‚Ä¢ Close contest margins indicating high stakes<br>
                            ‚Ä¢ Presence of criminal elements or anti-social activities<br>
                            ‚Ä¢ Complaints of poll violence in past elections
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Enhanced Security Measures</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Security Forces</span>
                            <span class="detail-value">Minimum 2 additional personnel per booth</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">CCTV Installation</span>
                            <span class="detail-value">Mandatory live streaming</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Videography</span>
                            <span class="detail-value">Compulsory throughout polling</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Flying Squad Visits</span>
                            <span class="detail-value">Minimum 3-4 surprise checks</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Sector Officer Monitoring</span>
                            <span class="detail-value">Continuous presence required</span>
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case 'critical':
            title = 'Critical Booths - 89 Locations (2.7%)';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Critical Classification Reasons</div>
                    <div class="info-box">
                        <div class="info-box-content">
                            <strong>Critical booth designation due to:</strong><br>
                            ‚Ä¢ History of serious poll violence, murders, or riots during elections<br>
                            ‚Ä¢ Documented booth capturing or mass rigging in previous elections<br>
                            ‚Ä¢ Areas dominated by organized criminal groups or mafia<br>
                            ‚Ä¢ Repeated complaints of large-scale impersonation<br>
                            ‚Ä¢ Active conflict zones with communal/caste tensions<br>
                            ‚Ä¢ Previous deployment of paramilitary forces was insufficient<br>
                            ‚Ä¢ Intelligence reports warning of planned disruption
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Maximum Security Protocol</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Paramilitary Deployment</span>
                            <span class="detail-value">CRPF/BSF companies assigned</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">24/7 CCTV Monitoring</span>
                            <span class="detail-value">Direct feed to District Control Room</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Micro Observers</span>
                            <span class="detail-value">One observer dedicated per booth</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Videography Teams</span>
                            <span class="detail-value">Full-day recording mandatory</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Advance Preparation</span>
                            <span class="detail-value">Forces deployed 48 hours before polling</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Post-Poll Security</span>
                            <span class="detail-value">Forces remain until counting</span>
                        </div>
                    </div>
                </div>
            `;
            break;
    }
    
    document.getElementById('boothModalTitle').textContent = title;
    document.getElementById('boothModalBody').innerHTML = content;
    document.getElementById('boothDetailModal').classList.add('active');
}

function showConstituencyBoothsModal(constituency) {
    const title = constituency + ' - Booth Details';
    const content = `
        <div class="modal-section">
            <div class="modal-section-title">Constituency Overview</div>
            <div class="modal-grid">
                <div class="modal-item">
                    <div class="modal-item-label">Total Booths</div>
                    <div class="modal-item-value">112-118</div>
                </div>
                <div class="modal-item">
                    <div class="modal-item-label">Total Voters</div>
                    <div class="modal-item-value">2.78-2.92 Lakh</div>
                </div>
                <div class="modal-item">
                    <div class="modal-item-label">Sensitive Booths</div>
                    <div class="modal-item-value">5-9 booths</div>
                </div>
                <div class="modal-item">
                    <div class="modal-item-label">BLO Coverage</div>
                    <div class="modal-item-value">100%</div>
                </div>
            </div>
        </div>
        <div class="modal-section">
            <div class="modal-section-title">Sample Booths List</div>
            <div class="table-container">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Booth No.</th>
                            <th>Location</th>
                            <th>Voters</th>
                            <th>Type</th>
                            <th>BLO</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>001</strong></td>
                            <td>Government High School</td>
                            <td>287</td>
                            <td><span class="badge badge-success">Normal</span></td>
                            <td>Assigned</td>
                        </tr>
                        <tr>
                            <td><strong>002</strong></td>
                            <td>Community Hall</td>
                            <td>245</td>
                            <td><span class="badge badge-success">Normal</span></td>
                            <td>Assigned</td>
                        </tr>
                        <tr>
                            <td><strong>003</strong></td>
                            <td>Primary School</td>
                            <td>312</td>
                            <td><span class="badge badge-warning">Sensitive</span></td>
                            <td>Assigned</td>
                        </tr>
                        <tr>
                            <td><strong>004</strong></td>
                            <td>Government College</td>
                            <td>398</td>
                            <td><span class="badge badge-success">Normal</span></td>
                            <td>Assigned</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="modal-section">
            <div class="info-box">
                <div class="info-box-content">
                    Complete booth-wise data available for download. Contact district office for detailed booth mapping, infrastructure reports, and coordinator assignments.
                </div>
            </div>
        </div>
    `;
    
    document.getElementById('constituencyBoothsModalTitle').textContent = title;
    document.getElementById('constituencyBoothsModalBody').innerHTML = content;
    document.getElementById('constituencyBoothsModal').classList.add('active');
}

function closeBoothModal() {
    document.getElementById('boothDetailModal').classList.remove('active');
}

function closeConstituencyBoothsModal() {
    document.getElementById('constituencyBoothsModal').classList.remove('active');
}

// Action Functions
function exportBoothsData() {
    alert('Exporting complete booth data for all 3,247 polling booths...');
}

function generateBoothsReport() {
    alert('Generating comprehensive booth analysis report with infrastructure, security classification, and coordinator assignments...');
}

function filterBoothsByConstituency(value) {
    alert('Filtering booths by: ' + value);
}

function assignCoordinator() {
    alert('Opening coordinator assignment interface...');
}

function updateBoothStatus() {
    alert('Opening booth status update form...');
}

function viewVoterLists() {
    alert('Loading booth-wise voter lists...');
}

// Close modals when clicking outside
document.addEventListener('click', function(e) {
    if (e.target.classList.contains('modal')) {
        e.target.classList.remove('active');
    }
});
</script>
<!-- Enhanced District Clients Section -->
<div id="page-clients" class="page-content">
    <div class="page-header">
        <div class="page-title-row" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
            <h1 class="page-title">District Client Portfolio</h1>
            <div class="page-actions">
                <button class="btn btn-secondary btn-sm" onclick="exportClientsData()">
                    <span>‚¨áÔ∏è</span> Export Data
                </button>
                <button class="btn btn-success btn-sm" onclick="openAddClientModal()">
                    <span>‚ûï</span> New Client
                </button>
            </div>
        </div>
        <p class="page-subtitle">Comprehensive client management for Bengaluru Urban District political consulting services</p>
    </div>

    <div class="info-box">
        <div class="info-box-title">
            <span>üë•</span>
            Client Portfolio Management
        </div>
        <div class="info-box-content">
            <strong>Bengaluru Urban District Client Base:</strong> Managing 18 active political clients across all 28 assembly constituencies with comprehensive campaign management and consulting services. Our district portfolio includes 5 premium clients (‚Çπ35-50 lakh packages), 8 standard clients (‚Çπ18-30 lakh packages), and 5 basic clients (‚Çπ8-15 lakh packages), generating total district revenue of ‚Çπ4.8 crore. Each client receives customized political consulting including strategic campaign planning, field operations management, digital marketing, voter analytics, opposition research, and real-time performance tracking.<br><br>
            <strong>Service Coverage:</strong> End-to-end campaign management from strategy development to election day operations | <strong>Success Rate:</strong> 72% of our clients won their previous elections (13 out of 18 in 2023) | <strong>Average Contract Duration:</strong> 18 months (pre-election preparation to post-election analysis) | <strong>Client Retention:</strong> 89% clients renewed for 2028 elections | <strong>District Ranking:</strong> #1 revenue generator among all 31 Karnataka districts
        </div>
    </div>

    <h2 class="section-title">Client Portfolio Overview</h2>

    <div class="grid grid-4">
        <div class="stat-card" onclick="showClientDetailModal('total')">
            <div class="stat-icon">üë•</div>
            <div class="stat-value">18</div>
            <div class="stat-label">Total Active Clients</div>
            <div class="stat-detail">
                Across 28 constituencies
            </div>
        </div>

        <div class="stat-card" onclick="showClientDetailModal('premium')">
            <div class="stat-icon">üíé</div>
            <div class="stat-value">5</div>
            <div class="stat-label">Premium Clients</div>
            <div class="stat-detail">
                <strong style="color: #10b981;">‚Çπ2.1 Cr</strong> revenue
            </div>
        </div>

        <div class="stat-card" onclick="showClientDetailModal('revenue')">
            <div class="stat-icon">üí∞</div>
            <div class="stat-value">‚Çπ4.8 Cr</div>
            <div class="stat-label">Total District Revenue</div>
            <div class="stat-detail">
                <strong style="color: #10b981;">29.3%</strong> of state revenue
            </div>
        </div>

        <div class="stat-card" onclick="showClientDetailModal('success')">
            <div class="stat-icon">üèÜ</div>
            <div class="stat-value">72%</div>
            <div class="stat-label">Success Rate 2023</div>
            <div class="stat-detail">
                13 out of 18 clients won
            </div>
        </div>
    </div>

    <h2 class="section-title">Client Categories & Service Packages</h2>

    <div class="grid grid-3">
        <div class="card" onclick="showPackageDetailModal('premium')">
            <h3 class="card-title">üíé Premium Package</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Active Clients</span>
                    <span class="detail-value" style="color: #667eea;">5</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Package Value</span>
                    <span class="detail-value">‚Çπ35-50 Lakh</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Revenue Generated</span>
                    <span class="detail-value">‚Çπ2.1 Cr</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Success Rate 2023</span>
                    <span class="detail-value" style="color: #10b981;">80% (4/5)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Size</span>
                    <span class="detail-value">15-20 per client</span>
                </div>
            </div>
            <button class="btn btn-primary btn-sm" style="width: 100%; margin-top: 16px;" onclick="event.stopPropagation(); showPackageDetailModal('premium')">
                View Services ‚Üí
            </button>
        </div>

        <div class="card" onclick="showPackageDetailModal('standard')">
            <h3 class="card-title">‚≠ê Standard Package</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Active Clients</span>
                    <span class="detail-value" style="color: #10b981;">8</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Package Value</span>
                    <span class="detail-value">‚Çπ18-30 Lakh</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Revenue Generated</span>
                    <span class="detail-value">‚Çπ1.9 Cr</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Success Rate 2023</span>
                    <span class="detail-value" style="color: #10b981;">75% (6/8)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Size</span>
                    <span class="detail-value">8-12 per client</span>
                </div>
            </div>
            <button class="btn btn-primary btn-sm" style="width: 100%; margin-top: 16px;" onclick="event.stopPropagation(); showPackageDetailModal('standard')">
                View Services ‚Üí
            </button>
        </div>

        <div class="card" onclick="showPackageDetailModal('basic')">
            <h3 class="card-title">üìã Basic Package</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Active Clients</span>
                    <span class="detail-value" style="color: #f59e0b;">5</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Package Value</span>
                    <span class="detail-value">‚Çπ8-15 Lakh</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Revenue Generated</span>
                    <span class="detail-value">‚Çπ0.8 Cr</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Success Rate 2023</span>
                    <span class="detail-value" style="color: #f59e0b;">60% (3/5)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Size</span>
                    <span class="detail-value">4-6 per client</span>
                </div>
            </div>
            <button class="btn btn-primary btn-sm" style="width: 100%; margin-top: 16px;" onclick="event.stopPropagation(); showPackageDetailModal('basic')">
                View Services ‚Üí
            </button>
        </div>
    </div>

    <h2 class="section-title">Active Client List</h2>

    <div class="card">
        <div class="card-header">
            <h3 class="card-title">18 Active Clients</h3>
            <div style="display: flex; gap: 12px;">
                <select id="packageFilter" onchange="filterClientsByPackage(this.value)" 
                        style="padding: 8px 16px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: white;">
                    <option value="all">All Packages</option>
                    <option value="premium">Premium Only</option>
                    <option value="standard">Standard Only</option>
                    <option value="basic">Basic Only</option>
                </select>
                <select id="partyFilter" onchange="filterClientsByParty(this.value)" 
                        style="padding: 8px 16px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: white;">
                    <option value="all">All Parties</option>
                    <option value="party-a">Party A</option>
                    <option value="party-b">Party B</option>
                    <option value="party-c">Party C</option>
                    <option value="independent">Independent</option>
                </select>
                <input type="text" id="clientSearch" placeholder="Search clients..." 
                       style="padding: 8px 16px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: white; width: 200px;">
            </div>
        </div>
        <div class="table-container">
            <table class="table">
                <thead>
                    <tr>
                        <th>Client Name</th>
                        <th>Constituency</th>
                        <th>Party</th>
                        <th>Package</th>
                        <th>Contract Value</th>
                        <th>Start Date</th>
                        <th>Campaign Status</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="clientsListTable">
                    <tr onclick="showClientProfileModal('rajesh-patel')" style="cursor: pointer;">
                        <td><strong>Rajesh Patel</strong></td>
                        <td>Jayanagar</td>
                        <td>Party A</td>
                        <td><span class="badge badge-success">Premium</span></td>
                        <td><strong>‚Çπ45 L</strong></td>
                        <td>Jan 2024</td>
                        <td><span class="badge badge-success">Active</span></td>
                        <td><button class="btn btn-primary btn-sm" onclick="event.stopPropagation(); showClientProfileModal('rajesh-patel')">View</button></td>
                    </tr>
                    <tr onclick="showClientProfileModal('priya-sharma')" style="cursor: pointer;">
                        <td><strong>Priya Sharma</strong></td>
                        <td>Basavanagudi</td>
                        <td>Party B</td>
                        <td><span class="badge badge-success">Premium</span></td>
                        <td><strong>‚Çπ42 L</strong></td>
                        <td>Feb 2024</td>
                        <td><span class="badge badge-success">Active</span></td>
                        <td><button class="btn btn-primary btn-sm" onclick="event.stopPropagation(); showClientProfileModal('priya-sharma')">View</button></td>
                    </tr>
                    <tr onclick="showClientProfileModal('kumar-swamy')" style="cursor: pointer;">
                        <td><strong>Kumar Swamy</strong></td>
                        <td>Malleshwaram</td>
                        <td>Party A</td>
                        <td><span class="badge badge-warning">Standard</span></td>
                        <td><strong>‚Çπ28 L</strong></td>
                        <td>Jan 2024</td>
                        <td><span class="badge badge-success">Active</span></td>
                        <td><button class="btn btn-primary btn-sm" onclick="event.stopPropagation(); showClientProfileModal('kumar-swamy')">View</button></td>
                    </tr>
                    <tr onclick="showClientProfileModal('deepa-rao')" style="cursor: pointer;">
                        <td><strong>Deepa Rao</strong></td>
                        <td>Rajaji Nagar</td>
                        <td>Party B</td>
                        <td><span class="badge badge-success">Premium</span></td>
                        <td><strong>‚Çπ48 L</strong></td>
                        <td>Dec 2023</td>
                        <td><span class="badge badge-success">Active</span></td>
                        <td><button class="btn btn-primary btn-sm" onclick="event.stopPropagation(); showClientProfileModal('deepa-rao')">View</button></td>
                    </tr>
                    <tr onclick="showClientProfileModal('arun-kumar')" style="cursor: pointer;">
                        <td><strong>Arun Kumar</strong></td>
                        <td>Yeshwanthpur</td>
                        <td>Party A</td>
                        <td><span class="badge badge-warning">Standard</span></td>
                        <td><strong>‚Çπ25 L</strong></td>
                        <td>Mar 2024</td>
                        <td><span class="badge badge-success">Active</span></td>
                        <td><button class="btn btn-primary btn-sm" onclick="event.stopPropagation(); showClientProfileModal('arun-kumar')">View</button></td>
                    </tr>
                    <tr onclick="showClientProfileModal('lakshmi-narayan')" style="cursor: pointer;">
                        <td><strong>Lakshmi Narayan</strong></td>
                        <td>Shivaji Nagar</td>
                        <td>Party C</td>
                        <td><span class="badge badge-primary">Basic</span></td>
                        <td><strong>‚Çπ12 L</strong></td>
                        <td>Feb 2024</td>
                        <td><span class="badge badge-success">Active</span></td>
                        <td><button class="btn btn-primary btn-sm" onclick="event.stopPropagation(); showClientProfileModal('lakshmi-narayan')">View</button></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <h2 class="section-title">Client Services & Deliverables</h2>

    <div class="grid grid-2">
        <div class="card">
            <h3 class="card-title">üì¢ Campaign Management Services</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Strategic Planning</span>
                    <span class="detail-value">All packages</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Field Operations</span>
                    <span class="detail-value">Standard & Premium</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Digital Campaigns</span>
                    <span class="detail-value">All packages</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Event Management</span>
                    <span class="detail-value">Standard & Premium</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Media Relations</span>
                    <span class="detail-value">Premium only</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Crisis Management</span>
                    <span class="detail-value">Premium only</span>
                </div>
            </div>
        </div>

        <div class="card">
            <h3 class="card-title">üìä Analytics & Research</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Voter Database Access</span>
                    <span class="detail-value">All packages</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Opinion Polls</span>
                    <span class="detail-value">Standard & Premium</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Sentiment Analysis</span>
                    <span class="detail-value">Standard & Premium</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Opposition Research</span>
                    <span class="detail-value">Premium only</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Booth-wise Analysis</span>
                    <span class="detail-value">Premium only</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Real-time Tracking</span>
                    <span class="detail-value">Premium only</span>
                </div>
            </div>
        </div>
    </div>

    <h2 class="section-title">Client Performance & Success Metrics</h2>

    <div class="grid grid-3">
        <div class="card">
            <h3 class="card-title">üèÜ 2023 Election Results</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Total Clients (2023)</span>
                    <span class="detail-value">18</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Clients Won</span>
                    <span class="detail-value" style="color: #10b981;">13 (72.2%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Clients Lost</span>
                    <span class="detail-value" style="color: #ef4444;">5 (27.8%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Average Victory Margin</span>
                    <span class="detail-value">8,247 votes</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Highest Margin (Rajesh Patel)</span>
                    <span class="detail-value">24,567 votes</span>
                </div>
            </div>
        </div>

        <div class="card">
            <h3 class="card-title">üìà Campaign Performance</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Avg Digital Reach</span>
                    <span class="detail-value">1.8M per client</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Avg Houses Covered</span>
                    <span class="detail-value">12,400 per constituency</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Avg Events Conducted</span>
                    <span class="detail-value">47 per client</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Avg Volunteers Mobilized</span>
                    <span class="detail-value">247 per client</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Client Satisfaction Score</span>
                    <span class="detail-value" style="color: #10b981;">4.6/5.0</span>
                </div>
            </div>
        </div>

        <div class="card">
            <h3 class="card-title">üíº Business Metrics</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Client Retention Rate</span>
                    <span class="detail-value" style="color: #10b981;">89%</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Referral Rate</span>
                    <span class="detail-value">67% (12 clients)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Avg Contract Duration</span>
                    <span class="detail-value">18 months</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Payment Collection Rate</span>
                    <span class="detail-value" style="color: #10b981;">94%</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Upsell Success Rate</span>
                    <span class="detail-value">56%</span>
                </div>
            </div>
        </div>
    </div>

    <h2 class="section-title">Quick Actions</h2>

    <div class="action-grid">
        <div class="action-card" onclick="openAddClientModal()">
            <div class="action-icon">‚ûï</div>
            <div class="action-title">Add New Client</div>
            <div class="action-desc">Register politician</div>
        </div>
        <div class="action-card" onclick="scheduleClientMeeting()">
            <div class="action-icon">üìÖ</div>
            <div class="action-title">Schedule Meeting</div>
            <div class="action-desc">Client consultation</div>
        </div>
        <div class="action-card" onclick="generateClientReport()">
            <div class="action-icon">üìä</div>
            <div class="action-title">Client Reports</div>
            <div class="action-desc">Performance analysis</div>
        </div>
        <div class="action-card" onclick="viewContracts()">
            <div class="action-icon">üìÑ</div>
            <div class="action-title">View Contracts</div>
            <div class="action-desc">Legal documents</div>
        </div>
        <div class="action-card" onclick="trackPayments()">
            <div class="action-icon">üí≥</div>
            <div class="action-title">Track Payments</div>
            <div class="action-desc">Financial status</div>
        </div>
        <div class="action-card" onclick="exportClientsData()">
            <div class="action-icon">‚¨áÔ∏è</div>
            <div class="action-title">Export Data</div>
            <div class="action-desc">Download reports</div>
        </div>
    </div>
</div>

<!-- Modal for Client Details -->
<div class="modal" id="clientDetailModal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title" id="clientModalTitle">Client Details</h2>
            <button class="modal-close" onclick="closeClientModal()">√ó</button>
        </div>
        <div class="modal-body" id="clientModalBody">
            <!-- Content populated by JavaScript -->
        </div>
    </div>
</div>

<!-- Modal for Package Details -->
<div class="modal" id="packageDetailModal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title" id="packageModalTitle">Package Details</h2>
            <button class="modal-close" onclick="closePackageModal()">√ó</button>
        </div>
        <div class="modal-body" id="packageModalBody">
            <!-- Content populated by JavaScript -->
        </div>
    </div>
</div>

<!-- Modal for Client Profile -->
<div class="modal" id="clientProfileModal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title" id="clientProfileModalTitle">Client Profile</h2>
            <button class="modal-close" onclick="closeClientProfileModal()">√ó</button>
        </div>
        <div class="modal-body" id="clientProfileModalBody">
            <!-- Content populated by JavaScript -->
        </div>
    </div>
</div>

<script>
// Client Detail Modal Functions
function showClientDetailModal(type) {
    let title = '';
    let content = '';
    
    switch(type) {
        case 'total':
            title = 'Total Active Clients - 18 Politicians';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Client Portfolio Overview</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">Total Active Clients</div>
                            <div class="modal-item-value">18</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Constituencies Covered</div>
                            <div class="modal-item-value">18 out of 28</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Total Contract Value</div>
                            <div class="modal-item-value">‚Çπ4.8 Crore</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Average Contract</div>
                            <div class="modal-item-value">‚Çπ26.7 Lakh</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Client Distribution</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Party A Clients</span>
                            <span class="detail-value">8 clients (44.4%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Party B Clients</span>
                            <span class="detail-value">6 clients (33.3%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Party C Clients</span>
                            <span class="detail-value">3 clients (16.7%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Independent Clients</span>
                            <span class="detail-value">1 client (5.6%)</span>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Contract Timeline</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Contracts signed in 2023</span>
                            <span class="detail-value">3 clients</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Contracts signed in 2024</span>
                            <span class="detail-value">12 clients</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Renewals from 2023 election</span>
                            <span class="detail-value">16 clients (89%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Expected contracts 2025</span>
                            <span class="detail-value">6-8 new clients</span>
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case 'premium':
            title = 'Premium Clients - 5 High-Value Accounts';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Premium Package Overview</div>
                    <div class="info-box">
                        <div class="info-box-content">
                            Premium package clients receive our most comprehensive political consulting services with dedicated teams of 15-20 professionals per client, including campaign managers, field coordinators, digital specialists, data analysts, and media consultants. These clients represent high-profile constituencies with intense competition and require maximum resource deployment.
                        </div>
                    </info-box>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Premium Client Statistics</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">Total Premium Clients</div>
                            <div class="modal-item-value">5</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Average Package Value</div>
                            <div class="modal-item-value">‚Çπ42 Lakh</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Total Revenue</div>
                            <div class="modal-item-value">‚Çπ2.1 Crore</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Success Rate 2023</div>
                            <div class="modal-item-value" style="color: #10b981;">80%</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Premium Services Included</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Dedicated Campaign Manager</span>
                            <span class="detail-value">Full-time, exclusive</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Field Team</span>
                            <span class="detail-value">12-15 coordinators</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Digital Marketing</span>
                            <span class="detail-value">Comprehensive social media management</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Data Analytics</span>
                            <span class="detail-value">Real-time booth-level tracking</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Opposition Research</span>
                            <span class="detail-value">Dedicated intelligence team</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Media Management</span>
                            <span class="detail-value">Press releases, interviews, crisis PR</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Event Management</span>
                            <span class="detail-value">50+ rallies/meetings organized</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">24/7 Support</span>
                            <span class="detail-value">Emergency response team</span>
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case 'revenue':
            title = 'District Revenue - ‚Çπ4.8 Crore Total';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Revenue Breakdown</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">Premium Packages</div>
                            <div class="modal-item-value">‚Çπ2.1 Cr (43.8%)</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Standard Packages</div>
                            <div class="modal-item-value">‚Çπ1.9 Cr (39.6%)</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Basic Packages</div>
                            <div class="modal-item-value">‚Çπ0.8 Cr (16.6%)</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">State Contribution</div>
                            <div class="modal-item-value">29.3% of ‚Çπ16.4 Cr</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Financial Performance</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Revenue Collected (2024-25)</span>
                            <span class="detail-value">‚Çπ4.52 Cr (94%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Revenue Pending</span>
                            <span class="detail-value">‚Çπ0.28 Cr (6%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Operational Expenses</span>
                            <span class="detail-value">‚Çπ3.2 Cr (66.7%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">District Profit Margin</span>
                            <span class="detail-value">‚Çπ1.6 Cr (33.3%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Projected Revenue 2025-26</span>
                            <span class="detail-value">‚Çπ6.2 Cr (growth 29%)</span>
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case 'success':
            title = 'Success Rate - 72% Client Victory Rate';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">2023 Election Performance</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">Total Clients (2023)</div>
                            <div class="modal-item-value">18</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Clients Won</div>
                            <div class="modal-item-value" style="color: #10b981;">13</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Clients Lost</div>
                            <div class="modal-item-value" style="color: #ef4444;">5</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Success Rate</div>
                            <div class="modal-item-value" style="color: #10b981;">72.2%</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Success by Package Type</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Premium Package Success</span>
                            <span class="detail-value" style="color: #10b981;">80% (4 out of 5)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Standard Package Success</span>
                            <span class="detail-value" style="color: #10b981;">75% (6 out of 8)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Basic Package Success</span>
                            <span class="detail-value" style="color: #f59e0b;">60% (3 out of 5)</span>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Victory Margins Analysis</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Average Victory Margin</span>
                            <span class="detail-value">8,247 votes</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Highest Margin (Rajesh Patel)</span>
                            <span class="detail-value">24,567 votes</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Closest Win</span>
                            <span class="detail-value">1,234 votes</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Wins by >10,000 margin</span>
                            <span class="detail-value">7 clients (54%)</span>
                        </div>
                    </div>
                </div>
            `;
            break;
    }
    
    document.getElementById('clientModalTitle').textContent = title;
    document.getElementById('clientModalBody').innerHTML = content;
    document.getElementById('clientDetailModal').classList.add('active');
}

function showPackageDetailModal(packageType) {
    let title = '';
    let content = '';
    
    switch(packageType) {
        case 'premium':
            title = 'Premium Package - Complete Service Details';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Package Value & Investment</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">Package Range</div>
                            <div class="modal-item-value">‚Çπ35-50 Lakh</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Average Contract</div>
                            <div class="modal-item-value">‚Çπ42 Lakh</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Contract Duration</div>
                            <div class="modal-item-value">18-24 months</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Team Size</div>
                            <div class="modal-item-value">15-20 professionals</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Complete Service List</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">1. Strategic Campaign Planning</span>
                            <span class="detail-value">Comprehensive roadmap</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">2. Dedicated Campaign Manager</span>
                            <span class="detail-value">Full-time senior executive</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">3. Field Operations Team</span>
                            <span class="detail-value">12-15 coordinators + volunteers</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">4. Complete Digital Marketing</span>
                            <span class="detail-value">Social media, website, content creation</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">5. Data Analytics & Research</span>
                            <span class="detail-value">Booth-level tracking, voter analysis</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">6. Opposition Research</span>
                            <span class="detail-value">Intelligence gathering & analysis</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">7. Media Management</span>
                            <span class="detail-value">PR, press releases, crisis management</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">8. Event Management</span>
                            <span class="detail-value">50+ rallies, meetings, door-to-door</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">9. Opinion Polls & Surveys</span>
                            <span class="detail-value">Monthly tracking surveys</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">10. Volunteer Management</span>
                            <span class="detail-value">Recruitment, training, coordination</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">11. Content Creation</span>
                            <span class="detail-value">Videos, graphics, speeches</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">12. 24/7 Support</span>
                            <span class="detail-value">Emergency response team</span>
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case 'standard':
            title = 'Standard Package - Service Details';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Package Value & Investment</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">Package Range</div>
                            <div class="modal-item-value">‚Çπ18-30 Lakh</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Average Contract</div>
                            <div class="modal-item-value">‚Çπ24 Lakh</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Contract Duration</div>
                            <div class="modal-item-value">12-18 months</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Team Size</div>
                            <div class="modal-item-value">8-12 professionals</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Service List</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">1. Campaign Strategy</span>
                            <span class="detail-value">Core planning & roadmap</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">2. Shared Campaign Manager</span>
                            <span class="detail-value">Manages 2-3 clients</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">3. Field Team</span>
                            <span class="detail-value">6-8 coordinators</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">4. Digital Marketing</span>
                            <span class="detail-value">Social media management</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">5. Voter Data Access</span>
                            <span class="detail-value">Database & basic analytics</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">6. Event Support</span>
                            <span class="detail-value">25-30 events organized</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">7. Opinion Polls</span>
                            <span class="detail-value">Quarterly surveys</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">8. Content Creation</span>
                            <span class="detail-value">Basic graphics & posts</span>
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case 'basic':
            title = 'Basic Package - Service Details';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Package Value & Investment</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">Package Range</div>
                            <div class="modal-item-value">‚Çπ8-15 Lakh</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Average Contract</div>
                            <div class="modal-item-value">‚Çπ11.5 Lakh</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Contract Duration</div>
                            <div class="modal-item-value">6-12 months</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Team Size</div>
                            <div class="modal-item-value">4-6 professionals</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Service List</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">1. Basic Campaign Strategy</span>
                            <span class="detail-value">Initial planning consultation</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">2. Consulting Support</span>
                            <span class="detail-value">Monthly check-ins</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">3. Small Field Team</span>
                            <span class="detail-value">3-4 part-time coordinators</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">4. Social Media Setup</span>
                            <span class="detail-value">Page creation & basic posts</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">5. Voter List Access</span>
                            <span class="detail-value">Database provided</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">6. Event Guidance</span>
                            <span class="detail-value">Planning support (10-15 events)</span>
                        </div>
                    </div>
                </div>
            `;
            break;
    }
    
    document.getElementById('packageModalTitle').textContent = title;
    document.getElementById('packageModalBody').innerHTML = content;
    document.getElementById('packageDetailModal').classList.add('active');
}

function showClientProfileModal(clientId) {
    const title = 'Client Profile - Detailed Information';
    const content = `
        <div class="modal-section">
            <div class="modal-section-title">Client Overview</div>
            <div class="modal-grid">
                <div class="modal-item">
                    <div class="modal-item-label">Client Name</div>
                    <div class="modal-item-value">Rajesh Patel</div>
                </div>
                <div class="modal-item">
                    <div class="modal-item-label">Constituency</div>
                    <div class="modal-item-value">Jayanagar</div>
                </div>
                <div class="modal-item">
                    <div class="modal-item-label">Political Party</div>
                    <div class="modal-item-value">Party A</div>
                </div>
                <div class="modal-item">
                    <div class="modal-item-label">Package</div>
                    <div class="modal-item-value">Premium</div>
                </div>
            </div>
        </div>
        <div class="modal-section">
            <div class="modal-section-title">Contract Details</div>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Contract Value</span>
                    <span class="detail-value">‚Çπ45 Lakh</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Contract Start</span>
                    <span class="detail-value">January 15, 2024</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Contract End</span>
                    <span class="detail-value">June 30, 2025</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Amount Paid</span>
                    <span class="detail-value">‚Çπ42 Lakh (93.3%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Amount Pending</span>
                    <span class="detail-value">‚Çπ3 Lakh (6.7%)</span>
                </div>
            </div>
        </div>
        <div class="modal-section">
            <div class="modal-section-title">Campaign Performance</div>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Digital Reach</span>
                    <span class="detail-value">2.4M impressions</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Houses Covered</span>
                    <span class="detail-value">14,247 (65%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Events Conducted</span>
                    <span class="detail-value">52 rallies/meetings</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Assigned</span>
                    <span class="detail-value">18 professionals</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">2023 Result</span>
                    <span class="detail-value" style="color: #10b981;">Won by 24,567 votes</span>
                </div>
            </div>
        </div>
    `;
    
    document.getElementById('clientProfileModalTitle').textContent = title;
    document.getElementById('clientProfileModalBody').innerHTML = content;
    document.getElementById('clientProfileModal').classList.add('active');
}

function closeClientModal() {
    document.getElementById('clientDetailModal').classList.remove('active');
}

function closePackageModal() {
    document.getElementById('packageDetailModal').classList.remove('active');
}

function closeClientProfileModal() {
    document.getElementById('clientProfileModal').classList.remove('active');
}

// Action Functions
function exportClientsData() {
    alert('Exporting complete client data with contracts, performance metrics, and financial details...');
}

function openAddClientModal() {
    alert('Opening new client registration form...');
}

function filterClientsByPackage(value) {
    alert('Filtering clients by package: ' + value);
}

function filterClientsByParty(value) {
    alert('Filtering clients by party: ' + value);
}

function scheduleClientMeeting() {
    alert('Opening meeting scheduler...');
}

function generateClientReport() {
    alert('Generating comprehensive client performance reports...');
}

function viewContracts() {
    alert('Loading contract documents...');
}

function trackPayments() {
    alert('Opening payment tracking dashboard...');
}

// Close modals when clicking outside
document.addEventListener('click', function(e) {
    if (e.target.classList.contains('modal')) {
        e.target.classList.remove('active');
    }
});
</script>


<!-- Enhanced Active Campaigns Section -->
<div id="page-campaigns" class="page-content">
    <div class="page-header">
        <div class="page-title-row" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
            <h1 class="page-title">Campaign Management Center</h1>
            <div class="page-actions">
                <button class="btn btn-secondary btn-sm" onclick="exportCampaignsData()">
                    <span>‚¨áÔ∏è</span> Export Data
                </button>
                <button class="btn btn-success btn-sm" onclick="openNewCampaignModal()">
                    <span>‚ûï</span> New Campaign
                </button>
            </div>
        </div>
        <p class="page-subtitle">Real-time tracking and management of all active campaigns across Bengaluru Urban District</p>
    </div>

    <div class="info-box">
        <div class="info-box-title">
            <span>üì¢</span>
            Campaign Operations Overview
        </div>
        <div class="info-box-content">
            <strong>Active Campaign Portfolio:</strong> Managing 12 simultaneous political campaigns across digital, field, and traditional media channels for 18 clients in Bengaluru Urban District. Our integrated campaign approach combines social media marketing (Facebook, Twitter, Instagram, WhatsApp), ground-level field operations (door-to-door canvassing, booth-level meetings, community engagement), and traditional outreach (print media, hoardings, rallies, public meetings). Each campaign is customized based on constituency demographics, client budget, and electoral strategy.<br><br>
            <strong>Current Performance Metrics:</strong> Total reach: 8.2 million voters | Houses covered: 34,567 (3.9% of district) | Digital engagement rate: 4.7% | Active field team members: 189 across all campaigns | Events conducted this month: 47 rallies and meetings | Average campaign duration: 14 months | Budget utilization: 67% of allocated ‚Çπ1.8 crore | Real-time sentiment tracking across all 28 constituencies with daily reports
        </div>
    </div>

    <h2 class="section-title">Campaign Statistics Overview</h2>

    <div class="grid grid-4">
        <div class="stat-card" onclick="showCampaignDetailModal('total')">
            <div class="stat-icon">üì¢</div>
            <div class="stat-value">12</div>
            <div class="stat-label">Active Campaigns</div>
            <div class="stat-detail">
                For 18 district clients
            </div>
        </div>

        <div class="stat-card" onclick="showCampaignDetailModal('reach')">
            <div class="stat-icon">üëÅÔ∏è</div>
            <div class="stat-value">8.2M</div>
            <div class="stat-label">Total Reach</div>
            <div class="stat-detail">
                <strong style="color: #10b981;">+23%</strong> from last month
            </div>
        </div>

        <div class="stat-card" onclick="showCampaignDetailModal('budget')">
            <div class="stat-icon">üí∞</div>
            <div class="stat-value">‚Çπ1.8 Cr</div>
            <div class="stat-label">Campaign Budgets</div>
            <div class="stat-detail">
                <strong style="color: #10b981;">67%</strong> utilized
            </div>
        </div>

        <div class="stat-card" onclick="showCampaignDetailModal('engagement')">
            <div class="stat-icon">üìä</div>
            <div class="stat-value">4.7%</div>
            <div class="stat-label">Avg Engagement Rate</div>
            <div class="stat-detail">
                Above industry standard (3.2%)
            </div>
        </div>
    </div>

    <h2 class="section-title">Campaign Types & Distribution</h2>

    <div class="grid grid-3">
        <div class="card" onclick="showCampaignTypeModal('digital')">
            <h3 class="card-title">üíª Digital Campaigns</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Active Campaigns</span>
                    <span class="detail-value" style="color: #667eea;">8</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Total Reach</span>
                    <span class="detail-value">6.4M users</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Engagement Rate</span>
                    <span class="detail-value">5.2%</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Budget Allocated</span>
                    <span class="detail-value">‚Çπ72 Lakh</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Content Published</span>
                    <span class="detail-value">1,247 posts</span>
                </div>
            </div>
            <button class="btn btn-primary btn-sm" style="width: 100%; margin-top: 16px;" onclick="event.stopPropagation(); showCampaignTypeModal('digital')">
                View Campaigns ‚Üí
            </button>
        </div>

        <div class="card" onclick="showCampaignTypeModal('field')">
            <h3 class="card-title">üö∂ Field Campaigns</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Active Operations</span>
                    <span class="detail-value" style="color: #10b981;">10</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Houses Covered</span>
                    <span class="detail-value">34,567</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Field Team Size</span>
                    <span class="detail-value">189 members</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Budget Allocated</span>
                    <span class="detail-value">‚Çπ84 Lakh</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Voter Contacts</span>
                    <span class="detail-value">1.2M direct</span>
                </div>
            </div>
            <button class="btn btn-primary btn-sm" style="width: 100%; margin-top: 16px;" onclick="event.stopPropagation(); showCampaignTypeModal('field')">
                View Operations ‚Üí
            </button>
        </div>

        <div class="card" onclick="showCampaignTypeModal('traditional')">
            <h3 class="card-title">üì∫ Traditional Media</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Active Campaigns</span>
                    <span class="detail-value" style="color: #f59e0b;">6</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Print Ads Published</span>
                    <span class="detail-value">247 insertions</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Hoardings/Banners</span>
                    <span class="detail-value">342 locations</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Budget Allocated</span>
                    <span class="detail-value">‚Çπ44 Lakh</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Estimated Reach</span>
                    <span class="detail-value">3.8M viewers</span>
                </div>
            </div>
            <button class="btn btn-primary btn-sm" style="width: 100%; margin-top: 16px;" onclick="event.stopPropagation(); showCampaignTypeModal('traditional')">
                View Media ‚Üí
            </button>
        </div>
    </div>

    <h2 class="section-title">Active Campaign List</h2>

    <div class="card">
        <div class="card-header">
            <h3 class="card-title">12 Running Campaigns</h3>
            <div style="display: flex; gap: 12px;">
                <select id="campaignTypeFilter" onchange="filterCampaignsByType(this.value)" 
                        style="padding: 8px 16px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: white;">
                    <option value="all">All Types</option>
                    <option value="digital">Digital Only</option>
                    <option value="field">Field Only</option>
                    <option value="traditional">Traditional Only</option>
                    <option value="integrated">Integrated</option>
                </select>
                <select id="campaignStatusFilter" onchange="filterCampaignsByStatus(this.value)" 
                        style="padding: 8px 16px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: white;">
                    <option value="all">All Status</option>
                    <option value="active">Active</option>
                    <option value="paused">Paused</option>
                    <option value="planning">Planning</option>
                </select>
                <input type="text" id="campaignSearch" placeholder="Search campaigns..." 
                       style="padding: 8px 16px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: white; width: 200px;">
            </div>
        </div>
        <div class="table-container">
            <table class="table">
                <thead>
                    <tr>
                        <th>Campaign Name</th>
                        <th>Client</th>
                        <th>Type</th>
                        <th>Start Date</th>
                        <th>Duration</th>
                        <th>Reach/Coverage</th>
                        <th>Budget</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="campaignsListTable">
                    <tr onclick="showCampaignProfileModal('youth-connect')" style="cursor: pointer;">
                        <td><strong>Youth Connect 2028</strong></td>
                        <td>Rajesh Patel</td>
                        <td><span class="badge badge-primary">Digital</span></td>
                        <td>Jan 2025</td>
                        <td>12 months</td>
                        <td>1.8M reach</td>
                        <td><strong>‚Çπ18 L</strong></td>
                        <td><span class="badge badge-success">Active</span></td>
                        <td><button class="btn btn-primary btn-sm" onclick="event.stopPropagation(); showCampaignProfileModal('youth-connect')">View</button></td>
                    </tr>
                    <tr onclick="showCampaignProfileModal('door-to-door')" style="cursor: pointer;">
                        <td><strong>Door-to-Door Outreach</strong></td>
                        <td>Priya Sharma</td>
                        <td><span class="badge badge-success">Field</span></td>
                        <td>Dec 2024</td>
                        <td>14 months</td>
                        <td>8,947 houses</td>
                        <td><strong>‚Çπ12 L</strong></td>
                        <td><span class="badge badge-success">Active</span></td>
                        <td><button class="btn btn-primary btn-sm" onclick="event.stopPropagation(); showCampaignProfileModal('door-to-door')">View</button></td>
                    </tr>
                    <tr onclick="showCampaignProfileModal('social-media-blitz')" style="cursor: pointer;">
                        <td><strong>Social Media Blitz</strong></td>
                        <td>Kumar Swamy</td>
                        <td><span class="badge badge-primary">Digital</span></td>
                        <td>Feb 2025</td>
                        <td>10 months</td>
                        <td>1.2M reach</td>
                        <td><strong>‚Çπ14 L</strong></td>
                        <td><span class="badge badge-success">Active</span></td>
                        <td><button class="btn btn-primary btn-sm" onclick="event.stopPropagation(); showCampaignProfileModal('social-media-blitz')">View</button></td>
                    </tr>
                    <tr onclick="showCampaignProfileModal('grassroots-movement')" style="cursor: pointer;">
                        <td><strong>Grassroots Movement</strong></td>
                        <td>Deepa Rao</td>
                        <td><span class="badge badge-success">Field</span></td>
                        <td>Nov 2024</td>
                        <td>16 months</td>
                        <td>12,450 houses</td>
                        <td><strong>‚Çπ22 L</strong></td>
                        <td><span class="badge badge-success">Active</span></td>
                        <td><button class="btn btn-primary btn-sm" onclick="event.stopPropagation(); showCampaignProfileModal('grassroots-movement')">View</button></td>
                    </tr>
                    <tr onclick="showCampaignProfileModal('visual-impact')" style="cursor: pointer;">
                        <td><strong>Visual Impact Campaign</strong></td>
                        <td>Arun Kumar</td>
                        <td><span class="badge badge-warning">Traditional</span></td>
                        <td>Jan 2025</td>
                        <td>8 months</td>
                        <td>2.1M impressions</td>
                        <td><strong>‚Çπ16 L</strong></td>
                        <td><span class="badge badge-success">Active</span></td>
                        <td><button class="btn btn-primary btn-sm" onclick="event.stopPropagation(); showCampaignProfileModal('visual-impact')">View</button></td>
                    </tr>
                    <tr onclick="showCampaignProfileModal('community-first')" style="cursor: pointer;">
                        <td><strong>Community First Initiative</strong></td>
                        <td>Lakshmi Narayan</td>
                        <td><span class="badge badge-success">Field</span></td>
                        <td>Mar 2025</td>
                        <td>9 months</td>
                        <td>4,234 houses</td>
                        <td><strong>‚Çπ8 L</strong></td>
                        <td><span class="badge badge-success">Active</span></td>
                        <td><button class="btn btn-primary btn-sm" onclick="event.stopPropagation(); showCampaignProfileModal('community-first')">View</button></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <h2 class="section-title">Campaign Performance Metrics</h2>

    <div class="grid grid-2">
        <div class="card">
            <h3 class="card-title">üìä Digital Campaign Analytics</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Total Impressions</span>
                    <span class="detail-value">12.4M</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Total Engagements</span>
                    <span class="detail-value">582K (4.7%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Facebook Reach</span>
                    <span class="detail-value">4.2M users</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Twitter Impressions</span>
                    <span class="detail-value">2.8M tweets</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Instagram Reach</span>
                    <span class="detail-value">1.8M users</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">WhatsApp Groups</span>
                    <span class="detail-value">347 groups, 28K members</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Content Created</span>
                    <span class="detail-value">1,247 posts/videos</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Cost per Engagement</span>
                    <span class="detail-value">‚Çπ12.37</span>
                </div>
            </div>
        </div>

        <div class="card">
            <h3 class="card-title">üö∂ Field Operations Performance</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Total Houses Covered</span>
                    <span class="detail-value">34,567</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Direct Voter Contacts</span>
                    <span class="detail-value">1.2M interactions</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Active Field Staff</span>
                    <span class="detail-value">189 members</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Booth Meetings Held</span>
                    <span class="detail-value">427 meetings</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Community Events</span>
                    <span class="detail-value">47 this month</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Volunteer Network</span>
                    <span class="detail-value">1,847 volunteers</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Constituency Coverage</span>
                    <span class="detail-value">18 out of 28</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Avg Daily Contacts</span>
                    <span class="detail-value">4,247 voters</span>
                </div>
            </div>
        </div>
    </div>

    <h2 class="section-title">Budget Allocation & Utilization</h2>

    <div class="grid grid-3">
        <div class="card">
            <h3 class="card-title">üí∞ Budget Overview</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Total Allocated</span>
                    <span class="detail-value">‚Çπ1.8 Crore</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Amount Spent</span>
                    <span class="detail-value" style="color: #10b981;">‚Çπ1.21 Cr (67%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Remaining Budget</span>
                    <span class="detail-value">‚Çπ59 Lakh (33%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Budget Efficiency</span>
                    <span class="detail-value">92% on-target</span>
                </div>
            </div>
        </div>

        <div class="card">
            <h3 class="card-title">üìà Spending by Category</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Digital Marketing</span>
                    <span class="detail-value">‚Çπ48 L (40%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Field Operations</span>
                    <span class="detail-value">‚Çπ56 L (46%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Traditional Media</span>
                    <span class="detail-value">‚Çπ17 L (14%)</span>
                </div>
            </div>
        </div>

        <div class="card">
            <h3 class="card-title">üéØ ROI Metrics</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Cost per Voter Reach</span>
                    <span class="detail-value">‚Çπ14.76</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Cost per Engagement</span>
                    <span class="detail-value">‚Çπ207.90</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Expected Vote Share Gain</span>
                    <span class="detail-value" style="color: #10b981;">+3.2%</span>
                </div>
            </div>
        </div>
    </div>

    <h2 class="section-title">Campaign Timeline & Milestones</h2>

    <div class="card">
        <h3 class="card-title">üìÖ Key Campaign Phases</h3>
        <div class="detail-box">
            <div class="detail-row">
                <span class="detail-label">Phase 1: Planning & Setup (Completed)</span>
                <span class="detail-value">Nov 2024 - Dec 2024</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Phase 2: Brand Building (Current)</span>
                <span class="detail-value" style="color: #10b981;">Jan 2025 - Apr 2025</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Phase 3: Intensive Outreach</span>
                <span class="detail-value">May 2025 - Aug 2025</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Phase 4: Final Push</span>
                <span class="detail-value">Sep 2025 - Dec 2025</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Phase 5: Election Sprint</span>
                <span class="detail-value">Jan 2028 - May 2028</span>
            </div>
        </div>
    </div>

    <h2 class="section-title">Quick Actions</h2>

    <div class="action-grid">
        <div class="action-card" onclick="openNewCampaignModal()">
            <div class="action-icon">‚ûï</div>
            <div class="action-title">New Campaign</div>
            <div class="action-desc">Launch new initiative</div>
        </div>
        <div class="action-card" onclick="viewCampaignCalendar()">
            <div class="action-icon">üìÖ</div>
            <div class="action-title">Campaign Calendar</div>
            <div class="action-desc">View schedule</div>
        </div>
        <div class="action-card" onclick="generateCampaignReport()">
            <div class="action-icon">üìä</div>
            <div class="action-title">Analytics Report</div>
            <div class="action-desc">Performance data</div>
        </div>
        <div class="action-card" onclick="manageBudget()">
            <div class="action-icon">üí∞</div>
            <div class="action-title">Budget Manager</div>
            <div class="action-desc">Track spending</div>
        </div>
        <div class="action-card" onclick="viewContentLibrary()">
            <div class="action-icon">üìÅ</div>
            <div class="action-title">Content Library</div>
            <div class="action-desc">Assets & media</div>
        </div>
        <div class="action-card" onclick="exportCampaignsData()">
            <div class="action-icon">‚¨áÔ∏è</div>
            <div class="action-title">Export Data</div>
            <div class="action-desc">Download reports</div>
        </div>
    </div>
</div>

<!-- Modal for Campaign Details -->
<div class="modal" id="campaignDetailModal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title" id="campaignModalTitle">Campaign Details</h2>
            <button class="modal-close" onclick="closeCampaignModal()">√ó</button>
        </div>
        <div class="modal-body" id="campaignModalBody">
            <!-- Content populated by JavaScript -->
        </div>
    </div>
</div>

<!-- Modal for Campaign Type Details -->
<div class="modal" id="campaignTypeModal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title" id="campaignTypeModalTitle">Campaign Type</h2>
            <button class="modal-close" onclick="closeCampaignTypeModal()">√ó</button>
        </div>
        <div class="modal-body" id="campaignTypeModalBody">
            <!-- Content populated by JavaScript -->
        </div>
    </div>
</div>

<!-- Modal for Campaign Profile -->
<div class="modal" id="campaignProfileModal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title" id="campaignProfileModalTitle">Campaign Profile</h2>
            <button class="modal-close" onclick="closeCampaignProfileModal()">√ó</button>
        </div>
        <div class="modal-body" id="campaignProfileModalBody">
            <!-- Content populated by JavaScript -->
        </div>
    </div>
</div>

<script>
// Campaign Detail Modal Functions
function showCampaignDetailModal(type) {
    let title = '';
    let content = '';
    
    switch(type) {
        case 'total':
            title = 'Total Active Campaigns - 12 Running';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Campaign Portfolio Overview</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">Total Active Campaigns</div>
                            <div class="modal-item-value">12</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Clients Covered</div>
                            <div class="modal-item-value">18 politicians</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Campaign Types</div>
                            <div class="modal-item-value">Digital, Field, Traditional</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Avg Duration</div>
                            <div class="modal-item-value">14 months</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Campaign Distribution</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Digital Campaigns</span>
                            <span class="detail-value">8 campaigns (66.7%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Field Operations</span>
                            <span class="detail-value">10 campaigns (83.3%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Traditional Media</span>
                            <span class="detail-value">6 campaigns (50%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Integrated Campaigns</span>
                            <span class="detail-value">4 (all three channels)</span>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Timeline Status</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Launched in 2024</span>
                            <span class="detail-value">4 campaigns</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Launched in 2025</span>
                            <span class="detail-value">8 campaigns</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Average remaining duration</span>
                            <span class="detail-value">9.7 months</span>
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case 'reach':
            title = 'Total Campaign Reach - 8.2 Million';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Reach Breakdown by Channel</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">Total Unique Reach</div>
                            <div class="modal-item-value">8.2 Million</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Digital Reach</div>
                            <div class="modal-item-value">6.4M users</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Field Contacts</div>
                            <div class="modal-item-value">1.2M direct</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Traditional Media</div>
                            <div class="modal-item-value">3.8M impressions</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Platform-wise Digital Reach</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Facebook</span>
                            <span class="detail-value">4.2M users (65.6%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Twitter/X</span>
                            <span class="detail-value">2.8M impressions (43.8%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Instagram</span>
                            <span class="detail-value">1.8M users (28.1%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">WhatsApp Groups</span>
                            <span class="detail-value">28,000 members in 347 groups</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">YouTube</span>
                            <span class="detail-value">847K views</span>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Growth Trends</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Month-over-Month Growth</span>
                            <span class="detail-value" style="color: #10b981;">+23%</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Quarter-over-Quarter</span>
                            <span class="detail-value" style="color: #10b981;">+67%</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Reach as % of District Voters</span>
                            <span class="detail-value">9.2% (8.2M of 89L)</span>
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case 'budget':
            title = 'Campaign Budgets - ‚Çπ1.8 Crore Total';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Budget Allocation</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">Total Allocated</div>
                            <div class="modal-item-value">‚Çπ1.8 Crore</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Amount Spent</div>
                            <div class="modal-item-value">‚Çπ1.21 Cr (67%)</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Remaining</div>
                            <div class="modal-item-value">‚Çπ59 Lakh (33%)</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Avg per Campaign</div>
                            <div class="modal-item-value">‚Çπ15 Lakh</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Spending by Category</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Digital Marketing</span>
                            <span class="detail-value">‚Çπ72 L allocated | ‚Çπ48 L spent (67%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Field Operations</span>
                            <span class="detail-value">‚Çπ84 L allocated | ‚Çπ56 L spent (67%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Traditional Media</span>
                            <span class="detail-value">‚Çπ44 L allocated | ‚Çπ17 L spent (39%)</span>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Cost Efficiency Metrics</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Cost per 1000 Reach</span>
                            <span class="detail-value">‚Çπ1,476</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Cost per Engagement</span>
                            <span class="detail-value">‚Çπ207.90</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Cost per House Visit</span>
                            <span class="detail-value">‚Çπ162</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Budget Efficiency Score</span>
                            <span class="detail-value" style="color: #10b981;">92% on-target</span>
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case 'engagement':
            title = 'Engagement Rate - 4.7% Average';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Engagement Overview</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">Overall Engagement Rate</div>
                            <div class="modal-item-value">4.7%</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Total Engagements</div>
                            <div class="modal-item-value">582,000</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Industry Average</div>
                            <div class="modal-item-value">3.2%</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Performance</div>
                            <div class="modal-item-value" style="color: #10b981;">+46.9% above avg</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Engagement by Platform</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Facebook Engagement</span>
                            <span class="detail-value">5.8% (243K interactions)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Instagram Engagement</span>
                            <span class="detail-value">6.2% (112K interactions)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Twitter Engagement</span>
                            <span class="detail-value">2.4% (67K interactions)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">WhatsApp Response Rate</span>
                            <span class="detail-value">18.7% (very high)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">YouTube Engagement</span>
                            <span class="detail-value">8.9% (75K likes/comments)</span>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Engagement Types</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Likes/Reactions</span>
                            <span class="detail-value">347,000 (59.6%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Comments</span>
                            <span class="detail-value">124,000 (21.3%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Shares</span>
                            <span class="detail-value">89,000 (15.3%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Saves/Bookmarks</span>
                            <span class="detail-value">22,000 (3.8%)</span>
                        </div>
                    </div>
                </div>
            `;
            break;
    }
    
    document.getElementById('campaignModalTitle').textContent = title;
    document.getElementById('campaignModalBody').innerHTML = content;
    document.getElementById('campaignDetailModal').classList.add('active');
}

function showCampaignTypeModal(type) {
    let title = '';
    let content = '';
    
    switch(type) {
        case 'digital':
            title = 'Digital Campaigns - 8 Active Initiatives';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Digital Campaign Overview</div>
                    <div class="info-box">
                        <div class="info-box-content">
                            Digital campaigns leverage social media platforms, content marketing, influencer partnerships, and targeted advertising to reach voters where they spend most of their time. Our comprehensive digital strategy includes daily content posting, community management, paid advertising, video production, and real-time engagement monitoring across all major platforms.
                        </div>
                    </info-box>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Platform Performance</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Facebook Pages Managed</span>
                            <span class="detail-value">18 pages | 247K total followers</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Instagram Accounts</span>
                            <span class="detail-value">18 accounts | 142K followers</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Twitter/X Profiles</span>
                            <span class="detail-value">18 profiles | 89K followers</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">YouTube Channels</span>
                            <span class="detail-value">12 channels | 34K subscribers</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">WhatsApp Groups</span>
                            <span class="detail-value">347 groups | 28K members</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Content Published Daily</span>
                            <span class="detail-value">47 posts across platforms</span>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Digital Services Provided</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Social Media Management</span>
                            <span class="detail-value">Daily posting, engagement, monitoring</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Content Creation</span>
                            <span class="detail-value">Graphics, videos, reels, stories</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Paid Advertising</span>
                            <span class="detail-value">Targeted Facebook/Instagram ads</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Influencer Outreach</span>
                            <span class="detail-value">Local influencer partnerships</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Community Management</span>
                            <span class="detail-value">Respond to comments & messages</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Analytics & Reporting</span>
                            <span class="detail-value">Daily performance reports</span>
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case 'field':
            title = 'Field Operations - 10 Active Campaigns';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Field Campaign Overview</div>
                    <div class="info-box">
                        <div class="info-box-content">
                            Field operations represent traditional grassroots campaigning with door-to-door canvassing, booth-level meetings, community gatherings, and direct voter contact. Our 189-member field team conducts systematic house visits, organizes local meetings, distributes campaign materials, and maintains personal relationships with voters across all constituencies.
                        </div>
                    </info-box>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Field Operations Statistics</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Total Field Staff</span>
                            <span class="detail-value">189 active members</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Houses Visited</span>
                            <span class="detail-value">34,567 (3.9% of district)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Direct Voter Contacts</span>
                            <span class="detail-value">1.2M face-to-face interactions</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Booth Meetings Conducted</span>
                            <span class="detail-value">427 meetings</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Community Events</span>
                            <span class="detail-value">47 gatherings this month</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Volunteer Network</span>
                            <span class="detail-value">1,847 trained volunteers</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Material Distributed</span>
                            <span class="detail-value">247K pamphlets/leaflets</span>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Field Activities</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Door-to-Door Canvassing</span>
                            <span class="detail-value">Daily systematic coverage</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Booth-level Meetings</span>
                            <span class="detail-value">Weekly coordinator meetings</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Community Gatherings</span>
                            <span class="detail-value">Local area meetings</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Voter Registration Drives</span>
                            <span class="detail-value">New voter enrollment</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Issue Resolution</span>
                            <span class="detail-value">Local problem solving</span>
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case 'traditional':
            title = 'Traditional Media - 6 Active Campaigns';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Traditional Media Overview</div>
                    <div class="info-box">
                        <div class="info-box-content">
                            Traditional media campaigns utilize print advertising, outdoor media (hoardings, banners, posters), cable TV spots, and radio advertisements to build broad awareness and credibility. These channels remain crucial for reaching older demographics and establishing mainstream legitimacy for candidates.
                        </div>
                    </info-box>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Media Deployment</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Newspaper Ads Published</span>
                            <span class="detail-value">247 insertions across 12 publications</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Hoardings & Banners</span>
                            <span class="detail-value">342 locations (premium sites)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Cable TV Spots</span>
                            <span class="detail-value">1,247 ad plays</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Radio Advertisements</span>
                            <span class="detail-value">847 spots on FM stations</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Posters Distributed</span>
                            <span class="detail-value">47,000 across constituencies</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Estimated Total Reach</span>
                            <span class="detail-value">3.8M impressions</span>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Traditional Media Channels</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Print Media (Newspapers/Magazines)</span>
                            <span class="detail-value">Daily & weekly publications</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Outdoor Media (Hoardings/Banners)</span>
                            <span class="detail-value">Strategic high-traffic locations</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Cable TV Advertising</span>
                            <span class="detail-value">Local news channels</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Radio Spots</span>
                            <span class="detail-value">FM stations (morning/evening drive)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Direct Mail</span>
                            <span class="detail-value">Personalized letters to voters</span>
                        </div>
                    </div>
                </div>
            `;
            break;
    }
    
    document.getElementById('campaignTypeModalTitle').textContent = title;
    document.getElementById('campaignTypeModalBody').innerHTML = content;
    document.getElementById('campaignTypeModal').classList.add('active');
}

function showCampaignProfileModal(campaignId) {
    const title = 'Campaign Profile - Youth Connect 2028';
    const content = `
        <div class="modal-section">
            <div class="modal-section-title">Campaign Overview</div>
            <div class="modal-grid">
                <div class="modal-item">
                    <div class="modal-item-label">Campaign Name</div>
                    <div class="modal-item-value">Youth Connect 2028</div>
                </div>
                <div class="modal-item">
                    <div class="modal-item-label">Client</div>
                    <div class="modal-item-value">Rajesh Patel (Jayanagar)</div>
                </div>
                <div class="modal-item">
                    <div class="modal-item-label">Campaign Type</div>
                    <div class="modal-item-value">Digital (Integrated)</div>
                </div>
                <div class="modal-item">
                    <div class="modal-item-label">Duration</div>
                    <div class="modal-item-value">12 months (Jan 25 - Dec 25)</div>
                </div>
            </div>
        </div>
        <div class="modal-section">
            <div class="modal-section-title">Campaign Performance</div>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Total Reach</span>
                    <span class="detail-value">1.8M unique users</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Total Impressions</span>
                    <span class="detail-value">4.7M</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Engagement Rate</span>
                    <span class="detail-value" style="color: #10b981;">6.8%</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Content Published</span>
                    <span class="detail-value">347 posts, 47 videos</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Follower Growth</span>
                    <span class="detail-value" style="color: #10b981;">+24,500 (142%)</span>
                </div>
            </div>
        </div>
        <div class="modal-section">
            <div class="modal-section-title">Budget & Resources</div>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Total Budget</span>
                    <span class="detail-value">‚Çπ18 Lakh</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Amount Spent</span>
                    <span class="detail-value">‚Çπ12.4 L (68.9%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Assigned</span>
                    <span class="detail-value">6 digital specialists</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status</span>
                    <span class="detail-value" style="color: #10b981;">Active & On-Track</span>
                </div>
            </div>
        </div>
    `;
    
    document.getElementById('campaignProfileModalTitle').textContent = title;
    document.getElementById('campaignProfileModalBody').innerHTML = content;
    document.getElementById('campaignProfileModal').classList.add('active');
}

function closeCampaignModal() {
    document.getElementById('campaignDetailModal').classList.remove('active');
}

function closeCampaignTypeModal() {
    document.getElementById('campaignTypeModal').classList.remove('active');
}

function closeCampaignProfileModal() {
    document.getElementById('campaignProfileModal').classList.remove('active');
}

// Action Functions
function exportCampaignsData() {
    alert('Exporting complete campaign data with performance metrics and analytics...');
}

function openNewCampaignModal() {
    alert('Opening new campaign creation wizard...');
}

function filterCampaignsByType(value) {
    alert('Filtering campaigns by type: ' + value);
}

function filterCampaignsByStatus(value) {
    alert('Filtering campaigns by status: ' + value);
}

function viewCampaignCalendar() {
    alert('Loading campaign calendar with all scheduled activities...');
}

function generateCampaignReport() {
    alert('Generating comprehensive campaign analytics report...');
}

function manageBudget() {
    alert('Opening budget management dashboard...');
}

function viewContentLibrary() {
    alert('Loading content library with all campaign assets...');
}

// Close modals when clicking outside
document.addEventListener('click', function(e) {
    if (e.target.classList.contains('modal')) {
        e.target.classList.remove('active');
    }
});
</script>

      <!-- Enhanced Field Teams Section -->
<div id="page-field-teams" class="page-content">
    <div class="page-header">
        <div class="page-title-row" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
            <h1 class="page-title">Field Teams Management</h1>
            <div class="page-actions">
                <button class="btn btn-secondary btn-sm" onclick="exportFieldTeamsData()">
                    <span>‚¨áÔ∏è</span> Export Data
                </button>
                <button class="btn btn-success btn-sm" onclick="openAddTeamMemberModal()">
                    <span>‚ûï</span> Add Member
                </button>
            </div>
        </div>
        <p class="page-subtitle">Real-time management and tracking of all field operations across Bengaluru Urban District</p>
    </div>

    <div class="info-box">
        <div class="info-box-title">
            <span>üö∂</span>
            Ground Operations Command Center
        </div>
        <div class="info-box-content">
            <strong>Field Operations Network:</strong> Managing 247 trained field team members deployed strategically across all 28 assembly constituencies in Bengaluru Urban District for comprehensive ground-level campaigning. Our field force conducts systematic house-to-house voter outreach, booth-level coordination, community engagement activities, and direct voter contact programs. Each team member is equipped with voter databases, campaign materials, mobile data collection tools, and daily performance tracking systems.<br><br>
            <strong>Current Operations Status:</strong> Active members today: 189 (76.5%) | Houses covered this month: 34,567 | Direct voter contacts: 1.2M | Booth meetings conducted: 427 | Community events organized: 47 | Average daily contacts per member: 22 voters | Team distribution: 142 booth coordinators, 68 field supervisors, 37 area managers | Coverage: 18 out of 28 constituencies | Shift timing: Morning (6 AM-12 PM), Afternoon (2 PM-6 PM), Evening (6 PM-9 PM) | Performance tracking: Real-time GPS location monitoring, daily activity reports, weekly performance reviews
        </div>
    </div>

    <h2 class="section-title">Field Operations Overview</h2>

    <div class="grid grid-4">
        <div class="stat-card" onclick="showFieldTeamDetailModal('total')">
            <div class="stat-icon">üë•</div>
            <div class="stat-value">247</div>
            <div class="stat-label">Total Team Members</div>
            <div class="stat-detail">
                Across 28 constituencies
            </div>
        </div>

        <div class="stat-card" onclick="showFieldTeamDetailModal('active')">
            <div class="stat-icon">‚úÖ</div>
            <div class="stat-value">189</div>
            <div class="stat-label">Active Today</div>
            <div class="stat-detail">
                <strong style="color: #10b981;">76.5%</strong> deployment rate
            </div>
        </div>

        <div class="stat-card" onclick="showFieldTeamDetailModal('coverage')">
            <div class="stat-icon">üè†</div>
            <div class="stat-value">34,567</div>
            <div class="stat-label">Houses Covered</div>
            <div class="stat-detail">
                This month (3.9% of district)
            </div>
        </div>

        <div class="stat-card" onclick="showFieldTeamDetailModal('performance')">
            <div class="stat-icon">üìä</div>
            <div class="stat-value">94%</div>
            <div class="stat-label">Avg Performance</div>
            <div class="stat-detail">
                <strong style="color: #10b981;">Excellent</strong> team rating
            </div>
        </div>
    </div>

    <h2 class="section-title">Team Structure & Hierarchy</h2>

    <div class="grid grid-3">
        <div class="card" onclick="showTeamRoleModal('coordinators')">
            <h3 class="card-title">üìç Booth Coordinators</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Total Members</span>
                    <span class="detail-value" style="color: #667eea;">142</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Active Today</span>
                    <span class="detail-value">108 (76%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Avg Experience</span>
                    <span class="detail-value">2.4 years</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Booths Assigned</span>
                    <span class="detail-value">1-3 per member</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Daily Target</span>
                    <span class="detail-value">25 house visits</span>
                </div>
            </div>
            <button class="btn btn-primary btn-sm" style="width: 100%; margin-top: 16px;" onclick="event.stopPropagation(); showTeamRoleModal('coordinators')">
                View Details ‚Üí
            </button>
        </div>

        <div class="card" onclick="showTeamRoleModal('supervisors')">
            <h3 class="card-title">üë§ Field Supervisors</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Total Members</span>
                    <span class="detail-value" style="color: #10b981;">68</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Active Today</span>
                    <span class="detail-value">54 (79%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Avg Experience</span>
                    <span class="detail-value">3.8 years</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Size</span>
                    <span class="detail-value">2-4 coordinators each</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Constituencies</span>
                    <span class="detail-value">1-2 areas covered</span>
                </div>
            </div>
            <button class="btn btn-primary btn-sm" style="width: 100%; margin-top: 16px;" onclick="event.stopPropagation(); showTeamRoleModal('supervisors')">
                View Details ‚Üí
            </button>
        </div>

        <div class="card" onclick="showTeamRoleModal('managers')">
            <h3 class="card-title">üëî Area Managers</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Total Members</span>
                    <span class="detail-value" style="color: #f59e0b;">37</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Active Today</span>
                    <span class="detail-value">27 (73%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Avg Experience</span>
                    <span class="detail-value">5.2 years</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Size</span>
                    <span class="detail-value">5-8 members each</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Coverage</span>
                    <span class="detail-value">Full constituency</span>
                </div>
            </div>
            <button class="btn btn-primary btn-sm" style="width: 100%; margin-top: 16px;" onclick="event.stopPropagation(); showTeamRoleModal('managers')">
                View Details ‚Üí
            </button>
        </div>
    </div>

    <h2 class="section-title">Field Team Directory</h2>

    <div class="card">
        <div class="card-header">
            <h3 class="card-title">247 Team Members</h3>
            <div style="display: flex; gap: 12px;">
                <select id="roleFilter" onchange="filterTeamsByRole(this.value)" 
                        style="padding: 8px 16px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: white;">
                    <option value="all">All Roles</option>
                    <option value="coordinators">Coordinators</option>
                    <option value="supervisors">Supervisors</option>
                    <option value="managers">Managers</option>
                </select>
                <select id="constituencyFilter" onchange="filterTeamsByConstituency(this.value)" 
                        style="padding: 8px 16px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: white;">
                    <option value="all">All Constituencies</option>
                    <option value="jayanagar">Jayanagar</option>
                    <option value="basavanagudi">Basavanagudi</option>
                    <option value="malleshwaram">Malleshwaram</option>
                </select>
                <select id="statusFilter" onchange="filterTeamsByStatus(this.value)" 
                        style="padding: 8px 16px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: white;">
                    <option value="all">All Status</option>
                    <option value="active">Active Now</option>
                    <option value="off-duty">Off Duty</option>
                </select>
                <input type="text" id="teamSearch" placeholder="Search members..." 
                       style="padding: 8px 16px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: white; width: 200px;">
            </div>
        </div>
        <div class="table-container">
            <table class="table">
                <thead>
                    <tr>
                        <th>Member Name</th>
                        <th>Role</th>
                        <th>Constituency</th>
                        <th>Experience</th>
                        <th>Today's Target</th>
                        <th>Completed</th>
                        <th>Performance</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="fieldTeamsTable">
                    <tr onclick="showMemberProfileModal('ramesh-kumar')" style="cursor: pointer;">
                        <td><strong>Ramesh Kumar</strong></td>
                        <td><span class="badge badge-primary">Coordinator</span></td>
                        <td>Jayanagar</td>
                        <td>3 years</td>
                        <td>25 houses</td>
                        <td>18 (72%)</td>
                        <td><span class="badge badge-success">96%</span></td>
                        <td><span class="badge badge-success">Active</span></td>
                        <td><button class="btn btn-primary btn-sm" onclick="event.stopPropagation(); showMemberProfileModal('ramesh-kumar')">View</button></td>
                    </tr>
                    <tr onclick="showMemberProfileModal('priya-nair')" style="cursor: pointer;">
                        <td><strong>Priya Nair</strong></td>
                        <td><span class="badge badge-success">Supervisor</span></td>
                        <td>Basavanagudi</td>
                        <td>4 years</td>
                        <td>Team oversight</td>
                        <td>4/4 teams</td>
                        <td><span class="badge badge-success">98%</span></td>
                        <td><span class="badge badge-success">Active</span></td>
                        <td><button class="btn btn-primary btn-sm" onclick="event.stopPropagation(); showMemberProfileModal('priya-nair')">View</button></td>
                    </tr>
                    <tr onclick="showMemberProfileModal('suresh-reddy')" style="cursor: pointer;">
                        <td><strong>Suresh Reddy</strong></td>
                        <td><span class="badge badge-warning">Manager</span></td>
                        <td>Malleshwaram</td>
                        <td>6 years</td>
                        <td>Area management</td>
                        <td>7/8 teams</td>
                        <td><span class="badge badge-success">94%</span></td>
                        <td><span class="badge badge-success">Active</span></td>
                        <td><button class="btn btn-primary btn-sm" onclick="event.stopPropagation(); showMemberProfileModal('suresh-reddy')">View</button></td>
                    </tr>
                    <tr onclick="showMemberProfileModal('lakshmi-venkat')" style="cursor: pointer;">
                        <td><strong>Lakshmi Venkat</strong></td>
                        <td><span class="badge badge-primary">Coordinator</span></td>
                        <td>Jayanagar</td>
                        <td>2 years</td>
                        <td>25 houses</td>
                        <td>22 (88%)</td>
                        <td><span class="badge badge-success">92%</span></td>
                        <td><span class="badge badge-success">Active</span></td>
                        <td><button class="btn btn-primary btn-sm" onclick="event.stopPropagation(); showMemberProfileModal('lakshmi-venkat')">View</button></td>
                    </tr>
                    <tr onclick="showMemberProfileModal('arun-sharma')" style="cursor: pointer;">
                        <td><strong>Arun Sharma</strong></td>
                        <td><span class="badge badge-primary">Coordinator</span></td>
                        <td>Yeshwanthpur</td>
                        <td>1.5 years</td>
                        <td>25 houses</td>
                        <td>0 (0%)</td>
                        <td><span class="badge badge-warning">87%</span></td>
                        <td><span class="badge badge-danger">Off Duty</span></td>
                        <td><button class="btn btn-primary btn-sm" onclick="event.stopPropagation(); showMemberProfileModal('arun-sharma')">View</button></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <h2 class="section-title">Field Operations Performance</h2>

    <div class="grid grid-2">
        <div class="card">
            <h3 class="card-title">üìä Daily Performance Metrics</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Houses Visited Today</span>
                    <span class="detail-value">4,247</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Direct Voter Contacts</span>
                    <span class="detail-value">8,942 interactions</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Booth Meetings</span>
                    <span class="detail-value">14 conducted today</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Community Events</span>
                    <span class="detail-value">3 organized today</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Materials Distributed</span>
                    <span class="detail-value">12,450 pamphlets</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Data Collection</span>
                    <span class="detail-value">3,847 voter records updated</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Average Time per House</span>
                    <span class="detail-value">8.4 minutes</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Target Achievement</span>
                    <span class="detail-value" style="color: #10b981;">89% (above target)</span>
                </div>
            </div>
        </div>

        <div class="card">
            <h3 class="card-title">üìà Monthly Performance Trends</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Total Houses This Month</span>
                    <span class="detail-value">34,567</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Monthly Target</span>
                    <span class="detail-value">40,000 houses</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Target Achievement</span>
                    <span class="detail-value" style="color: #f59e0b;">86.4% (on track)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Total Voter Contacts</span>
                    <span class="detail-value">1.2M this month</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Booth Meetings Total</span>
                    <span class="detail-value">427 meetings</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Community Events Total</span>
                    <span class="detail-value">47 events</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Attendance Rate</span>
                    <span class="detail-value" style="color: #10b981;">91.2%</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Performance vs Last Month</span>
                    <span class="detail-value" style="color: #10b981;">+12% improvement</span>
                </div>
            </div>
        </div>
    </div>

    <h2 class="section-title">Constituency-wise Deployment</h2>

    <div class="card">
        <div class="card-header">
            <h3 class="card-title">Team Distribution Across 18 Active Constituencies</h3>
        </div>
        <div class="table-container">
            <table class="table">
                <thead>
                    <tr>
                        <th>Constituency</th>
                        <th>Total Team</th>
                        <th>Active Today</th>
                        <th>Houses Covered</th>
                        <th>Daily Target</th>
                        <th>Achievement</th>
                        <th>Performance</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Jayanagar</strong></td>
                        <td>18 members</td>
                        <td>14 (78%)</td>
                        <td>2,847</td>
                        <td>3,200</td>
                        <td>89%</td>
                        <td><span class="badge badge-success">Excellent</span></td>
                        <td><button class="btn btn-primary btn-sm">View</button></td>
                    </tr>
                    <tr>
                        <td><strong>Basavanagudi</strong></td>
                        <td>16 members</td>
                        <td>12 (75%)</td>
                        <td>2,347</td>
                        <td>2,800</td>
                        <td>84%</td>
                        <td><span class="badge badge-success">Good</span></td>
                        <td><button class="btn btn-primary btn-sm">View</button></td>
                    </tr>
                    <tr>
                        <td><strong>Malleshwaram</strong></td>
                        <td>15 members</td>
                        <td>11 (73%)</td>
                        <td>1,947</td>
                        <td>2,600</td>
                        <td>75%</td>
                        <td><span class="badge badge-warning">Average</span></td>
                        <td><button class="btn btn-primary btn-sm">View</button></td>
                    </tr>
                    <tr>
                        <td><strong>Yeshwanthpur</strong></td>
                        <td>14 members</td>
                        <td>10 (71%)</td>
                        <td>2,124</td>
                        <td>2,500</td>
                        <td>85%</td>
                        <td><span class="badge badge-success">Good</span></td>
                        <td><button class="btn btn-primary btn-sm">View</button></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <h2 class="section-title">Training & Development</h2>

    <div class="grid grid-3">
        <div class="card">
            <h3 class="card-title">üìö Training Programs</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">New Member Induction</span>
                    <span class="detail-value">2-day program</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Monthly Refresher Training</span>
                    <span class="detail-value">100% participation</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Communication Skills</span>
                    <span class="detail-value">Quarterly workshops</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Data Collection Training</span>
                    <span class="detail-value">Mobile app usage</span>
                </div>
            </div>
        </div>

        <div class="card">
            <h3 class="card-title">üéØ Performance Incentives</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Top Performer Bonus</span>
                    <span class="detail-value">Monthly awards</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Achievement Prizes</span>
                    <span class="detail-value">Quarterly recognition</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Performance-based Increment</span>
                    <span class="detail-value">Annual review</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Promotion Opportunities</span>
                    <span class="detail-value">Career advancement</span>
                </div>
            </div>
        </div>

        <div class="card">
            <h3 class="card-title">üõ†Ô∏è Tools & Resources</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Mobile Data App</span>
                    <span class="detail-value">Real-time tracking</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Voter Database Access</span>
                    <span class="detail-value">Complete constituency data</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Campaign Materials</span>
                    <span class="detail-value">Pamphlets, badges, IDs</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">GPS Tracking System</span>
                    <span class="detail-value">Location monitoring</span>
                </div>
            </div>
        </div>
    </div>

    <h2 class="section-title">Quick Actions</h2>

    <div class="action-grid">
        <div class="action-card" onclick="openAddTeamMemberModal()">
            <div class="action-icon">‚ûï</div>
            <div class="action-title">Add Member</div>
            <div class="action-desc">Register new team member</div>
        </div>
        <div class="action-card" onclick="viewAttendance()">
            <div class="action-icon">üìÖ</div>
            <div class="action-title">Mark Attendance</div>
            <div class="action-desc">Daily check-in</div>
        </div>
        <div class="action-card" onclick="assignTasks()">
            <div class="action-icon">üìã</div>
            <div class="action-title">Assign Tasks</div>
            <div class="action-desc">Daily targets</div>
        </div>
        <div class="action-card" onclick="viewPerformance()">
            <div class="action-icon">üìä</div>
            <div class="action-title">Performance Report</div>
            <div class="action-desc">Team analytics</div>
        </div>
        <div class="action-card" onclick="trackLocation()">
            <div class="action-icon">üìç</div>
            <div class="action-title">GPS Tracking</div>
            <div class="action-desc">Live location</div>
        </div>
        <div class="action-card" onclick="exportFieldTeamsData()">
            <div class="action-icon">‚¨áÔ∏è</div>
            <div class="action-title">Export Data</div>
            <div class="action-desc">Download reports</div>
        </div>
    </div>
</div>

<!-- Modal for Field Team Details -->
<div class="modal" id="fieldTeamDetailModal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title" id="fieldTeamModalTitle">Field Team Details</h2>
            <button class="modal-close" onclick="closeFieldTeamModal()">√ó</button>
        </div>
        <div class="modal-body" id="fieldTeamModalBody">
            <!-- Content populated by JavaScript -->
        </div>
    </div>
</div>

<!-- Modal for Team Role Details -->
<div class="modal" id="teamRoleModal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title" id="teamRoleModalTitle">Role Details</h2>
            <button class="modal-close" onclick="closeTeamRoleModal()">√ó</button>
        </div>
        <div class="modal-body" id="teamRoleModalBody">
            <!-- Content populated by JavaScript -->
        </div>
    </div>
</div>

<!-- Modal for Member Profile -->
<div class="modal" id="memberProfileModal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title" id="memberProfileModalTitle">Member Profile</h2>
            <button class="modal-close" onclick="closeMemberProfileModal()">√ó</button>
        </div>
        <div class="modal-body" id="memberProfileModalBody">
            <!-- Content populated by JavaScript -->
        </div>
    </div>
</div>

<script>
// Field Team Detail Modal Functions
function showFieldTeamDetailModal(type) {
    let title = '';
    let content = '';
    
    switch(type) {
        case 'total':
            title = 'Total Field Team - 247 Members';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Team Composition</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">Total Members</div>
                            <div class="modal-item-value">247</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Booth Coordinators</div>
                            <div class="modal-item-value">142 (57.5%)</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Field Supervisors</div>
                            <div class="modal-item-value">68 (27.5%)</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Area Managers</div>
                            <div class="modal-item-value">37 (15.0%)</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Deployment Statistics</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Active Constituencies</span>
                            <span class="detail-value">18 out of 28</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Full-time Members</span>
                            <span class="detail-value">189 (76.5%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Part-time Members</span>
                            <span class="detail-value">58 (23.5%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Average Team Age</span>
                            <span class="detail-value">31.4 years</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Male Members</span>
                            <span class="detail-value">167 (67.6%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Female Members</span>
                            <span class="detail-value">80 (32.4%)</span>
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case 'active':
            title = 'Active Members Today - 189 (76.5%)';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Today's Deployment</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">Active Today</div>
                            <div class="modal-item-value">189</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Deployment Rate</div>
                            <div class="modal-item-value">76.5%</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Off Duty</div>
                            <div class="modal-item-value">58 members</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Sick/Leave</div>
                            <div class="modal-item-value">12 members</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Shift-wise Breakdown</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Morning Shift (6 AM - 12 PM)</span>
                            <span class="detail-value">124 members</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Afternoon Shift (2 PM - 6 PM)</span>
                            <span class="detail-value">89 members</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Evening Shift (6 PM - 9 PM)</span>
                            <span class="detail-value">67 members</span>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Constituency-wise Active</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Jayanagar</span>
                            <span class="detail-value">14 out of 18 (78%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Basavanagudi</span>
                            <span class="detail-value">12 out of 16 (75%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Malleshwaram</span>
                            <span class="detail-value">11 out of 15 (73%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Yeshwanthpur</span>
                            <span class="detail-value">10 out of 14 (71%)</span>
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case 'coverage':
            title = 'Houses Covered - 34,567 This Month';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Coverage Overview</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">Houses Covered</div>
                            <div class="modal-item-value">34,567</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Monthly Target</div>
                            <div class="modal-item-value">40,000</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Achievement</div>
                            <div class="modal-item-value">86.4%</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">District Coverage</div>
                            <div class="modal-item-value">3.9%</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Daily Breakdown</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Average per Day</span>
                            <span class="detail-value">1,396 houses</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Best Day (March 12)</span>
                            <span class="detail-value">2,847 houses</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Lowest Day (March 3)</span>
                            <span class="detail-value">847 houses</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Weekend Average</span>
                            <span class="detail-value">1,847 houses</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Weekday Average</span>
                            <span class="detail-value">1,247 houses</span>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Voter Interactions</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Total Direct Contacts</span>
                            <span class="detail-value">1.2 Million voters</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Average per House</span>
                            <span class="detail-value">3.47 voters</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Successful Conversations</span>
                            <span class="detail-value">847,000 (70.6%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Data Collected</span>
                            <span class="detail-value">547,000 records</span>
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case 'performance':
            title = 'Team Performance - 94% Average';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Performance Metrics</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">Overall Performance</div>
                            <div class="modal-item-value" style="color: #10b981;">94%</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Target Achievement</div>
                            <div class="modal-item-value">89%</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Attendance Rate</div>
                            <div class="modal-item-value">91.2%</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Quality Score</div>
                            <div class="modal-item-value">96%</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Performance by Role</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Booth Coordinators</span>
                            <span class="detail-value" style="color: #10b981;">92% average</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Field Supervisors</span>
                            <span class="detail-value" style="color: #10b981;">95% average</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Area Managers</span>
                            <span class="detail-value" style="color: #10b981;">97% average</span>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Top Performers</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">1. Priya Nair (Supervisor)</span>
                            <span class="detail-value" style="color: #10b981;">98%</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">2. Ramesh Kumar (Coordinator)</span>
                            <span class="detail-value" style="color: #10b981;">96%</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">3. Suresh Reddy (Manager)</span>
                            <span class="detail-value" style="color: #10b981;">94%</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">4. Lakshmi Venkat (Coordinator)</span>
                            <span class="detail-value" style="color: #10b981;">92%</span>
                        </div>
                    </div>
                </div>
            `;
            break;
    }
    
    document.getElementById('fieldTeamModalTitle').textContent = title;
    document.getElementById('fieldTeamModalBody').innerHTML = content;
    document.getElementById('fieldTeamDetailModal').classList.add('active');
}

function showTeamRoleModal(role) {
    let title = '';
    let content = '';
    
    switch(role) {
        case 'coordinators':
            title = 'Booth Coordinators - 142 Members';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Role Overview</div>
                    <div class="info-box">
                        <div class="info-box-content">
                            Booth Coordinators are frontline workers responsible for direct voter contact within assigned polling booths. They conduct door-to-door canvassing, distribute campaign materials, collect voter data, organize booth-level meetings, and maintain daily contact with voters in their designated areas.
                        </div>
                    </info-box>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Key Responsibilities</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">House-to-House Visits</span>
                            <span class="detail-value">Daily target: 25 houses</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Voter Data Collection</span>
                            <span class="detail-value">Update voter records & preferences</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Material Distribution</span>
                            <span class="detail-value">Pamphlets, leaflets, campaign info</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Booth Meetings</span>
                            <span class="detail-value">Weekly coordination meetings</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Daily Reporting</span>
                            <span class="detail-value">Submit activity reports via app</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Issue Resolution</span>
                            <span class="detail-value">Address voter concerns locally</span>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Performance Standards</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Daily House Visit Target</span>
                            <span class="detail-value">25 houses minimum</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Voter Contact Target</span>
                            <span class="detail-value">50+ voters per day</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Data Quality Standard</span>
                            <span class="detail-value">95% accuracy required</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Attendance Requirement</span>
                            <span class="detail-value">90% minimum</span>
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case 'supervisors':
            title = 'Field Supervisors - 68 Members';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Role Overview</div>
                    <div class="info-box">
                        <div class="info-box-content">
                            Field Supervisors oversee teams of 2-4 booth coordinators, ensuring quality control, providing guidance, resolving field issues, and maintaining communication between ground teams and area managers. They conduct spot checks, review data quality, and ensure coordinators meet their targets.
                        </div>
                    </info-box>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Key Responsibilities</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Team Management</span>
                            <span class="detail-value">Oversee 2-4 coordinators</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Quality Control</span>
                            <span class="detail-value">Verify data accuracy & work quality</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Performance Monitoring</span>
                            <span class="detail-value">Track team targets & achievements</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Field Support</span>
                            <span class="detail-value">Resolve issues, provide guidance</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Reporting</span>
                            <span class="detail-value">Daily team reports to managers</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Training</span>
                            <span class="detail-value">Coach & mentor coordinators</span>
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case 'managers':
            title = 'Area Managers - 37 Members';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Role Overview</div>
                    <div class="info-box">
                        <div class="info-box-content">
                            Area Managers are senior leaders responsible for entire constituencies or large geographic areas. They manage teams of 5-8 members (supervisors and coordinators), develop area-specific strategies, coordinate with clients, handle escalations, and ensure overall campaign success in their assigned territories.
                        </div>
                    </info-box>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Key Responsibilities</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Strategic Planning</span>
                            <span class="detail-value">Develop area campaign strategy</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Team Leadership</span>
                            <span class="detail-value">Manage 5-8 team members</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Client Coordination</span>
                            <span class="detail-value">Direct liaison with politicians</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Resource Allocation</span>
                            <span class="detail-value">Budget & resource management</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Performance Analysis</span>
                            <span class="detail-value">Weekly area reports & analytics</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Stakeholder Management</span>
                            <span class="detail-value">Local leaders & influencers</span>
                        </div>
                    </div>
                </div>
            `;
            break;
    }
    
    document.getElementById('teamRoleModalTitle').textContent = title;
    document.getElementById('teamRoleModalBody').innerHTML = content;
    document.getElementById('teamRoleModal').classList.add('active');
}

function showMemberProfileModal(memberId) {
    const title = 'Member Profile - Ramesh Kumar';
    const content = `
        <div class="modal-section">
            <div class="modal-section-title">Personal Information</div>
            <div class="modal-grid">
                <div class="modal-item">
                    <div class="modal-item-label">Full Name</div>
                    <div class="modal-item-value">Ramesh Kumar</div>
                </div>
                <div class="modal-item">
                    <div class="modal-item-label">Employee ID</div>
                    <div class="modal-item-value">FT-BLR-0847</div>
                </div>
                <div class="modal-item">
                    <div class="modal-item-label">Role</div>
                    <div class="modal-item-value">Booth Coordinator</div>
                </div>
                <div class="modal-item">
                    <div class="modal-item-label">Experience</div>
                    <div class="modal-item-value">3 years</div>
                </div>
            </div>
        </div>
        <div class="modal-section">
            <div class="modal-section-title">Assignment Details</div>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Constituency</span>
                    <span class="detail-value">Jayanagar</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Booths Assigned</span>
                    <span class="detail-value">3 booths (047, 048, 049)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Supervisor</span>
                    <span class="detail-value">Priya Nair</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Area Manager</span>
                    <span class="detail-value">Suresh Reddy</span>
                </div>
            </div>
        </div>
        <div class="modal-section">
            <div class="modal-section-title">Performance Metrics</div>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Overall Performance</span>
                    <span class="detail-value" style="color: #10b981;">96%</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Today's Progress</span>
                    <span class="detail-value">18/25 houses (72%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Monthly Target</span>
                    <span class="detail-value">750 houses (647 completed - 86%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Attendance This Month</span>
                    <span class="detail-value">24/26 days (92%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Data Quality Score</span>
                    <span class="detail-value" style="color: #10b981;">97%</span>
                </div>
            </div>
        </div>
    `;
    
    document.getElementById('memberProfileModalTitle').textContent = title;
    document.getElementById('memberProfileModalBody').innerHTML = content;
    document.getElementById('memberProfileModal').classList.add('active');
}

function closeFieldTeamModal() {
    document.getElementById('fieldTeamDetailModal').classList.remove('active');
}

function closeTeamRoleModal() {
    document.getElementById('teamRoleModal').classList.remove('active');
}

function closeMemberProfileModal() {
    document.getElementById('memberProfileModal').classList.remove('active');
}

// Action Functions
function exportFieldTeamsData() {
    alert('Exporting complete field team data with performance metrics and attendance records...');
}

function openAddTeamMemberModal() {
    alert('Opening new team member registration form...');
}

function filterTeamsByRole(value) {
    alert('Filtering teams by role: ' + value);
}

function filterTeamsByConstituency(value) {
    alert('Filtering teams by constituency: ' + value);
}

function filterTeamsByStatus(value) {
    alert('Filtering teams by status: ' + value);
}

function viewAttendance() {
    alert('Loading attendance management system...');
}

function assignTasks() {
    alert('Opening task assignment interface...');
}

function viewPerformance() {
    alert('Generating team performance report...');
}

function trackLocation() {
    alert('Opening GPS tracking dashboard...');
}

// Close modals when clicking outside
document.addEventListener('click', function(e) {
    if (e.target.classList.contains('modal')) {
        e.target.classList.remove('active');
    }
});
</script>

      <!-- Enhanced Events & Rallies Section -->
<div id="page-events" class="page-content">
    <div class="page-header">
        <div class="page-title-row" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
            <h1 class="page-title">Events & Rallies Management</h1>
            <div class="page-actions">
                <button class="btn btn-secondary btn-sm" onclick="exportEventsData()">
                    <span>‚¨áÔ∏è</span> Export Data
                </button>
                <button class="btn btn-success btn-sm" onclick="openNewEventModal()">
                    <span>‚ûï</span> Schedule Event
                </button>
            </div>
        </div>
        <p class="page-subtitle">Comprehensive event planning, coordination, and tracking across Bengaluru Urban District</p>
    </div>

    <div class="info-box">
        <div class="info-box-title">
            <span>üìÖ</span>
            Event Management System
        </div>
        <div class="info-box-content">
            <strong>District-wide Event Coordination:</strong> Managing complete lifecycle of all political events, rallies, public meetings, community gatherings, and press conferences across Bengaluru Urban District for 18 active clients. Our event management system handles end-to-end planning including venue selection and booking, crowd mobilization, logistics coordination, security arrangements, media coverage, volunteer deployment, audio-visual setup, permit acquisition, and post-event analysis. Each event is strategically planned to maximize voter engagement, media coverage, and campaign impact.<br><br>
            <strong>Current Event Portfolio:</strong> Total events this month: 47 | Upcoming scheduled: 32 events | Large rallies (1000+ attendance): 8 | Community meetings (100-500): 24 | Small gatherings (under 100): 15 | Average attendance: 847 people per event | Total reach this month: 39,809 direct participants | Media coverage: 89% events covered | Event success rate: 94% | Average planning time: 14 days | Constituencies covered: 18 out of 28 | Peak event days: Weekends and public holidays | Budget allocation: ‚Çπ42 lakh for monthly events
        </div>
    </div>

    <h2 class="section-title">Event Statistics Overview</h2>

    <div class="grid grid-4">
        <div class="stat-card" onclick="showEventDetailModal('total')">
            <div class="stat-icon">üìÖ</div>
            <div class="stat-value">47</div>
            <div class="stat-label">Events This Month</div>
            <div class="stat-detail">
                Across 18 constituencies
            </div>
        </div>

        <div class="stat-card" onclick="showEventDetailModal('upcoming')">
            <div class="stat-icon">‚è∞</div>
            <div class="stat-value">32</div>
            <div class="stat-label">Scheduled Upcoming</div>
            <div class="stat-detail">
                Next 30 days calendar
            </div>
        </div>

        <div class="stat-card" onclick="showEventDetailModal('attendance')">
            <div class="stat-icon">üë•</div>
            <div class="stat-value">39,809</div>
            <div class="stat-label">Total Attendance</div>
            <div class="stat-detail">
                <strong style="color: #10b981;">847</strong> avg per event
            </div>
        </div>

        <div class="stat-card" onclick="showEventDetailModal('success')">
            <div class="stat-icon">‚úÖ</div>
            <div class="stat-value">94%</div>
            <div class="stat-label">Success Rate</div>
            <div class="stat-detail">
                Met attendance targets
            </div>
        </div>
    </div>

    <h2 class="section-title">Event Categories & Types</h2>

    <div class="grid grid-4">
        <div class="card" onclick="showEventTypeModal('rallies')">
            <h3 class="card-title">üì¢ Large Rallies</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Events Held</span>
                    <span class="detail-value" style="color: #ef4444;">8</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Avg Attendance</span>
                    <span class="detail-value">2,847 people</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Total Reach</span>
                    <span class="detail-value">22,776 direct</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Media Coverage</span>
                    <span class="detail-value">100% covered</span>
                </div>
            </div>
            <button class="btn btn-primary btn-sm" style="width: 100%; margin-top: 16px;" onclick="event.stopPropagation(); showEventTypeModal('rallies')">
                View Details ‚Üí
            </button>
        </div>

        <div class="card" onclick="showEventTypeModal('meetings')">
            <h3 class="card-title">ü§ù Community Meetings</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Events Held</span>
                    <span class="detail-value" style="color: #10b981;">24</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Avg Attendance</span>
                    <span class="detail-value">247 people</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Total Reach</span>
                    <span class="detail-value">5,928 direct</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Success Rate</span>
                    <span class="detail-value">96%</span>
                </div>
            </div>
            <button class="btn btn-primary btn-sm" style="width: 100%; margin-top: 16px;" onclick="event.stopPropagation(); showEventTypeModal('meetings')">
                View Details ‚Üí
            </button>
        </div>

        <div class="card" onclick="showEventTypeModal('gatherings')">
            <h3 class="card-title">üë• Small Gatherings</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Events Held</span>
                    <span class="detail-value" style="color: #667eea;">15</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Avg Attendance</span>
                    <span class="detail-value">47 people</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Total Reach</span>
                    <span class="detail-value">705 direct</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Engagement</span>
                    <span class="detail-value">Very High</span>
                </div>
            </div>
            <button class="btn btn-primary btn-sm" style="width: 100%; margin-top: 16px;" onclick="event.stopPropagation(); showEventTypeModal('gatherings')">
                View Details ‚Üí
            </button>
        </div>

        <div class="card" onclick="showEventTypeModal('press')">
            <h3 class="card-title">üé§ Press Conferences</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Events Held</span>
                    <span class="detail-value" style="color: #f59e0b;">6</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Media Attendance</span>
                    <span class="detail-value">24 avg reporters</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Publications</span>
                    <span class="detail-value">147 articles</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Estimated Reach</span>
                    <span class="detail-value">2.4M readers</span>
                </div>
            </div>
            <button class="btn btn-primary btn-sm" style="width: 100%; margin-top: 16px;" onclick="event.stopPropagation(); showEventTypeModal('press')">
                View Details ‚Üí
            </button>
        </div>
    </div>

    <h2 class="section-title">Upcoming Events Calendar</h2>

    <div class="card">
        <div class="card-header">
            <h3 class="card-title">Next 30 Days - 32 Scheduled Events</h3>
            <div style="display: flex; gap: 12px;">
                <select id="eventTypeFilter" onchange="filterEventsByType(this.value)" 
                        style="padding: 8px 16px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: white;">
                    <option value="all">All Types</option>
                    <option value="rally">Rallies</option>
                    <option value="meeting">Meetings</option>
                    <option value="gathering">Gatherings</option>
                    <option value="press">Press Events</option>
                </select>
                <select id="constituencyEventFilter" onchange="filterEventsByConstituency(this.value)" 
                        style="padding: 8px 16px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: white;">
                    <option value="all">All Constituencies</option>
                    <option value="jayanagar">Jayanagar</option>
                    <option value="basavanagudi">Basavanagudi</option>
                    <option value="malleshwaram">Malleshwaram</option>
                </select>
                <button class="btn btn-primary btn-sm" onclick="viewEventCalendar()">
                    üìÖ Calendar View
                </button>
            </div>
        </div>
        <div class="table-container">
            <table class="table">
                <thead>
                    <tr>
                        <th>Event Name</th>
                        <th>Type</th>
                        <th>Date & Time</th>
                        <th>Venue</th>
                        <th>Client</th>
                        <th>Expected Attendance</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="upcomingEventsTable">
                    <tr onclick="showEventProfileModal('youth-rally')" style="cursor: pointer;">
                        <td><strong>Youth Development Rally</strong></td>
                        <td><span class="badge badge-danger">Rally</span></td>
                        <td>Mar 28, 2025 - 6:00 PM</td>
                        <td>Jayanagar Ground</td>
                        <td>Rajesh Patel</td>
                        <td>3,000+</td>
                        <td><span class="badge badge-success">Confirmed</span></td>
                        <td><button class="btn btn-primary btn-sm" onclick="event.stopPropagation(); showEventProfileModal('youth-rally')">View</button></td>
                    </tr>
                    <tr onclick="showEventProfileModal('booth-meeting')" style="cursor: pointer;">
                        <td><strong>Booth Coordination Meeting</strong></td>
                        <td><span class="badge badge-success">Meeting</span></td>
                        <td>Mar 25, 2025 - 10:00 AM</td>
                        <td>Community Hall, Basavanagudi</td>
                        <td>Priya Sharma</td>
                        <td>150</td>
                        <td><span class="badge badge-success">Confirmed</span></td>
                        <td><button class="btn btn-primary btn-sm" onclick="event.stopPropagation(); showEventProfileModal('booth-meeting')">View</button></td>
                    </tr>
                    <tr onclick="showEventProfileModal('press-brief')" style="cursor: pointer;">
                        <td><strong>Development Initiatives Press Brief</strong></td>
                        <td><span class="badge badge-warning">Press</span></td>
                        <td>Mar 26, 2025 - 11:30 AM</td>
                        <td>Party Office, Malleshwaram</td>
                        <td>Kumar Swamy</td>
                        <td>30 media</td>
                        <td><span class="badge badge-success">Confirmed</span></td>
                        <td><button class="btn btn-primary btn-sm" onclick="event.stopPropagation(); showEventProfileModal('press-brief')">View</button></td>
                    </tr>
                    <tr onclick="showEventProfileModal('community-meet')" style="cursor: pointer;">
                        <td><strong>Women Empowerment Program</strong></td>
                        <td><span class="badge badge-success">Meeting</span></td>
                        <td>Mar 29, 2025 - 3:00 PM</td>
                        <td>Anganwadi Center, Jayanagar</td>
                        <td>Deepa Rao</td>
                        <td>200</td>
                        <td><span class="badge badge-warning">Planning</span></td>
                        <td><button class="btn btn-primary btn-sm" onclick="event.stopPropagation(); showEventProfileModal('community-meet')">View</button></td>
                    </tr>
                    <tr onclick="showEventProfileModal('mega-rally')" style="cursor: pointer;">
                        <td><strong>Mega Public Rally</strong></td>
                        <td><span class="badge badge-danger">Rally</span></td>
                        <td>Apr 5, 2025 - 5:30 PM</td>
                        <td>Palace Grounds</td>
                        <td>Multiple Clients</td>
                        <td>10,000+</td>
                        <td><span class="badge badge-warning">Planning</span></td>
                        <td><button class="btn btn-primary btn-sm" onclick="event.stopPropagation(); showEventProfileModal('mega-rally')">View</button></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <h2 class="section-title">Recent Events Performance</h2>

    <div class="card">
        <div class="card-header">
            <h3 class="card-title">Last 30 Days - 47 Completed Events</h3>
        </div>
        <div class="table-container">
            <table class="table">
                <thead>
                    <tr>
                        <th>Event Name</th>
                        <th>Date</th>
                        <th>Type</th>
                        <th>Expected</th>
                        <th>Actual</th>
                        <th>Achievement</th>
                        <th>Media Coverage</th>
                        <th>Rating</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Farmers' Meet</strong></td>
                        <td>Mar 15, 2025</td>
                        <td><span class="badge badge-success">Meeting</span></td>
                        <td>300</td>
                        <td>347</td>
                        <td><span class="badge badge-success">116%</span></td>
                        <td>4 publications</td>
                        <td>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</td>
                    </tr>
                    <tr>
                        <td><strong>Unity Rally</strong></td>
                        <td>Mar 12, 2025</td>
                        <td><span class="badge badge-danger">Rally</span></td>
                        <td>2,500</td>
                        <td>2,847</td>
                        <td><span class="badge badge-success">114%</span></td>
                        <td>12 publications</td>
                        <td>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</td>
                    </tr>
                    <tr>
                        <td><strong>Youth Conclave</strong></td>
                        <td>Mar 10, 2025</td>
                        <td><span class="badge badge-success">Meeting</span></td>
                        <td>400</td>
                        <td>342</td>
                        <td><span class="badge badge-warning">86%</span></td>
                        <td>3 publications</td>
                        <td>‚≠ê‚≠ê‚≠ê‚≠ê</td>
                    </tr>
                    <tr>
                        <td><strong>Policy Announcement</strong></td>
                        <td>Mar 8, 2025</td>
                        <td><span class="badge badge-warning">Press</span></td>
                        <td>25 media</td>
                        <td>28 media</td>
                        <td><span class="badge badge-success">112%</span></td>
                        <td>18 publications</td>
                        <td>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <h2 class="section-title">Event Logistics & Resources</h2>

    <div class="grid grid-3">
        <div class="card">
            <h3 class="card-title">üè¢ Venue Management</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Venues Database</span>
                    <span class="detail-value">147 locations</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Regular Venues</span>
                    <span class="detail-value">24 preferred sites</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Bookings This Month</span>
                    <span class="detail-value">47 venues secured</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Average Capacity</span>
                    <span class="detail-value">1,200 people</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Venue Costs</span>
                    <span class="detail-value">‚Çπ8.4 L this month</span>
                </div>
            </div>
        </div>

        <div class="card">
            <h3 class="card-title">üé™ Equipment & Setup</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Sound Systems</span>
                    <span class="detail-value">24 sets available</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">LED Screens</span>
                    <span class="detail-value">8 units</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Stage & Podium</span>
                    <span class="detail-value">12 setups</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Chairs & Tents</span>
                    <span class="detail-value">15,000 capacity</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Equipment Budget</span>
                    <span class="detail-value">‚Çπ12.8 L this month</span>
                </div>
            </div>
        </div>

        <div class="card">
            <h3 class="card-title">üë• Crowd Mobilization</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Volunteer Network</span>
                    <span class="detail-value">1,847 active volunteers</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Transport Arranged</span>
                    <span class="detail-value">147 buses this month</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Average Mobilization</span>
                    <span class="detail-value">847 per event</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Food & Refreshments</span>
                    <span class="detail-value">39,809 served</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Mobilization Budget</span>
                    <span class="detail-value">‚Çπ18.6 L this month</span>
                </div>
            </div>
        </div>
    </div>

    <h2 class="section-title">Budget & Financial Summary</h2>

    <div class="grid grid-2">
        <div class="card">
            <h3 class="card-title">üí∞ Event Budget Allocation</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Total Monthly Budget</span>
                    <span class="detail-value">‚Çπ42 Lakh</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Venue Costs</span>
                    <span class="detail-value">‚Çπ8.4 L (20%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Equipment & Setup</span>
                    <span class="detail-value">‚Çπ12.8 L (30.5%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Crowd Mobilization</span>
                    <span class="detail-value">‚Çπ18.6 L (44.3%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Permits & Security</span>
                    <span class="detail-value">‚Çπ2.2 L (5.2%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Total Spent</span>
                    <span class="detail-value">‚Çπ39.2 L (93.3%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Remaining Budget</span>
                    <span class="detail-value">‚Çπ2.8 L (6.7%)</span>
                </div>
            </div>
        </div>

        <div class="card">
            <h3 class="card-title">üìä Cost Efficiency Metrics</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Cost per Event (Average)</span>
                    <span class="detail-value">‚Çπ83,404</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Cost per Attendee</span>
                    <span class="detail-value">‚Çπ98.42</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Rally Cost (Large)</span>
                    <span class="detail-value">‚Çπ2.8 L average</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Meeting Cost (Medium)</span>
                    <span class="detail-value">‚Çπ47,000 average</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Gathering Cost (Small)</span>
                    <span class="detail-value">‚Çπ12,000 average</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Budget Efficiency</span>
                    <span class="detail-value" style="color: #10b981;">96% on-target</span>
                </div>
            </div>
        </div>
    </div>

    <h2 class="section-title">Quick Actions</h2>

    <div class="action-grid">
        <div class="action-card" onclick="openNewEventModal()">
            <div class="action-icon">‚ûï</div>
            <div class="action-title">Schedule Event</div>
            <div class="action-desc">Plan new event</div>
        </div>
        <div class="action-card" onclick="viewEventCalendar()">
            <div class="action-icon">üìÖ</div>
            <div class="action-title">Event Calendar</div>
            <div class="action-desc">Full schedule view</div>
        </div>
        <div class="action-card" onclick="manageVenues()">
            <div class="action-icon">üè¢</div>
            <div class="action-title">Venue Database</div>
            <div class="action-desc">Available locations</div>
        </div>
        <div class="action-card" onclick="bookEquipment()">
            <div class="action-icon">üé™</div>
            <div class="action-title">Equipment Booking</div>
            <div class="action-desc">Reserve resources</div>
        </div>
        <div class="action-card" onclick="mobilizeVolunteers()">
            <div class="action-icon">üë•</div>
            <div class="action-title">Mobilize Crowd</div>
            <div class="action-desc">Volunteer coordination</div>
        </div>
        <div class="action-card" onclick="exportEventsData()">
            <div class="action-icon">‚¨áÔ∏è</div>
            <div class="action-title">Export Data</div>
            <div class="action-desc">Download reports</div>
        </div>
    </div>
</div>

<!-- Modal for Event Details -->
<div class="modal" id="eventDetailModal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title" id="eventModalTitle">Event Details</h2>
            <button class="modal-close" onclick="closeEventModal()">√ó</button>
        </div>
        <div class="modal-body" id="eventModalBody">
            <!-- Content populated by JavaScript -->
        </div>
    </div>
</div>

<!-- Modal for Event Type Details -->
<div class="modal" id="eventTypeModal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title" id="eventTypeModalTitle">Event Type</h2>
            <button class="modal-close" onclick="closeEventTypeModal()">√ó</button>
        </div>
        <div class="modal-body" id="eventTypeModalBody">
            <!-- Content populated by JavaScript -->
        </div>
    </div>
</div>

<!-- Modal for Event Profile -->
<div class="modal" id="eventProfileModal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title" id="eventProfileModalTitle">Event Profile</h2>
            <button class="modal-close" onclick="closeEventProfileModal()">√ó</button>
        </div>
        <div class="modal-body" id="eventProfileModalBody">
            <!-- Content populated by JavaScript -->
        </div>
    </div>
</div>

<script>
// Event Detail Modal Functions
function showEventDetailModal(type) {
    let title = '';
    let content = '';
    
    switch(type) {
        case 'total':
            title = 'Total Events This Month - 47 Completed';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Event Breakdown</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">Total Events</div>
                            <div class="modal-item-value">47</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Large Rallies</div>
                            <div class="modal-item-value">8 (17%)</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Community Meetings</div>
                            <div class="modal-item-value">24 (51%)</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Small Gatherings</div>
                            <div class="modal-item-value">15 (32%)</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Constituency Distribution</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Jayanagar</span>
                            <span class="detail-value">8 events</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Basavanagudi</span>
                            <span class="detail-value">6 events</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Malleshwaram</span>
                            <span class="detail-value">5 events</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Other Constituencies</span>
                            <span class="detail-value">28 events (15 areas)</span>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Timeline Analysis</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Weekday Events</span>
                            <span class="detail-value">27 (57.4%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Weekend Events</span>
                            <span class="detail-value">20 (42.6%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Morning Events (6 AM - 12 PM)</span>
                            <span class="detail-value">12 events</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Evening Events (5 PM - 9 PM)</span>
                            <span class="detail-value">31 events (most popular)</span>
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case 'upcoming':
            title = 'Upcoming Events - 32 Scheduled';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Next 30 Days Schedule</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">Total Scheduled</div>
                            <div class="modal-item-value">32 Events</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Next Week</div>
                            <div class="modal-item-value">8 events</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Week 2-3</div>
                            <div class="modal-item-value">14 events</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Week 4</div>
                            <div class="modal-item-value">10 events</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Event Status</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Confirmed & Ready</span>
                            <span class="detail-value" style="color: #10b981;">24 events (75%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">In Planning Phase</span>
                            <span class="detail-value" style="color: #f59e0b;">8 events (25%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Venue Booked</span>
                            <span class="detail-value">28 out of 32 (87.5%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Permits Obtained</span>
                            <span class="detail-value">24 out of 32 (75%)</span>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Expected Impact</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Total Expected Attendance</span>
                            <span class="detail-value">42,000+ people</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Media Events</span>
                            <span class="detail-value">8 press conferences/briefs</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Estimated Media Reach</span>
                            <span class="detail-value">3.2M readers/viewers</span>
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case 'attendance':
            title = 'Total Attendance - 39,809 Participants';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Attendance Overview</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">Total Attendance</div>
                            <div class="modal-item-value">39,809</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Average per Event</div>
                            <div class="modal-item-value">847 people</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Highest Attendance</div>
                            <div class="modal-item-value">3,847 (Mega Rally)</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Lowest Attendance</div>
                            <div class="modal-item-value">24 (Planning Meeting)</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Attendance by Event Type</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Large Rallies (8 events)</span>
                            <span class="detail-value">22,776 total (avg 2,847)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Community Meetings (24 events)</span>
                            <span class="detail-value">5,928 total (avg 247)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Small Gatherings (15 events)</span>
                            <span class="detail-value">705 total (avg 47)</span>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Target Achievement</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Events Meeting Target</span>
                            <span class="detail-value" style="color: #10b981;">44 out of 47 (93.6%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Events Exceeding Target</span>
                            <span class="detail-value" style="color: #10b981;">28 out of 47 (59.6%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Events Below Target</span>
                            <span class="detail-value" style="color: #ef4444;">3 out of 47 (6.4%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Overall Achievement Rate</span>
                            <span class="detail-value" style="color: #10b981;">107.4%</span>
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case 'success':
            title = 'Success Rate - 94% Achievement';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Success Metrics</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">Overall Success Rate</div>
                            <div class="modal-item-value" style="color: #10b981;">94%</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Successful Events</div>
                            <div class="modal-item-value">44 out of 47</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Below Expectations</div>
                            <div class="modal-item-value">3 events</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Cancelled</div>
                            <div class="modal-item-value">0 events</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Success Criteria</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Attendance Target Met</span>
                            <span class="detail-value">44 events (93.6%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Media Coverage Achieved</span>
                            <span class="detail-value">42 events (89.4%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Budget Within Limits</span>
                            <span class="detail-value">45 events (95.7%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Quality Standards Met</span>
                            <span class="detail-value">46 events (97.9%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Client Satisfaction</span>
                            <span class="detail-value" style="color: #10b981;">4.7/5.0 average</span>
                        </div>
                    </div>
                </div>
            `;
            break;
    }
    
    document.getElementById('eventModalTitle').textContent = title;
    document.getElementById('eventModalBody').innerHTML = content;
    document.getElementById('eventDetailModal').classList.add('active');
}

function showEventTypeModal(type) {
    let title = '';
    let content = '';
    
    switch(type) {
        case 'rallies':
            title = 'Large Rallies - 8 Events (1000+ Attendance)';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Rally Characteristics</div>
                    <div class="info-box">
                        <div class="info-box-content">
                            Large rallies are mass gatherings designed for maximum visibility and media impact. These events require extensive planning including large venue booking, crowd mobilization, security arrangements, stage setup, sound systems, LED screens, media coordination, and often feature speeches by multiple leaders. Average planning time is 21 days with budgets ranging from ‚Çπ2-4 lakh per event.
                        </div>
                    </info-box>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Rally Statistics</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Total Rallies This Month</span>
                            <span class="detail-value">8 events</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Average Attendance</span>
                            <span class="detail-value">2,847 people per rally</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Total Reach</span>
                            <span class="detail-value">22,776 direct participants</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Media Coverage</span>
                            <span class="detail-value">100% - all covered by press</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Average Duration</span>
                            <span class="detail-value">3.2 hours</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Average Cost</span>
                            <span class="detail-value">‚Çπ2.8 Lakh per rally</span>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Rally Requirements</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Venue Type</span>
                            <span class="detail-value">Open grounds, stadiums (5,000+ capacity)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Police Permission</span>
                            <span class="detail-value">Mandatory - 7 days advance</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Security Personnel</span>
                            <span class="detail-value">Minimum 50 per rally</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Sound & Stage Setup</span>
                            <span class="detail-value">Professional equipment required</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Transport Arrangement</span>
                            <span class="detail-value">20-30 buses typically</span>
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case 'meetings':
            title = 'Community Meetings - 24 Events (100-500 Attendance)';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Meeting Overview</div>
                    <div class="info-box">
                        <div class="info-box-content">
                            Community meetings are medium-sized gatherings focused on specific constituencies, communities, or issues. These events allow for more interactive engagement with voters, Q&A sessions, and targeted messaging. They include booth-level meetings, ward committee gatherings, community leader interactions, and sectoral meetings (youth, women, seniors, business community).
                        </div>
                    </info-box>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Meeting Statistics</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Total Meetings This Month</span>
                            <span class="detail-value">24 events</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Average Attendance</span>
                            <span class="detail-value">247 people per meeting</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Total Reach</span>
                            <span class="detail-value">5,928 direct participants</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Success Rate</span>
                            <span class="detail-value" style="color: #10b981;">96% met targets</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Average Duration</span>
                            <span class="detail-value">2.1 hours</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Average Cost</span>
                            <span class="detail-value">‚Çπ47,000 per meeting</span>
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case 'gatherings':
            title = 'Small Gatherings - 15 Events (Under 100 Attendance)';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Gathering Overview</div>
                    <div class="info-box">
                        <div class="info-box-content">
                            Small gatherings are intimate events for specific groups, key influencers, or focused discussions. These include planning meetings, strategy sessions with local leaders, donor meetings, party worker gatherings, and targeted outreach to specific communities. High engagement and personal interaction characterize these events.
                        </div>
                    </info-box>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Gathering Statistics</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Total Gatherings This Month</span>
                            <span class="detail-value">15 events</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Average Attendance</span>
                            <span class="detail-value">47 people per gathering</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Total Reach</span>
                            <span class="detail-value">705 direct participants</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Engagement Level</span>
                            <span class="detail-value" style="color: #10b981;">Very High - personal interaction</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Average Cost</span>
                            <span class="detail-value">‚Çπ12,000 per gathering</span>
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case 'press':
            title = 'Press Conferences - 6 Events';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Press Event Overview</div>
                    <div class="info-box">
                        <div class="info-box-content">
                            Press conferences and media briefings are specialized events for announcing policies, responding to issues, or making important statements. These events focus on media attendance and coverage rather than public participation. Proper press kits, backdrops, and professional setup are essential for credibility and impact.
                        </div>
                    </info-box>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Press Event Statistics</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Total Press Events</span>
                            <span class="detail-value">6 events</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Average Media Attendance</span>
                            <span class="detail-value">24 journalists per event</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Total Publications</span>
                            <span class="detail-value">147 news articles</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Estimated Media Reach</span>
                            <span class="detail-value">2.4M readers/viewers</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">TV Coverage</span>
                            <span class="detail-value">18 news segments</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Average Cost</span>
                            <span class="detail-value">‚Çπ28,000 per event</span>
                        </div>
                    </div>
                </div>
            `;
            break;
    }
    
    document.getElementById('eventTypeModalTitle').textContent = title;
    document.getElementById('eventTypeModalBody').innerHTML = content;
    document.getElementById('eventTypeModal').classList.add('active');
}

function showEventProfileModal(eventId) {
    const title = 'Event Profile - Youth Development Rally';
    const content = `
        <div class="modal-section">
            <div class="modal-section-title">Event Overview</div>
            <div class="modal-grid">
                <div class="modal-item">
                    <div class="modal-item-label">Event Name</div>
                    <div class="modal-item-value">Youth Development Rally</div>
                </div>
                <div class="modal-item">
                    <div class="modal-item-label">Event Type</div>
                    <div class="modal-item-value">Large Rally</div>
                </div>
                <div class="modal-item">
                    <div class="modal-item-label">Date & Time</div>
                    <div class="modal-item-value">March 28, 2025 - 6:00 PM</div>
                </div>
                <div class="modal-item">
                    <div class="modal-item-label">Client</div>
                    <div class="modal-item-value">Rajesh Patel (Jayanagar)</div>
                </div>
            </div>
        </div>
        <div class="modal-section">
            <div class="modal-section-title">Venue & Logistics</div>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Venue</span>
                    <span class="detail-value">Jayanagar Ground (5,000 capacity)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Expected Attendance</span>
                    <span class="detail-value">3,000+ people</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Stage & Sound Setup</span>
                    <span class="detail-value">Professional system - Confirmed</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Transport Arranged</span>
                    <span class="detail-value">25 buses booked</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Security Personnel</span>
                    <span class="detail-value">60 assigned</span>
                </div>
            </div>
        </div>
        <div class="modal-section">
            <div class="modal-section-title">Budget & Status</div>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Total Budget</span>
                    <span class="detail-value">‚Çπ2.8 Lakh</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Amount Spent</span>
                    <span class="detail-value">‚Çπ1.4 L (50%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status</span>
                    <span class="detail-value" style="color: #10b981;">Confirmed & On-Track</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Police Permission</span>
                    <span class="detail-value" style="color: #10b981;">Obtained</span>
                </div>
            </div>
        </div>
    `;
    
    document.getElementById('eventProfileModalTitle').textContent = title;
    document.getElementById('eventProfileModalBody').innerHTML = content;
    document.getElementById('eventProfileModal').classList.add('active');
}

function closeEventModal() {
    document.getElementById('eventDetailModal').classList.remove('active');
}

function closeEventTypeModal() {
    document.getElementById('eventTypeModal').classList.remove('active');
}

function closeEventProfileModal() {
    document.getElementById('eventProfileModal').classList.remove('active');
}

// Action Functions
function exportEventsData() {
    alert('Exporting complete event data with attendance, costs, and performance metrics...');
}

function openNewEventModal() {
    alert('Opening event planning wizard...');
}

function filterEventsByType(value) {
    alert('Filtering events by type: ' + value);
}

function filterEventsByConstituency(value) {
    alert('Filtering events by constituency: ' + value);
}

function viewEventCalendar() {
    alert('Loading full event calendar view...');
}

function manageVenues() {
    alert('Opening venue database and booking system...');
}

function bookEquipment() {
    alert('Loading equipment booking interface...');
}

function mobilizeVolunteers() {
    alert('Opening volunteer mobilization system...');
}

// Close modals when clicking outside
document.addEventListener('click', function(e) {
    if (e.target.classList.contains('modal')) {
        e.target.classList.remove('active');
    }
});
</script>

      <!-- Enhanced Voter Analysis Section -->
<div id="page-voter-analysis" class="page-content">
    <div class="page-header">
        <div class="page-title-row" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
            <h1 class="page-title">Voter Analysis & Demographics</h1>
            <div class="page-actions">
                <button class="btn btn-secondary btn-sm" onclick="exportVoterData()">
                    <span>‚¨áÔ∏è</span> Export Data
                </button>
                <button class="btn btn-primary btn-sm" onclick="generateVoterReport()">
                    <span>üìä</span> Analytics Report
                </button>
            </div>
        </div>
        <p class="page-subtitle">Comprehensive voter demographics, behavioral patterns, and trend analysis for Bengaluru Urban District</p>
    </div>

    <div class="info-box">
        <div class="info-box-title">
            <span>üìä</span>
            Voter Demographics & Trend Analysis System
        </div>
        <div class="info-box-content">
            <strong>Complete Voter Intelligence Database:</strong> Comprehensive demographic analysis and behavioral profiling of 89 lakh registered voters across Bengaluru Urban District's 28 assembly constituencies. Our advanced voter analytics system combines Election Commission data, field intelligence, survey results, and historical voting patterns to create detailed voter segmentation. Analysis covers age distribution (youth 18-35: 42.3%, middle-age 36-60: 42.1%, seniors 60+: 15.6%), gender breakdown (male: 51.1%, female: 48.9%), educational qualifications, income levels, occupational categories, religious demographics, caste composition, language preferences, and geographic distribution (urban: 100% in this district).<br><br>
            <strong>Key Insights & Patterns:</strong> First-time voters 2028: 4.2 lakh (4.7% of total) | Swing voters identified: 12.4 lakh (13.9%) | Party loyalty high: 58% | Undecided voters: 28% | Historical turnout average: 71.3% | Youth turnout challenge: 62.7% (below average) | Senior citizen turnout: 84.2% (highest) | Women voters growth: +3.8% since 2023 | Urban educated voters: 77.2% literacy rate | Income diversity: Lower (34%), Middle (48%), Upper (18%) | Booth-level micro-targeting: 3,247 booths analyzed | Predictive modeling accuracy: 87.4% | Data updated: Real-time with monthly comprehensive reviews
        </div>
    </div>

    <h2 class="section-title">Voter Demographics Overview</h2>

    <div class="grid grid-4">
        <div class="stat-card" onclick="showVoterDetailModal('total')">
            <div class="stat-icon">üë•</div>
            <div class="stat-value">89 L</div>
            <div class="stat-label">Total Registered Voters</div>
            <div class="stat-detail">
                Across 28 constituencies
            </div>
        </div>

        <div class="stat-card" onclick="showVoterDetailModal('youth')">
            <div class="stat-icon">üéì</div>
            <div class="stat-value">42.3%</div>
            <div class="stat-label">Youth Voters (18-35)</div>
            <div class="stat-detail">
                <strong>37.6 L</strong> young voters
            </div>
        </div>

        <div class="stat-card" onclick="showVoterDetailModal('women')">
            <div class="stat-icon">üë©</div>
            <div class="stat-value">48.9%</div>
            <div class="stat-label">Women Voters</div>
            <div class="stat-detail">
                <strong>43.5 L</strong> female voters
            </div>
        </div>

        <div class="stat-card" onclick="showVoterDetailModal('first-time')">
            <div class="stat-icon">üÜï</div>
            <div class="stat-value">4.2 L</div>
            <div class="stat-label">First-time Voters</div>
            <div class="stat-detail">
                <strong>4.7%</strong> of electorate
            </div>
        </div>
    </div>

    <h2 class="section-title">Age-wise Voter Distribution</h2>

    <div class="grid grid-4">
        <div class="card" onclick="showAgeGroupModal('18-25')">
            <h3 class="card-title">üë®‚Äçüéì 18-25 Years</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Total Voters</span>
                    <span class="detail-value" style="color: #667eea;">12.4 L</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Percentage</span>
                    <span class="detail-value">13.9%</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">First-time Voters</span>
                    <span class="detail-value">4.2 L (33.9%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Turnout 2023</span>
                    <span class="detail-value">58.4% (lowest)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Key Issues</span>
                    <span class="detail-value">Jobs, Education</span>
                </div>
            </div>
            <button class="btn btn-primary btn-sm" style="width: 100%; margin-top: 16px;" onclick="event.stopPropagation(); showAgeGroupModal('18-25')">
                View Details ‚Üí
            </button>
        </div>

        <div class="card" onclick="showAgeGroupModal('26-35')">
            <h3 class="card-title">üë®‚Äçüíº 26-35 Years</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Total Voters</span>
                    <span class="detail-value" style="color: #10b981;">25.2 L</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Percentage</span>
                    <span class="detail-value">28.3%</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Professionals</span>
                    <span class="detail-value">High IT sector</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Turnout 2023</span>
                    <span class="detail-value">67.2%</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Key Issues</span>
                    <span class="detail-value">Infrastructure, Cost of Living</span>
                </div>
            </div>
            <button class="btn btn-primary btn-sm" style="width: 100%; margin-top: 16px;" onclick="event.stopPropagation(); showAgeGroupModal('26-35')">
                View Details ‚Üí
            </button>
        </div>

        <div class="card" onclick="showAgeGroupModal('36-60')">
            <h3 class="card-title">üë®‚Äçüë©‚Äçüëß 36-60 Years</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Total Voters</span>
                    <span class="detail-value" style="color: #f59e0b;">37.5 L</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Percentage</span>
                    <span class="detail-value">42.1%</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Characteristics</span>
                    <span class="detail-value">Established families</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Turnout 2023</span>
                    <span class="detail-value">75.8% (above avg)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Key Issues</span>
                    <span class="detail-value">Healthcare, Education, Safety</span>
                </div>
            </div>
            <button class="btn btn-primary btn-sm" style="width: 100%; margin-top: 16px;" onclick="event.stopPropagation(); showAgeGroupModal('36-60')">
                View Details ‚Üí
            </button>
        </div>

        <div class="card" onclick="showAgeGroupModal('60-plus')">
            <h3 class="card-title">üë¥ 60+ Years</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Total Voters</span>
                    <span class="detail-value" style="color: #ef4444;">13.9 L</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Percentage</span>
                    <span class="detail-value">15.6%</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Characteristics</span>
                    <span class="detail-value">Senior citizens</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Turnout 2023</span>
                    <span class="detail-value">84.2% (highest)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Key Issues</span>
                    <span class="detail-value">Healthcare, Pensions, Transport</span>
                </div>
            </div>
            <button class="btn btn-primary btn-sm" style="width: 100%; margin-top: 16px;" onclick="event.stopPropagation(); showAgeGroupModal('60-plus')">
                View Details ‚Üí
            </button>
        </div>
    </div>

    <h2 class="section-title">Voter Segmentation Analysis</h2>

    <div class="grid grid-3">
        <div class="card">
            <h3 class="card-title">üë• Gender Distribution</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Male Voters</span>
                    <span class="detail-value">45.5 L (51.1%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Female Voters</span>
                    <span class="detail-value">43.5 L (48.9%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Third Gender</span>
                    <span class="detail-value">3,247 (0.04%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Sex Ratio</span>
                    <span class="detail-value">956 females/1000 males</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Female Growth 2023-25</span>
                    <span class="detail-value" style="color: #10b981;">+3.8%</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Women Turnout 2023</span>
                    <span class="detail-value">72.8% (higher than male)</span>
                </div>
            </div>
        </div>

        <div class="card">
            <h3 class="card-title">üìö Education Levels</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Graduate & Above</span>
                    <span class="detail-value">42.8 L (48.1%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">12th Pass</span>
                    <span class="detail-value">18.7 L (21.0%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">10th Pass</span>
                    <span class="detail-value">14.2 L (16.0%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Below 10th</span>
                    <span class="detail-value">10.7 L (12.0%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Illiterate</span>
                    <span class="detail-value">2.6 L (2.9%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Overall Literacy</span>
                    <span class="detail-value" style="color: #10b981;">97.1%</span>
                </div>
            </div>
        </div>

        <div class="card">
            <h3 class="card-title">üí∞ Income Categories</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Lower Income (<‚Çπ5L)</span>
                    <span class="detail-value">30.3 L (34.0%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Middle Income (‚Çπ5-15L)</span>
                    <span class="detail-value">42.7 L (48.0%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Upper Middle (‚Çπ15-30L)</span>
                    <span class="detail-value">12.5 L (14.0%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">High Income (>‚Çπ30L)</span>
                    <span class="detail-value">3.5 L (4.0%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">IT Sector Employees</span>
                    <span class="detail-value">18.4 L (20.7%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Government Employees</span>
                    <span class="detail-value">8.9 L (10.0%)</span>
                </div>
            </div>
        </div>
    </div>

    <h2 class="section-title">Voting Behavior & Patterns</h2>

    <div class="grid grid-2">
        <div class="card">
            <h3 class="card-title">üéØ Voter Categories by Behavior</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">Committed Voters (Strong Party Loyalty)</span>
                    <span class="detail-value">51.6 L (58.0%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Swing Voters (Can Switch)</span>
                    <span class="detail-value">12.4 L (13.9%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Undecided Voters</span>
                    <span class="detail-value">24.9 L (28.0%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Occasional Voters (Skip Elections)</span>
                    <span class="detail-value">8.9 L (10.0%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Strategic Voters (Issue-based)</span>
                    <span class="detail-value">17.8 L (20.0%)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">First-time Voters (New to System)</span>
                    <span class="detail-value">4.2 L (4.7%)</span>
                </div>
            </div>
        </div>

        <div class="card">
            <h3 class="card-title">üìä Historical Turnout Trends</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">2023 Assembly Election</span>
                    <span class="detail-value">71.3% turnout</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">2024 Lok Sabha Election</span>
                    <span class="detail-value">68.7% turnout</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">2018 Assembly Election</span>
                    <span class="detail-value">69.8% turnout</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Average Turnout (Last 10 years)</span>
                    <span class="detail-value">70.2%</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Projected Turnout 2028</span>
                    <span class="detail-value" style="color: #10b981;">73.5% (estimated)</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Turnout Growth Trend</span>
                    <span class="detail-value" style="color: #10b981;">+0.8% per election</span>
                </div>
            </div>
        </div>
    </div>

    <h2 class="section-title">Constituency-wise Voter Analysis</h2>

    <div class="card">
        <div class="card-header">
            <h3 class="card-title">Top 10 Constituencies by Demographics</h3>
            <select id="demoFilter" onchange="filterByDemographic(this.value)" 
                    style="padding: 8px 16px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: white;">
                <option value="voters">Total Voters</option>
                <option value="youth">Youth Voters</option>
                <option value="women">Women Voters</option>
                <option value="turnout">Turnout %</option>
            </select>
        </div>
        <div class="table-container">
            <table class="table">
                <thead>
                    <tr>
                        <th>Constituency</th>
                        <th>Total Voters</th>
                        <th>Youth (18-35)</th>
                        <th>Women %</th>
                        <th>Literacy %</th>
                        <th>Turnout 2023</th>
                        <th>Swing Potential</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Mahadevapura</strong></td>
                        <td>3.24 L</td>
                        <td>1.52 L (46.9%)</td>
                        <td>47.8%</td>
                        <td>92.4%</td>
                        <td>68.2%</td>
                        <td><span class="badge badge-warning">Medium</span></td>
                        <td><button class="btn btn-primary btn-sm">View</button></td>
                    </tr>
                    <tr>
                        <td><strong>Rajarajeshwari Nagar</strong></td>
                        <td>3.14 L</td>
                        <td>1.41 L (44.9%)</td>
                        <td>48.2%</td>
                        <td>88.7%</td>
                        <td>69.8%</td>
                        <td><span class="badge badge-success">Low</span></td>
                        <td><button class="btn btn-primary btn-sm">View</button></td>
                    </tr>
                    <tr>
                        <td><strong>Bommanahalli</strong></td>
                        <td>3.12 L</td>
                        <td>1.48 L (47.4%)</td>
                        <td>47.3%</td>
                        <td>91.8%</td>
                        <td>67.4%</td>
                        <td><span class="badge badge-danger">High</span></td>
                        <td><button class="btn btn-primary btn-sm">View</button></td>
                    </tr>
                    <tr>
                        <td><strong>K.R. Puram</strong></td>
                        <td>3.08 L</td>
                        <td>1.39 L (45.1%)</td>
                        <td>48.9%</td>
                        <td>89.6%</td>
                        <td>70.2%</td>
                        <td><span class="badge badge-warning">Medium</span></td>
                        <td><button class="btn btn-primary btn-sm">View</button></td>
                    </tr>
                    <tr>
                        <td><strong>C.V. Raman Nagar</strong></td>
                        <td>3.02 L</td>
                        <td>1.34 L (44.4%)</td>
                        <td>49.1%</td>
                        <td>93.2%</td>
                        <td>71.8%</td>
                        <td><span class="badge badge-warning">Medium</span></td>
                        <td><button class="btn btn-primary btn-sm">View</button></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <h2 class="section-title">Key Voter Issues & Priorities</h2>

    <div class="grid grid-3">
        <div class="card">
            <h3 class="card-title">üéØ Top Issues (All Voters)</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">1. Employment & Jobs</span>
                    <span class="detail-value">67% priority</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">2. Infrastructure</span>
                    <span class="detail-value">58% priority</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">3. Cost of Living</span>
                    <span class="detail-value">54% priority</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">4. Traffic & Transport</span>
                    <span class="detail-value">52% priority</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">5. Healthcare</span>
                    <span class="detail-value">47% priority</span>
                </div>
            </div>
        </div>

        <div class="card">
            <h3 class="card-title">üë®‚Äçüéì Youth Priorities (18-35)</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">1. Job Opportunities</span>
                    <span class="detail-value">84% priority</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">2. Affordable Housing</span>
                    <span class="detail-value">67% priority</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">3. Startup Ecosystem</span>
                    <span class="detail-value">54% priority</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">4. Digital Infrastructure</span>
                    <span class="detail-value">49% priority</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">5. Entertainment & Culture</span>
                    <span class="detail-value">42% priority</span>
                </div>
            </div>
        </div>

        <div class="card">
            <h3 class="card-title">üë¥ Senior Priorities (60+)</h3>
            <div class="detail-box">
                <div class="detail-row">
                    <span class="detail-label">1. Healthcare Access</span>
                    <span class="detail-value">89% priority</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">2. Pension Schemes</span>
                    <span class="detail-value">78% priority</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">3. Public Transport</span>
                    <span class="detail-value">71% priority</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">4. Safety & Security</span>
                    <span class="detail-value">64% priority</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">5. Parks & Recreation</span>
                    <span class="detail-value">52% priority</span>
                </div>
            </div>
        </div>
    </div>

    <h2 class="section-title">Quick Actions</h2>

    <div class="action-grid">
        <div class="action-card" onclick="viewBoothAnalysis()">
            <div class="action-icon">üìç</div>
            <div class="action-title">Booth Analysis</div>
            <div class="action-desc">Micro-level data</div>
        </div>
        <div class="action-card" onclick="generateVoterReport()">
            <div class="action-icon">üìä</div>
            <div class="action-title">Generate Report</div>
            <div class="action-desc">Comprehensive analysis</div>
        </div>
        <div class="action-card" onclick="viewSwingVoters()">
            <div class="action-icon">üéØ</div>
            <div class="action-title">Swing Voters</div>
            <div class="action-desc">Target segments</div>
        </div>
        <div class="action-card" onclick="compareConstituencies()">
            <div class="action-icon">‚öñÔ∏è</div>
            <div class="action-title">Compare Areas</div>
            <div class="action-desc">Side-by-side view</div>
        </div>
        <div class="action-card" onclick="voterTrends()">
            <div class="action-icon">üìà</div>
            <div class="action-title">Trend Analysis</div>
            <div class="action-desc">Historical patterns</div>
        </div>
        <div class="action-card" onclick="exportVoterData()">
            <div class="action-icon">‚¨áÔ∏è</div>
            <div class="action-title">Export Data</div>
            <div class="action-desc">Download reports</div>
        </div>
    </div>
</div>

<!-- Modal for Voter Details -->
<div class="modal" id="voterDetailModal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title" id="voterModalTitle">Voter Details</h2>
            <button class="modal-close" onclick="closeVoterModal()">√ó</button>
        </div>
        <div class="modal-body" id="voterModalBody">
            <!-- Content populated by JavaScript -->
        </div>
    </div>
</div>

<!-- Modal for Age Group Details -->
<div class="modal" id="ageGroupModal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title" id="ageGroupModalTitle">Age Group Analysis</h2>
            <button class="modal-close" onclick="closeAgeGroupModal()">√ó</button>
        </div>
        <div class="modal-body" id="ageGroupModalBody">
            <!-- Content populated by JavaScript -->
        </div>
    </div>
</div>

<script>
// Voter Detail Modal Functions
function showVoterDetailModal(type) {
    let title = '';
    let content = '';
    
    switch(type) {
        case 'total':
            title = 'Total Registered Voters - 89 Lakh';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Voter Registration Overview</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">Total Voters</div>
                            <div class="modal-item-value">89,00,000</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Male Voters</div>
                            <div class="modal-item-value">45.5 L (51.1%)</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Female Voters</div>
                            <div class="modal-item-value">43.5 L (48.9%)</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Growth Since 2023</div>
                            <div class="modal-item-value" style="color: #10b981;">+3.2%</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Registration Trends</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">New Registrations (2023-2025)</span>
                            <span class="detail-value">2.8 Lakh voters</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Deletions (Deaths/Migration)</span>
                            <span class="detail-value">1.2 Lakh voters</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Net Addition</span>
                            <span class="detail-value" style="color: #10b981;">+1.6 Lakh</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Voters per Booth (Avg)</span>
                            <span class="detail-value">274</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Voters per Constituency (Avg)</span>
                            <span class="detail-value">3.18 Lakh</span>
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case 'youth':
            title = 'Youth Voters (18-35) - 42.3% of Electorate';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Youth Voter Demographics</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">Total Youth Voters</div>
                            <div class="modal-item-value">37.6 Lakh</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">18-25 Age Group</div>
                            <div class="modal-item-value">12.4 L (33.0%)</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">26-35 Age Group</div>
                            <div class="modal-item-value">25.2 L (67.0%)</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Youth as % of Total</div>
                            <div class="modal-item-value">42.3%</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Youth Voting Patterns</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Turnout 2023</span>
                            <span class="detail-value" style="color: #f59e0b;">62.7% (below average)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Digital Engagement</span>
                            <span class="detail-value">Very High (87% on social media)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Party Loyalty</span>
                            <span class="detail-value">Low (34% committed)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Issue-based Voting</span>
                            <span class="detail-value">High (Jobs, Housing priority)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Swing Potential</span>
                            <span class="detail-value" style="color: #ef4444;">Very High (28% swing voters)</span>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Youth Demographics</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">IT Sector Employees</span>
                            <span class="detail-value">14.2 L (37.8%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Students</span>
                            <span class="detail-value">8.9 L (23.7%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Entrepreneurs/Freelancers</span>
                            <span class="detail-value">3.8 L (10.1%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Job Seekers</span>
                            <span class="detail-value">4.7 L (12.5%)</span>
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case 'women':
            title = 'Women Voters - 43.5 Lakh (48.9%)';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Women Voter Statistics</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">Total Women Voters</div>
                            <div class="modal-item-value">43.5 Lakh</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Percentage of Electorate</div>
                            <div class="modal-item-value">48.9%</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Growth Since 2023</div>
                            <div class="modal-item-value" style="color: #10b981;">+3.8%</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Sex Ratio</div>
                            <div class="modal-item-value">956/1000</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Women Voting Behavior</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Turnout 2023</span>
                            <span class="detail-value" style="color: #10b981;">72.8% (higher than male)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Working Women</span>
                            <span class="detail-value">18.7 L (43.0%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Homemakers</span>
                            <span class="detail-value">21.4 L (49.2%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Students</span>
                            <span class="detail-value">3.4 L (7.8%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Top Priority Issue</span>
                            <span class="detail-value">Safety & Security (74%)</span>
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case 'first-time':
            title = 'First-time Voters - 4.2 Lakh (4.7%)';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">First-time Voter Profile</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">Total First-timers</div>
                            <div class="modal-item-value">4.2 Lakh</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Age 18-21</div>
                            <div class="modal-item-value">4.2 L (100%)</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Male</div>
                            <div class="modal-item-value">2.2 L (52.4%)</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Female</div>
                            <div class="modal-item-value">2.0 L (47.6%)</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Characteristics & Challenges</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Expected Turnout</span>
                            <span class="detail-value" style="color: #f59e0b;">52-58% (typically lower)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Political Awareness</span>
                            <span class="detail-value">Moderate (developing)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Digital Native</span>
                            <span class="detail-value">98% active on social media</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Party Affiliation</span>
                            <span class="detail-value">Minimal (12% decided)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Most Influenced By</span>
                            <span class="detail-value">Peers, Social Media, Issues</span>
                        </div>
                    </div>
                </div>
            `;
            break;
    }
    
    document.getElementById('voterModalTitle').textContent = title;
    document.getElementById('voterModalBody').innerHTML = content;
    document.getElementById('voterDetailModal').classList.add('active');
}

function showAgeGroupModal(ageGroup) {
    let title = '';
    let content = '';
    
    switch(ageGroup) {
        case '18-25':
            title = '18-25 Age Group - Young Voters (12.4 Lakh)';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Demographics</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">Total Voters</div>
                            <div class="modal-item-value">12.4 Lakh</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">% of Electorate</div>
                            <div class="modal-item-value">13.9%</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Male</div>
                            <div class="modal-item-value">6.5 L (52.4%)</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Female</div>
                            <div class="modal-item-value">5.9 L (47.6%)</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Characteristics</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Primary Occupation</span>
                            <span class="detail-value">Students (72%), Entry-level Jobs (28%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Turnout 2023</span>
                            <span class="detail-value" style="color: #ef4444;">58.4% (lowest group)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Top Issues</span>
                            <span class="detail-value">Jobs (84%), Education (67%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Social Media Usage</span>
                            <span class="detail-value">99% active users</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Party Loyalty</span>
                            <span class="detail-value">Very Low (18%)</span>
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case '26-35':
            title = '26-35 Age Group - Young Professionals (25.2 Lakh)';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Demographics</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">Total Voters</div>
                            <div class="modal-item-value">25.2 Lakh</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">% of Electorate</div>
                            <div class="modal-item-value">28.3%</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">IT Professionals</div>
                            <div class="modal-item-value">11.8 L (46.8%)</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Married</div>
                            <div class="modal-item-value">14.7 L (58.3%)</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Voting Behavior</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Turnout 2023</span>
                            <span class="detail-value">67.2%</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Top Issues</span>
                            <span class="detail-value">Infrastructure (74%), Housing (67%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Income Level</span>
                            <span class="detail-value">Middle-Upper (avg ‚Çπ12L/yr)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Swing Potential</span>
                            <span class="detail-value" style="color: #f59e0b;">High (22%)</span>
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case '36-60':
            title = '36-60 Age Group - Middle Age (37.5 Lakh)';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Demographics</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">Total Voters</div>
                            <div class="modal-item-value">37.5 Lakh</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">% of Electorate</div>
                            <div class="modal-item-value">42.1%</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Established Families</div>
                            <div class="modal-item-value">82% married</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Homeowners</div>
                            <div class="modal-item-value">67%</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Voting Patterns</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Turnout 2023</span>
                            <span class="detail-value" style="color: #10b981;">75.8% (above average)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Party Loyalty</span>
                            <span class="detail-value">High (67% committed)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Top Issues</span>
                            <span class="detail-value">Healthcare, Education, Safety</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Decision Making</span>
                            <span class="detail-value">Careful, Research-based</span>
                        </div>
                    </div>
                </div>
            `;
            break;
            
        case '60-plus':
            title = '60+ Age Group - Senior Citizens (13.9 Lakh)';
            content = `
                <div class="modal-section">
                    <div class="modal-section-title">Demographics</div>
                    <div class="modal-grid">
                        <div class="modal-item">
                            <div class="modal-item-label">Total Voters</div>
                            <div class="modal-item-value">13.9 Lakh</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">% of Electorate</div>
                            <div class="modal-item-value">15.6%</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Retired</div>
                            <div class="modal-item-value">9.2 L (66.2%)</div>
                        </div>
                        <div class="modal-item">
                            <div class="modal-item-label">Pension Recipients</div>
                            <div class="modal-item-value">7.8 L (56.1%)</div>
                        </div>
                    </div>
                </div>
                <div class="modal-section">
                    <div class="modal-section-title">Voting Behavior</div>
                    <div class="detail-box">
                        <div class="detail-row">
                            <span class="detail-label">Turnout 2023</span>
                            <span class="detail-value" style="color: #10b981;">84.2% (highest)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Party Loyalty</span>
                            <span class="detail-value">Very High (84%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Top Issues</span>
                            <span class="detail-value">Healthcare (89%), Pensions (78%)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Swing Potential</span>
                            <span class="detail-value" style="color: #10b981;">Low (7%)</span>
                        </div>
                    </div>
                </div>
            `;
            break;
    }
    
    document.getElementById('ageGroupModalTitle').textContent = title;
    document.getElementById('ageGroupModalBody').innerHTML = content;
    document.getElementById('ageGroupModal').classList.add('active');
}

function closeVoterModal() {
    document.getElementById('voterDetailModal').classList.remove('active');
}

function closeAgeGroupModal() {
    document.getElementById('ageGroupModal').classList.remove('active');
}

// Action Functions
function exportVoterData() {
    alert('Exporting complete voter analysis data with demographics and trends...');
}

function generateVoterReport() {
    alert('Generating comprehensive voter analytics report...');
}

function filterByDemographic(value) {
    alert('Filtering constituencies by: ' + value);
}

function viewBoothAnalysis() {
    alert('Loading booth-level voter analysis...');
}

function viewSwingVoters() {
    alert('Loading swing voter targeting data...');
}

function compareConstituencies() {
    alert('Opening constituency comparison tool...');
}

function voterTrends() {
    alert('Loading historical voter trend analysis...');
}

// Close modals when clicking outside
document.addEventListener('click', function(e) {
    if (e.target.classList.contains('modal')) {
        e.target.classList.remove('active');
    }
});
</script>
       <!-- Sentiment Tracking Page - Complete Version -->
<div id="page-sentiment" class="page-content">
    <div class="page-header">
        <div class="page-title-row">
            <h1 class="page-title">Sentiment Tracking</h1>
            <div class="page-actions">
                <button class="btn btn-secondary btn-sm" onclick="exportSentimentData()">
                    <span>‚¨áÔ∏è</span> Export Data
                </button>
                <button class="btn btn-primary btn-sm" onclick="generateSentimentReport()">
                    <span>üìä</span> Generate Report
                </button>
            </div>
        </div>
        <div class="breadcrumb">
            <span class="breadcrumb-link" onclick="loadPage('dashboard')">Home</span>
            <span>/</span>
            <span>Sentiment Tracking</span>
        </div>
    </div>

    <div class="info-box">
        <div class="info-box-title">
            <span>üí≠</span>
            Public Opinion Intelligence
        </div>
        <div class="info-box-content">
            Real-time sentiment analysis from social media, surveys, and ground reports. AI-powered sentiment tracking monitors over 2.4 million social media posts daily, 847 active survey responses weekly, and 1,248 field reports monthly across Karnataka. Our advanced natural language processing analyzes sentiment in Kannada, Hindi, and English to provide comprehensive public opinion insights for campaign strategy optimization.
        </div>
    </div>

    <!-- Overall Sentiment Stats -->
    <div class="grid grid-4">
        <div class="stat-card clickable" onclick="showSentimentDetail('positive')">
            <div class="stat-icon" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
                üòä
            </div>
            <div class="stat-value">42.3%</div>
            <div class="stat-label">Positive Sentiment</div>
            <div class="stat-trend positive">
                <span class="trend-icon">‚Üë</span>
                <span>+5.7% from last week</span>
            </div>
        </div>

        <div class="stat-card clickable" onclick="showSentimentDetail('neutral')">
            <div class="stat-icon" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);">
                üòê
            </div>
            <div class="stat-value">34.8%</div>
            <div class="stat-label">Neutral</div>
            <div class="stat-trend neutral">
                <span class="trend-icon">‚Üí</span>
                <span>-1.2% from last week</span>
            </div>
        </div>

        <div class="stat-card clickable" onclick="showSentimentDetail('negative')">
            <div class="stat-icon" style="background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);">
                üòû
            </div>
            <div class="stat-value">22.9%</div>
            <div class="stat-label">Negative</div>
            <div class="stat-trend negative">
                <span class="trend-icon">‚Üì</span>
                <span>-4.5% from last week</span>
            </div>
        </div>

        <div class="stat-card clickable" onclick="showSentimentDetail('total')">
            <div class="stat-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                üìä
            </div>
            <div class="stat-value">2.4M</div>
            <div class="stat-label">Total Mentions</div>
            <div class="stat-trend positive">
                <span class="trend-icon">‚Üë</span>
                <span>+12.3% from last week</span>
            </div>
        </div>
    </div>

    <!-- Platform-wise Sentiment Analysis -->
    <div class="section-header">
        <h2 class="section-title">Platform-wise Sentiment Distribution</h2>
        <div class="section-actions">
            <button class="btn btn-sm btn-secondary" onclick="refreshPlatformData()">
                <span>üîÑ</span> Refresh
            </button>
        </div>
    </div>

    <div class="grid grid-4">
        <div class="card platform-card" onclick="showPlatformDetail('twitter')">
            <div class="platform-header">
                <div class="platform-icon" style="background: #1DA1F2; color: white;">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                    </svg>
                </div>
                <div>
                    <div class="platform-name">X (Twitter)</div>
                    <div class="platform-stats">847K mentions</div>
                </div>
            </div>
            <div class="sentiment-bars">
                <div class="sentiment-bar-item">
                    <div class="sentiment-bar-label">
                        <span>Positive</span>
                        <span>45.2%</span>
                    </div>
                    <div class="sentiment-bar-track">
                        <div class="sentiment-bar-fill positive" style="width: 45.2%"></div>
                    </div>
                </div>
                <div class="sentiment-bar-item">
                    <div class="sentiment-bar-label">
                        <span>Neutral</span>
                        <span>32.1%</span>
                    </div>
                    <div class="sentiment-bar-track">
                        <div class="sentiment-bar-fill neutral" style="width: 32.1%"></div>
                    </div>
                </div>
                <div class="sentiment-bar-item">
                    <div class="sentiment-bar-label">
                        <span>Negative</span>
                        <span>22.7%</span>
                    </div>
                    <div class="sentiment-bar-track">
                        <div class="sentiment-bar-fill negative" style="width: 22.7%"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="card platform-card" onclick="showPlatformDetail('facebook')">
            <div class="platform-header">
                <div class="platform-icon" style="background: #1877F2; color: white;">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                    </svg>
                </div>
                <div>
                    <div class="platform-name">Facebook</div>
                    <div class="platform-stats">1.2M mentions</div>
                </div>
            </div>
            <div class="sentiment-bars">
                <div class="sentiment-bar-item">
                    <div class="sentiment-bar-label">
                        <span>Positive</span>
                        <span>41.8%</span>
                    </div>
                    <div class="sentiment-bar-track">
                        <div class="sentiment-bar-fill positive" style="width: 41.8%"></div>
                    </div>
                </div>
                <div class="sentiment-bar-item">
                    <div class="sentiment-bar-label">
                        <span>Neutral</span>
                        <span>35.4%</span>
                    </div>
                    <div class="sentiment-bar-track">
                        <div class="sentiment-bar-fill neutral" style="width: 35.4%"></div>
                    </div>
                </div>
                <div class="sentiment-bar-item">
                    <div class="sentiment-bar-label">
                        <span>Negative</span>
                        <span>22.8%</span>
                    </div>
                    <div class="sentiment-bar-track">
                        <div class="sentiment-bar-fill negative" style="width: 22.8%"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="card platform-card" onclick="showPlatformDetail('instagram')">
            <div class="platform-header">
                <div class="platform-icon" style="background: linear-gradient(45deg, #f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%); color: white;">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                    </svg>
                </div>
                <div>
                    <div class="platform-name">Instagram</div>
                    <div class="platform-stats">324K mentions</div>
                </div>
            </div>
            <div class="sentiment-bars">
                <div class="sentiment-bar-item">
                    <div class="sentiment-bar-label">
                        <span>Positive</span>
                        <span>48.3%</span>
                    </div>
                    <div class="sentiment-bar-track">
                        <div class="sentiment-bar-fill positive" style="width: 48.3%"></div>
                    </div>
                </div>
                <div class="sentiment-bar-item">
                    <div class="sentiment-bar-label">
                        <span>Neutral</span>
                        <span>35.9%</span>
                    </div>
                    <div class="sentiment-bar-track">
                        <div class="sentiment-bar-fill neutral" style="width: 35.9%"></div>
                    </div>
                </div>
                <div class="sentiment-bar-item">
                    <div class="sentiment-bar-label">
                        <span>Negative</span>
                        <span>15.8%</span>
                    </div>
                    <div class="sentiment-bar-track">
                        <div class="sentiment-bar-fill negative" style="width: 15.8%"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="card platform-card" onclick="showPlatformDetail('youtube')">
            <div class="platform-header">
                <div class="platform-icon" style="background: #FF0000; color: white;">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                    </svg>
                </div>
                <div>
                    <div class="platform-name">YouTube</div>
                    <div class="platform-stats">156K mentions</div>
                </div>
            </div>
            <div class="sentiment-bars">
                <div class="sentiment-bar-item">
                    <div class="sentiment-bar-label">
                        <span>Positive</span>
                        <span>39.7%</span>
                    </div>
                    <div class="sentiment-bar-track">
                        <div class="sentiment-bar-fill positive" style="width: 39.7%"></div>
                    </div>
                </div>
                <div class="sentiment-bar-item">
                    <div class="sentiment-bar-label">
                        <span>Neutral</span>
                        <span>36.2%</span>
                    </div>
                    <div class="sentiment-bar-track">
                        <div class="sentiment-bar-fill neutral" style="width: 36.2%"></div>
                    </div>
                </div>
                <div class="sentiment-bar-item">
                    <div class="sentiment-bar-label">
                        <span>Negative</span>
                        <span>24.1%</span>
                    </div>
                    <div class="sentiment-bar-track">
                        <div class="sentiment-bar-fill negative" style="width: 24.1%"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Sentiment Sources -->
    <div class="section-header">
        <h2 class="section-title">Sentiment Data Sources</h2>
    </div>

    <div class="grid grid-3">
        <div class="card source-card" onclick="showSourceDetail('social')">
            <div class="source-icon">
                <span style="font-size: 32px;">üì±</span>
            </div>
            <div class="source-name">Social Media</div>
            <div class="source-stats">
                <div class="source-stat-item">
                    <div class="source-stat-value">2.4M</div>
                    <div class="source-stat-label">Daily Posts Analyzed</div>
                </div>
                <div class="source-stat-item">
                    <div class="source-stat-value">89.7%</div>
                    <div class="source-stat-label">Coverage Rate</div>
                </div>
            </div>
            <div class="sentiment-summary">
                <div class="sentiment-chip positive">45% Positive</div>
                <div class="sentiment-chip neutral">33% Neutral</div>
                <div class="sentiment-chip negative">22% Negative</div>
            </div>
        </div>

        <div class="card source-card" onclick="showSourceDetail('surveys')">
            <div class="source-icon">
                <span style="font-size: 32px;">üìä</span>
            </div>
            <div class="source-name">Survey Responses</div>
            <div class="source-stats">
                <div class="source-stat-item">
                    <div class="source-stat-value">847</div>
                    <div class="source-stat-label">Weekly Responses</div>
                </div>
                <div class="source-stat-item">
                    <div class="source-stat-value">94.2%</div>
                    <div class="source-stat-label">Response Rate</div>
                </div>
            </div>
            <div class="sentiment-summary">
                <div class="sentiment-chip positive">52% Positive</div>
                <div class="sentiment-chip neutral">29% Neutral</div>
                <div class="sentiment-chip negative">19% Negative</div>
            </div>
        </div>

        <div class="card source-card" onclick="showSourceDetail('ground')">
            <div class="source-icon">
                <span style="font-size: 32px;">üéôÔ∏è</span>
            </div>
            <div class="source-name">Ground Reports</div>
            <div class="source-stats">
                <div class="source-stat-item">
                    <div class="source-stat-value">1,248</div>
                    <div class="source-stat-label">Monthly Reports</div>
                </div>
                <div class="source-stat-item">
                    <div class="source-stat-value">31</div>
                    <div class="source-stat-label">Districts Covered</div>
                </div>
            </div>
            <div class="sentiment-summary">
                <div class="sentiment-chip positive">38% Positive</div>
                <div class="sentiment-chip neutral">41% Neutral</div>
                <div class="sentiment-chip negative">21% Negative</div>
            </div>
        </div>
    </div>

    <!-- Top Issues by Sentiment -->
    <div class="section-header">
        <h2 class="section-title">Top Issues by Sentiment</h2>
    </div>

    <div class="grid grid-2">
        <div class="card">
            <h3 class="card-title">Most Positive Issues</h3>
            <div class="issue-list">
                <div class="issue-item" onclick="showIssueDetail('infrastructure')">
                    <div class="issue-info">
                        <div class="issue-name">Infrastructure Development</div>
                        <div class="issue-sentiment positive">
                            <span class="sentiment-badge positive">+68%</span>
                            <span class="issue-mentions">124K mentions</span>
                        </div>
                    </div>
                    <div class="issue-trend">
                        <div class="trend-line">
                            <div class="trend-fill positive" style="width: 68%"></div>
                        </div>
                    </div>
                </div>

                <div class="issue-item" onclick="showIssueDetail('education')">
                    <div class="issue-info">
                        <div class="issue-name">Education Reforms</div>
                        <div class="issue-sentiment positive">
                            <span class="sentiment-badge positive">+62%</span>
                            <span class="issue-mentions">98K mentions</span>
                        </div>
                    </div>
                    <div class="issue-trend">
                        <div class="trend-line">
                            <div class="trend-fill positive" style="width: 62%"></div>
                        </div>
                    </div>
                </div>

                <div class="issue-item" onclick="showIssueDetail('technology')">
                    <div class="issue-info">
                        <div class="issue-name">Technology & Innovation</div>
                        <div class="issue-sentiment positive">
                            <span class="sentiment-badge positive">+58%</span>
                            <span class="issue-mentions">87K mentions</span>
                        </div>
                    </div>
                    <div class="issue-trend">
                        <div class="trend-line">
                            <div class="trend-fill positive" style="width: 58%"></div>
                        </div>
                    </div>
                </div>

                <div class="issue-item" onclick="showIssueDetail('healthcare')">
                    <div class="issue-info">
                        <div class="issue-name">Healthcare Access</div>
                        <div class="issue-sentiment positive">
                            <span class="sentiment-badge positive">+54%</span>
                            <span class="issue-mentions">76K mentions</span>
                        </div>
                    </div>
                    <div class="issue-trend">
                        <div class="trend-line">
                            <div class="trend-fill positive" style="width: 54%"></div>
                        </div>
                    </div>
                </div>

                <div class="issue-item" onclick="showIssueDetail('employment')">
                    <div class="issue-info">
                        <div class="issue-name">Employment Programs</div>
                        <div class="issue-sentiment positive">
                            <span class="sentiment-badge positive">+51%</span>
                            <span class="issue-mentions">69K mentions</span>
                        </div>
                    </div>
                    <div class="issue-trend">
                        <div class="trend-line">
                            <div class="trend-fill positive" style="width: 51%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <h3 class="card-title">Most Negative Issues</h3>
            <div class="issue-list">
                <div class="issue-item" onclick="showIssueDetail('corruption')">
                    <div class="issue-info">
                        <div class="issue-name">Corruption Concerns</div>
                        <div class="issue-sentiment negative">
                            <span class="sentiment-badge negative">-47%</span>
                            <span class="issue-mentions">142K mentions</span>
                        </div>
                    </div>
                    <div class="issue-trend">
                        <div class="trend-line">
                            <div class="trend-fill negative" style="width: 47%"></div>
                        </div>
                    </div>
                </div>

                <div class="issue-item" onclick="showIssueDetail('water')">
                    <div class="issue-info">
                        <div class="issue-name">Water Crisis</div>
                        <div class="issue-sentiment negative">
                            <span class="sentiment-badge negative">-43%</span>
                            <span class="issue-mentions">118K mentions</span>
                        </div>
                    </div>
                    <div class="issue-trend">
                        <div class="trend-line">
                            <div class="trend-fill negative" style="width: 43%"></div>
                        </div>
                    </div>
                </div>

                <div class="issue-item" onclick="showIssueDetail('power')">
                    <div class="issue-info">
                        <div class="issue-name">Power Supply Issues</div>
                        <div class="issue-sentiment negative">
                            <span class="sentiment-badge negative">-39%</span>
                            <span class="issue-mentions">94K mentions</span>
                        </div>
                    </div>
                    <div class="issue-trend">
                        <div class="trend-line">
                            <div class="trend-fill negative" style="width: 39%"></div>
                        </div>
                    </div>
                </div>

                <div class="issue-item" onclick="showIssueDetail('traffic')">
                    <div class="issue-info">
                        <div class="issue-name">Traffic & Transport</div>
                        <div class="issue-sentiment negative">
                            <span class="sentiment-badge negative">-36%</span>
                            <span class="issue-mentions">82K mentions</span>
                        </div>
                    </div>
                    <div class="issue-trend">
                        <div class="trend-line">
                            <div class="trend-fill negative" style="width: 36%"></div>
                        </div>
                    </div>
                </div>

                <div class="issue-item" onclick="showIssueDetail('crime')">
                    <div class="issue-info">
                        <div class="issue-name">Crime & Safety</div>
                        <div class="issue-sentiment negative">
                            <span class="sentiment-badge negative">-32%</span>
                            <span class="issue-mentions">71K mentions</span>
                        </div>
                    </div>
                    <div class="issue-trend">
                        <div class="trend-line">
                            <div class="trend-fill negative" style="width: 32%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- District-wise Sentiment -->
    <div class="section-header">
        <h2 class="section-title">District-wise Sentiment Analysis</h2>
        <div class="section-actions">
            <select class="filter-select" onchange="filterBySentiment(this.value)">
                <option value="all">All Districts</option>
                <option value="positive">Positive Districts</option>
                <option value="neutral">Neutral Districts</option>
                <option value="negative">Negative Districts</option>
            </select>
        </div>
    </div>

    <div class="card">
        <div class="data-table-container">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>District</th>
                        <th>Overall Sentiment</th>
                        <th>Positive</th>
                        <th>Neutral</th>
                        <th>Negative</th>
                        <th>Total Mentions</th>
                        <th>Trend</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Bengaluru Urban</strong></td>
                        <td>
                            <span class="sentiment-badge positive">+24%</span>
                        </td>
                        <td>48.7%</td>
                        <td>32.1%</td>
                        <td>19.2%</td>
                        <td>847K</td>
                        <td><span class="trend-icon positive">‚Üë 5.2%</span></td>
                        <td>
                            <button class="btn btn-sm btn-secondary" onclick="viewDistrictSentiment('bengaluru')">View Details</button>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>Mysuru</strong></td>
                        <td>
                            <span class="sentiment-badge positive">+19%</span>
                        </td>
                        <td>44.3%</td>
                        <td>36.2%</td>
                        <td>19.5%</td>
                        <td>284K</td>
                        <td><span class="trend-icon positive">‚Üë 3.1%</span></td>
                        <td>
                            <button class="btn btn-sm btn-secondary" onclick="viewDistrictSentiment('mysuru')">View Details</button>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>Belagavi</strong></td>
                        <td>
                            <span class="sentiment-badge positive">+16%</span>
                        </td>
                        <td>42.8%</td>
                        <td>37.4%</td>
                        <td>19.8%</td>
                        <td>176K</td>
                        <td><span class="trend-icon positive">‚Üë 2.7%</span></td>
                        <td>
                            <button class="btn btn-sm btn-secondary" onclick="viewDistrictSentiment('belagavi')">View Details</button>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>Hubballi-Dharwad</strong></td>
                        <td>
                            <span class="sentiment-badge positive">+12%</span>
                        </td>
                        <td>40.2%</td>
                        <td>39.1%</td>
                        <td>20.7%</td>
                        <td>142K</td>
                        <td><span class="trend-icon neutral">‚Üí 0.8%</span></td>
                        <td>
                            <button class="btn btn-sm btn-secondary" onclick="viewDistrictSentiment('hubballi')">View Details</button>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>Mangaluru</strong></td>
                        <td>
                            <span class="sentiment-badge positive">+8%</span>
                        </td>
                        <td>38.9%</td>
                        <td>40.2%</td>
                        <td>20.9%</td>
                        <td>128K</td>
                        <td><span class="trend-icon negative">‚Üì 1.2%</span></td>
                        <td>
                            <button class="btn btn-sm btn-secondary" onclick="viewDistrictSentiment('mangaluru')">View Details</button>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>Ballari</strong></td>
                        <td>
                            <span class="sentiment-badge neutral">+3%</span>
                        </td>
                        <td>36.4%</td>
                        <td>41.7%</td>
                        <td>21.9%</td>
                        <td>94K</td>
                        <td><span class="trend-icon negative">‚Üì 2.8%</span></td>
                        <td>
                            <button class="btn btn-sm btn-secondary" onclick="viewDistrictSentiment('ballari')">View Details</button>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>Kalaburagi</strong></td>
                        <td>
                            <span class="sentiment-badge negative">-4%</span>
                        </td>
                        <td>34.2%</td>
                        <td>39.1%</td>
                        <td>26.7%</td>
                        <td>87K</td>
                        <td><span class="trend-icon negative">‚Üì 4.3%</span></td>
                        <td>
                            <button class="btn btn-sm btn-secondary" onclick="viewDistrictSentiment('kalaburagi')">View Details</button>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>Vijayapura</strong></td>
                        <td>
                            <span class="sentiment-badge negative">-7%</span>
                        </td>
                        <td>32.8%</td>
                        <td>37.4%</td>
                        <td>29.8%</td>
                        <td>73K</td>
                        <td><span class="trend-icon negative">‚Üì 5.1%</span></td>
                        <td>
                            <button class="btn btn-sm btn-secondary" onclick="viewDistrictSentiment('vijayapura')">View Details</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="section-header">
        <h2 class="section-title">Quick Actions</h2>
    </div>

    <div class="grid grid-4">
        <button class="action-card" onclick="scheduleSentimentReport()">
            <div class="action-icon">üìÖ</div>
            <div class="action-name">Schedule Report</div>
            <div class="action-desc">Set up automated sentiment reports</div>
        </button>

        <button class="action-card" onclick="createSentimentAlert()">
            <div class="action-icon">üîî</div>
            <div class="action-name">Create Alert</div>
            <div class="action-desc">Get notified of sentiment changes</div>
        </button>

        <button class="action-card" onclick="compareSentimentTrends()">
            <div class="action-icon">üìà</div>
            <div class="action-name">Compare Trends</div>
            <div class="action-desc">Analyze sentiment over time</div>
        </button>

        <button class="action-card" onclick="exportSentimentData()">
            <div class="action-icon">‚¨áÔ∏è</div>
            <div class="action-name">Export Data</div>
            <div class="action-desc">Download sentiment analytics</div>
        </button>
    </div>
</div>

<!-- Sentiment Detail Modal -->
<div id="sentimentModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title" id="sentimentModalTitle">Sentiment Details</h2>
            <button class="modal-close" onclick="closeSentimentModal()">√ó</button>
        </div>
        <div class="modal-body" id="sentimentModalBody">
            <!-- Content will be inserted dynamically -->
        </div>
    </div>
</div>

<style>
/* Additional Styles for Sentiment Page */

.platform-card {
    cursor: pointer;
    transition: all 0.3s ease;
}

.platform-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
}

.platform-header {
    display: flex;
    align-items: center;
    gap: 16px;
    margin-bottom: 20px;
    padding-bottom: 16px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.platform-icon {
    width: 48px;
    height: 48px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.platform-name {
    font-size: 18px;
    font-weight: 600;
    color: rgba(255, 255, 255, 0.95);
}

.platform-stats {
    font-size: 13px;
    color: rgba(255, 255, 255, 0.6);
}

.sentiment-bars {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.sentiment-bar-item {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.sentiment-bar-label {
    display: flex;
    justify-content: space-between;
    font-size: 13px;
    color: rgba(255, 255, 255, 0.8);
}

.sentiment-bar-track {
    height: 24px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    overflow: hidden;
}

.sentiment-bar-fill {
    height: 100%;
    border-radius: 12px;
    transition: width 0.5s ease;
}

.sentiment-bar-fill.positive {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
}

.sentiment-bar-fill.neutral {
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
}

.sentiment-bar-fill.negative {
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
}

.source-card {
    text-align: center;
    cursor: pointer;
    transition: all 0.3s ease;
}

.source-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
}

.source-icon {
    margin-bottom: 16px;
}

.source-name {
    font-size: 18px;
    font-weight: 600;
    margin-bottom: 16px;
    color: rgba(255, 255, 255, 0.95);
}

.source-stats {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 16px;
    margin-bottom: 20px;
    padding: 16px 0;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.source-stat-value {
    font-size: 24px;
    font-weight: 700;
    color: #667eea;
    margin-bottom: 4px;
}

.source-stat-label {
    font-size: 12px;
    color: rgba(255, 255, 255, 0.6);
}

.sentiment-summary {
    display: flex;
    justify-content: center;
    gap: 8px;
    flex-wrap: wrap;
}

.sentiment-chip {
    padding: 6px 12px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 600;
}

.sentiment-chip.positive {
    background: rgba(16, 185, 129, 0.2);
    color: #10b981;
}

.sentiment-chip.neutral {
    background: rgba(245, 158, 11, 0.2);
    color: #f59e0b;
}

.sentiment-chip.negative {
    background: rgba(239, 68, 68, 0.2);
    color: #ef4444;
}

.issue-list {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.issue-item {
    padding: 16px;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.issue-item:hover {
    background: rgba(255, 255, 255, 0.06);
    transform: translateX(5px);
}

.issue-info {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
}

.issue-name {
    font-size: 15px;
    font-weight: 600;
    color: rgba(255, 255, 255, 0.95);
}

.issue-sentiment {
    display: flex;
    align-items: center;
    gap: 12px;
}

.sentiment-badge {
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 13px;
    font-weight: 700;
}

.sentiment-badge.positive {
    background: rgba(16, 185, 129, 0.2);
    color: #10b981;
}

.sentiment-badge.negative {
    background: rgba(239, 68, 68, 0.2);
    color: #ef4444;
}

.sentiment-badge.neutral {
    background: rgba(245, 158, 11, 0.2);
    color: #f59e0b;
}

.issue-mentions {
    font-size: 12px;
    color: rgba(255, 255, 255, 0.5);
}

.issue-trend {
    margin-top: 8px;
}

.trend-line {
    height: 6px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 3px;
    overflow: hidden;
}

.trend-fill {
    height: 100%;
    border-radius: 3px;
}

.trend-fill.positive {
    background: linear-gradient(90deg, #10b981 0%, #059669 100%);
}

.trend-fill.negative {
    background: linear-gradient(90deg, #ef4444 0%, #dc2626 100%);
}

.action-card {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    padding: 24px;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s ease;
}

.action-card:hover {
    background: rgba(102, 126, 234, 0.1);
    border-color: rgba(102, 126, 234, 0.3);
    transform: translateY(-5px);
}

.action-icon {
    font-size: 36px;
    margin-bottom: 12px;
}

.action-name {
    font-size: 16px;
    font-weight: 600;
    margin-bottom: 8px;
    color: rgba(255, 255, 255, 0.95);
}

.action-desc {
    font-size: 13px;
    color: rgba(255, 255, 255, 0.6);
}

.trend-icon {
    font-size: 13px;
}

.trend-icon.positive {
    color: #10b981;
}

.trend-icon.negative {
    color: #ef4444;
}

.trend-icon.neutral {
    color: #f59e0b;
}
</style>

<script>
// JavaScript Functions for Sentiment Tracking Page

function showSentimentDetail(type) {
    const modal = document.getElementById('sentimentModal');
    const title = document.getElementById('sentimentModalTitle');
    const body = document.getElementById('sentimentModalBody');
    
    const contentMap = {
        'positive': {
            title: 'Positive Sentiment Details - 42.3%',
            content: `
                <div style="color: rgba(255,255,255,0.9);">
                    <h3 style="margin-bottom: 16px;">Positive Sentiment Breakdown</h3>
                    <p style="margin-bottom: 24px;">Analyzing 1.02M positive mentions across all platforms and sources.</p>
                    
                    <div style="display: grid; gap: 16px;">
                        <div style="background: rgba(16, 185, 129, 0.1); padding: 16px; border-radius: 12px; border: 1px solid rgba(16, 185, 129, 0.3);">
                            <div style="font-size: 18px; font-weight: 600; color: #10b981; margin-bottom: 8px;">Top Positive Keywords</div>
                            <div style="color: rgba(255,255,255,0.8);">Development, Progress, Innovation, Growth, Improvement, Success, Achievement, Better</div>
                        </div>
                        
                        <div style="background: rgba(16, 185, 129, 0.1); padding: 16px; border-radius: 12px; border: 1px solid rgba(16, 185, 129, 0.3);">
                            <div style="font-size: 18px; font-weight: 600; color: #10b981; margin-bottom: 8px;">Peak Hours</div>
                            <div style="color: rgba(255,255,255,0.8);">Morning (9 AM - 12 PM): 38% | Evening (6 PM - 9 PM): 42%</div>
                        </div>
                        
                        <div style="background: rgba(16, 185, 129, 0.1); padding: 16px; border-radius: 12px; border: 1px solid rgba(16, 185, 129, 0.3);">
                            <div style="font-size: 18px; font-weight: 600; color: #10b981; margin-bottom: 8px;">Demographics</div>
                            <div style="color: rgba(255,255,255,0.8);">Age 25-34: 32% | Age 35-44: 28% | Urban: 64% | Rural: 36%</div>
                        </div>
                        
                        <div style="background: rgba(16, 185, 129, 0.1); padding: 16px; border-radius: 12px; border: 1px solid rgba(16, 185, 129, 0.3);">
                            <div style="font-size: 18px; font-weight: 600; color: #10b981; margin-bottom: 8px;">Weekly Trend</div>
                            <div style="color: rgba(255,255,255,0.8);">+5.7% increase from last week | +12.4% from last month</div>
                        </div>
                    </div>
                </div>
            `
        },
        'neutral': {
            title: 'Neutral Sentiment Details - 34.8%',
            content: `
                <div style="color: rgba(255,255,255,0.9);">
                    <h3 style="margin-bottom: 16px;">Neutral Sentiment Breakdown</h3>
                    <p style="margin-bottom: 24px;">Analyzing 835K neutral mentions - representing factual discussions and queries.</p>
                    
                    <div style="display: grid; gap: 16px;">
                        <div style="background: rgba(245, 158, 11, 0.1); padding: 16px; border-radius: 12px; border: 1px solid rgba(245, 158, 11, 0.3);">
                            <div style="font-size: 18px; font-weight: 600; color: #f59e0b; margin-bottom: 8px;">Common Topics</div>
                            <div style="color: rgba(255,255,255,0.8);">Information seeking, Policy inquiries, News sharing, General discussions</div>
                        </div>
                        
                        <div style="background: rgba(245, 158, 11, 0.1); padding: 16px; border-radius: 12px; border: 1px solid rgba(245, 158, 11, 0.3);">
                            <div style="font-size: 18px; font-weight: 600; color: #f59e0b; margin-bottom: 8px;">Conversion Potential</div>
                            <div style="color: rgba(255,255,255,0.8);">42% can be converted to positive with proper engagement</div>
                        </div>
                        
                        <div style="background: rgba(245, 158, 11, 0.1); padding: 16px; border-radius: 12px; border: 1px solid rgba(245, 158, 11, 0.3);">
                            <div style="font-size: 18px; font-weight: 600; color: #f59e0b; margin-bottom: 8px;">Platform Distribution</div>
                            <div style="color: rgba(255,255,255,0.8);">Facebook: 38% | Twitter: 27% | Instagram: 22% | YouTube: 13%</div>
                        </div>
                    </div>
                </div>
            `
        },
        'negative': {
            title: 'Negative Sentiment Details - 22.9%',
            content: `
                <div style="color: rgba(255,255,255,0.9);">
                    <h3 style="margin-bottom: 16px;">Negative Sentiment Breakdown</h3>
                    <p style="margin-bottom: 24px;">Analyzing 550K negative mentions requiring immediate attention and response strategy.</p>
                    
                    <div style="display: grid; gap: 16px;">
                        <div style="background: rgba(239, 68, 68, 0.1); padding: 16px; border-radius: 12px; border: 1px solid rgba(239, 68, 68, 0.3);">
                            <div style="font-size: 18px; font-weight: 600; color: #ef4444; margin-bottom: 8px;">Primary Concerns</div>
                            <div style="color: rgba(255,255,255,0.8);">Corruption (28%), Water Crisis (24%), Traffic (18%), Crime (15%), Other (15%)</div>
                        </div>
                        
                        <div style="background: rgba(239, 68, 68, 0.1); padding: 16px; border-radius: 12px; border: 1px solid rgba(239, 68, 68, 0.3);">
                            <div style="font-size: 18px; font-weight: 600; color: #ef4444; margin-bottom: 8px;">Critical Areas</div>
                            <div style="color: rgba(255,255,255,0.8);">Kalaburagi (-4%), Vijayapura (-7%), Yadgir (-9%) require immediate intervention</div>
                        </div>
                        
                        <div style="background: rgba(239, 68, 68, 0.1); padding: 16px; border-radius: 12px; border: 1px solid rgba(239, 68, 68, 0.3);">
                            <div style="font-size: 18px; font-weight: 600; color: #ef4444; margin-bottom: 8px;">Response Rate</div>
                            <div style="color: rgba(255,255,255,0.8);">67% of negative mentions addressed within 24 hours</div>
                        </div>
                        
                        <div style="background: rgba(239, 68, 68, 0.1); padding: 16px; border-radius: 12px; border: 1px solid rgba(239, 68, 68, 0.3);">
                            <div style="font-size: 18px; font-weight: 600; color: #ef4444; margin-bottom: 8px;">Trending Down</div>
                            <div style="color: rgba(255,255,255,0.8);">-4.5% decrease from last week shows improving situation</div>
                        </div>
                    </div>
                </div>
            `
        },
        'total': {
            title: 'Total Mentions - 2.4M',
            content: `
                <div style="color: rgba(255,255,255,0.9);">
                    <h3 style="margin-bottom: 16px;">Total Mentions Overview</h3>
                    <p style="margin-bottom: 24px;">Comprehensive analysis of 2.4 million mentions across all platforms and sources.</p>
                    
                    <div style="display: grid; gap: 16px;">
                        <div style="background: rgba(102, 126, 234, 0.1); padding: 16px; border-radius: 12px; border: 1px solid rgba(102, 126, 234, 0.3);">
                            <div style="font-size: 18px; font-weight: 600; color: #667eea; margin-bottom: 8px;">Daily Volume</div>
                            <div style="color: rgba(255,255,255,0.8);">Average: 82,400 mentions/day | Peak: 127,000 | Low: 64,000</div>
                        </div>
                        
                        <div style="background: rgba(102, 126, 234, 0.1); padding: 16px; border-radius: 12px; border: 1px solid rgba(102, 126, 234, 0.3);">
                            <div style="font-size: 18px; font-weight: 600; color: #667eea; margin-bottom: 8px;">Growth Rate</div>
                            <div style="color: rgba(255,255,255,0.8);">+12.3% from last week | +34.7% from last month | +78.4% from last quarter</div>
                        </div>
                        
                        <div style="background: rgba(102, 126, 234, 0.1); padding: 16px; border-radius: 12px; border: 1px solid rgba(102, 126, 234, 0.3);">
                            <div style="font-size: 18px; font-weight: 600; color: #667eea; margin-bottom: 8px;">Engagement Rate</div>
                            <div style="color: rgba(255,255,255,0.8);">Likes: 8.4M | Comments: 1.2M | Shares: 847K | Saves: 234K</div>
                        </div>
                        
                        <div style="background: rgba(102, 126, 234, 0.1); padding: 16px; border-radius: 12px; border: 1px solid rgba(102, 126, 234, 0.3);">
                            <div style="font-size: 18px; font-weight: 600; color: #667eea; margin-bottom: 8px;">Reach & Impressions</div>
                            <div style="color: rgba(255,255,255,0.8);">Estimated reach: 12.7M unique users | Total impressions: 34.2M</div>
                        </div>
                    </div>
                </div>
            `
        }
    };
    
    const data = contentMap[type];
    title.textContent = data.title;
    body.innerHTML = data.content;
    modal.classList.add('active');
}

function closeSentimentModal() {
    document.getElementById('sentimentModal').classList.remove('active');
}

function showPlatformDetail(platform) {
    alert(`Detailed analysis for ${platform} coming soon...`);
}

function showSourceDetail(source) {
    alert(`Detailed ${source} source analysis coming soon...`);
}

function showIssueDetail(issue) {
    alert(`Detailed analysis for ${issue} issue coming soon...`);
}

function viewDistrictSentiment(district) {
    alert(`Loading detailed sentiment analysis for ${district}...`);
}

function filterBySentiment(value) {
    alert(`Filtering districts by: ${value}`);
}

function exportSentimentData() {
    alert('Exporting complete sentiment analysis data...');
}

function generateSentimentReport() {
    alert('Generating comprehensive sentiment report...');
}

function refreshPlatformData() {
    alert('Refreshing platform sentiment data...');
}

function scheduleSentimentReport() {
    alert('Opening report scheduling interface...');
}

function createSentimentAlert() {
    alert('Creating sentiment change alert...');
}

function compareSentimentTrends() {
    alert('Opening sentiment trend comparison tool...');
}

// Close modal when clicking outside
document.addEventListener('click', function(e) {
    if (e.target.id === 'sentimentModal') {
        closeSentimentModal();
    }
});
</script>
       <!-- Competition Intelligence Page - Complete Version -->
<div id="page-competition" class="page-content">
    <div class="page-header">
        <div class="page-title-row">
            <h1 class="page-title">Competition Intelligence</h1>
            <div class="page-actions">
                <button class="btn btn-secondary btn-sm" onclick="exportCompetitionData()">
                    <span>‚¨áÔ∏è</span> Export Data
                </button>
                <button class="btn btn-primary btn-sm" onclick="generateCompetitorReport()">
                    <span>üìä</span> Intel Report
                </button>
            </div>
        </div>
        <div class="breadcrumb">
            <span class="breadcrumb-link" onclick="loadPage('dashboard')">Home</span>
            <span>/</span>
            <span>Competition Intelligence</span>
        </div>
    </div>

    <div class="info-box">
        <div class="info-box-title">
            <span>üéØ</span>
            Competitor Intelligence Hub
        </div>
        <div class="info-box-content">
            Real-time monitoring of opposition activities, strategies, and campaign movements across Karnataka. Track 147 active political competitors, analyze their campaign strategies, monitor resource allocation, and predict electoral outcomes. Our AI-powered intelligence system aggregates data from social media (2.4M posts daily), ground reports (847 weekly), media coverage (1,248 articles daily), and field intelligence from 31 districts to provide comprehensive competitor analysis for strategic campaign planning.
        </div>
    </div>

    <!-- Competition Overview Stats -->
    <div class="grid grid-4">
        <div class="stat-card clickable" onclick="showCompetitorDetail('total')">
            <div class="stat-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                üë•
            </div>
            <div class="stat-value">147</div>
            <div class="stat-label">Active Competitors</div>
            <div class="stat-trend positive">
                <span class="trend-icon">‚Üë</span>
                <span>+12 new entries</span>
            </div>
        </div>

        <div class="stat-card clickable" onclick="showCompetitorDetail('parties')">
            <div class="stat-icon" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);">
                üèõÔ∏è
            </div>
            <div class="stat-value">18</div>
            <div class="stat-label">Political Parties</div>
            <div class="stat-trend neutral">
                <span class="trend-icon">‚Üí</span>
                <span>Including 3 alliances</span>
            </div>
        </div>

        <div class="stat-card clickable" onclick="showCompetitorDetail('campaigns')">
            <div class="stat-icon" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
                üì¢
            </div>
            <div class="stat-value">89</div>
            <div class="stat-label">Active Campaigns</div>
            <div class="stat-trend positive">
                <span class="trend-icon">‚Üë</span>
                <span>+7 this week</span>
            </div>
        </div>

        <div class="stat-card clickable" onclick="showCompetitorDetail('threat')">
            <div class="stat-icon" style="background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);">
                ‚ö†Ô∏è
            </div>
            <div class="stat-value">23</div>
            <div class="stat-label">High Threat Level</div>
            <div class="stat-trend negative">
                <span class="trend-icon">‚Üë</span>
                <span>Requires attention</span>
            </div>
        </div>
    </div>

    <!-- Major Competitors Profile -->
    <div class="section-header">
        <h2 class="section-title">Major Competitor Profiles</h2>
        <div class="section-actions">
            <select class="filter-select" onchange="filterCompetitors(this.value)">
                <option value="all">All Competitors</option>
                <option value="high-threat">High Threat</option>
                <option value="medium-threat">Medium Threat</option>
                <option value="low-threat">Low Threat</option>
            </select>
        </div>
    </div>

    <div class="grid grid-3">
        <div class="card competitor-card high-threat" onclick="viewCompetitorProfile('party-a')">
            <div class="competitor-header">
                <div class="competitor-avatar" style="background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);">
                    PA
                </div>
                <div class="threat-badge high">High Threat</div>
            </div>
            <div class="competitor-info">
                <h3 class="competitor-name">Party A</h3>
                <div class="competitor-meta">
                    <span>üèõÔ∏è National Party</span>
                    <span>üìç 84 Constituencies</span>
                </div>
            </div>
            <div class="competitor-stats-grid">
                <div class="competitor-stat">
                    <div class="stat-label">Vote Share</div>
                    <div class="stat-value">38.7%</div>
                </div>
                <div class="competitor-stat">
                    <div class="stat-label">Seats Won (2023)</div>
                    <div class="stat-value">104</div>
                </div>
                <div class="competitor-stat">
                    <div class="stat-label">Campaign Strength</div>
                    <div class="stat-value">Strong</div>
                </div>
                <div class="competitor-stat">
                    <div class="stat-label">Resource Level</div>
                    <div class="stat-value">Very High</div>
                </div>
            </div>
            <div class="competitor-metrics">
                <div class="metric-item">
                    <div class="metric-label">Social Media Reach</div>
                    <div class="metric-bar">
                        <div class="metric-fill" style="width: 87%; background: #ef4444;"></div>
                    </div>
                    <div class="metric-value">8.7M followers</div>
                </div>
                <div class="metric-item">
                    <div class="metric-label">Ground Activity</div>
                    <div class="metric-bar">
                        <div class="metric-fill" style="width: 92%; background: #ef4444;"></div>
                    </div>
                    <div class="metric-value">1,247 events/week</div>
                </div>
                <div class="metric-item">
                    <div class="metric-label">Media Coverage</div>
                    <div class="metric-bar">
                        <div class="metric-fill" style="width: 84%; background: #ef4444;"></div>
                    </div>
                    <div class="metric-value">842 mentions/day</div>
                </div>
            </div>
            <div class="competitor-tags">
                <span class="tag">Incumbent</span>
                <span class="tag">Well-funded</span>
                <span class="tag">Strong Organization</span>
            </div>
        </div>

        <div class="card competitor-card medium-threat" onclick="viewCompetitorProfile('party-b')">
            <div class="competitor-header">
                <div class="competitor-avatar" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);">
                    PB
                </div>
                <div class="threat-badge medium">Medium Threat</div>
            </div>
            <div class="competitor-info">
                <h3 class="competitor-name">Party B</h3>
                <div class="competitor-meta">
                    <span>üèõÔ∏è Regional Party</span>
                    <span>üìç 67 Constituencies</span>
                </div>
            </div>
            <div class="competitor-stats-grid">
                <div class="competitor-stat">
                    <div class="stat-label">Vote Share</div>
                    <div class="stat-value">28.4%</div>
                </div>
                <div class="competitor-stat">
                    <div class="stat-label">Seats Won (2023)</div>
                    <div class="stat-value">67</div>
                </div>
                <div class="competitor-stat">
                    <div class="stat-label">Campaign Strength</div>
                    <div class="stat-value">Moderate</div>
                </div>
                <div class="competitor-stat">
                    <div class="stat-label">Resource Level</div>
                    <div class="stat-value">High</div>
                </div>
            </div>
            <div class="competitor-metrics">
                <div class="metric-item">
                    <div class="metric-label">Social Media Reach</div>
                    <div class="metric-bar">
                        <div class="metric-fill" style="width: 64%; background: #f59e0b;"></div>
                    </div>
                    <div class="metric-value">5.2M followers</div>
                </div>
                <div class="metric-item">
                    <div class="metric-label">Ground Activity</div>
                    <div class="metric-bar">
                        <div class="metric-fill" style="width: 71%; background: #f59e0b;"></div>
                    </div>
                    <div class="metric-value">847 events/week</div>
                </div>
                <div class="metric-item">
                    <div class="metric-label">Media Coverage</div>
                    <div class="metric-bar">
                        <div class="metric-fill" style="width: 58%; background: #f59e0b;"></div>
                    </div>
                    <div class="metric-value">524 mentions/day</div>
                </div>
            </div>
            <div class="competitor-tags">
                <span class="tag">Opposition</span>
                <span class="tag">Regional Focus</span>
                <span class="tag">Growing Base</span>
            </div>
        </div>

        <div class="card competitor-card low-threat" onclick="viewCompetitorProfile('party-c')">
            <div class="competitor-header">
                <div class="competitor-avatar" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
                    PC
                </div>
                <div class="threat-badge low">Low Threat</div>
            </div>
            <div class="competitor-info">
                <h3 class="competitor-name">Party C</h3>
                <div class="competitor-meta">
                    <span>üèõÔ∏è State Party</span>
                    <span>üìç 42 Constituencies</span>
                </div>
            </div>
            <div class="competitor-stats-grid">
                <div class="competitor-stat">
                    <div class="stat-label">Vote Share</div>
                    <div class="stat-value">14.2%</div>
                </div>
                <div class="competitor-stat">
                    <div class="stat-label">Seats Won (2023)</div>
                    <div class="stat-value">32</div>
                </div>
                <div class="competitor-stat">
                    <div class="stat-label">Campaign Strength</div>
                    <div class="stat-value">Weak</div>
                </div>
                <div class="competitor-stat">
                    <div class="stat-label">Resource Level</div>
                    <div class="stat-value">Medium</div>
                </div>
            </div>
            <div class="competitor-metrics">
                <div class="metric-item">
                    <div class="metric-label">Social Media Reach</div>
                    <div class="metric-bar">
                        <div class="metric-fill" style="width: 38%; background: #10b981;"></div>
                    </div>
                    <div class="metric-value">2.8M followers</div>
                </div>
                <div class="metric-item">
                    <div class="metric-label">Ground Activity</div>
                    <div class="metric-bar">
                        <div class="metric-fill" style="width: 42%; background: #10b981;"></div>
                    </div>
                    <div class="metric-value">347 events/week</div>
                </div>
                <div class="metric-item">
                    <div class="metric-label">Media Coverage</div>
                    <div class="metric-bar">
                        <div class="metric-fill" style="width: 31%; background: #10b981;"></div>
                    </div>
                    <div class="metric-value">247 mentions/day</div>
                </div>
            </div>
            <div class="competitor-tags">
                <span class="tag">Small Party</span>
                <span class="tag">Limited Reach</span>
                <span class="tag">Niche Focus</span>
            </div>
        </div>
    </div>

    <!-- Campaign Activity Tracking -->
    <div class="section-header">
        <h2 class="section-title">Recent Campaign Activities</h2>
        <div class="section-actions">
            <button class="btn btn-sm btn-secondary" onclick="refreshActivityFeed()">
                <span>üîÑ</span> Refresh
            </button>
        </div>
    </div>

    <div class="grid grid-2">
        <div class="card">
            <h3 class="card-title">Last 24 Hours Activity</h3>
            <div class="activity-timeline">
                <div class="activity-item high-priority">
                    <div class="activity-time">2 hours ago</div>
                    <div class="activity-content">
                        <div class="activity-header">
                            <span class="activity-party">Party A</span>
                            <span class="activity-type">Rally</span>
                        </div>
                        <div class="activity-description">
                            Major rally in Bengaluru Urban with 50,000+ attendees. 
                            <span class="activity-location">üìç Palace Grounds</span>
                        </div>
                        <div class="activity-impact">
                            <span class="impact-badge high">High Impact</span>
                            <span class="activity-stats">847K social media reach</span>
                        </div>
                    </div>
                </div>

                <div class="activity-item medium-priority">
                    <div class="activity-time">5 hours ago</div>
                    <div class="activity-content">
                        <div class="activity-header">
                            <span class="activity-party">Party B</span>
                            <span class="activity-type">Press Conference</span>
                        </div>
                        <div class="activity-description">
                            Announced new policy on farmer welfare.
                            <span class="activity-location">üìç Press Club, Mysuru</span>
                        </div>
                        <div class="activity-impact">
                            <span class="impact-badge medium">Medium Impact</span>
                            <span class="activity-stats">324K social media reach</span>
                        </div>
                    </div>
                </div>

                <div class="activity-item high-priority">
                    <div class="activity-time">8 hours ago</div>
                    <div class="activity-content">
                        <div class="activity-header">
                            <span class="activity-party">Party A</span>
                            <span class="activity-type">Advertisement</span>
                        </div>
                        <div class="activity-description">
                            Launched TV and digital ad campaign across Karnataka.
                            <span class="activity-location">üìç State-wide</span>
                        </div>
                        <div class="activity-impact">
                            <span class="impact-badge high">High Impact</span>
                            <span class="activity-stats">Est. ‚Çπ2.4 Cr spent</span>
                        </div>
                    </div>
                </div>

                <div class="activity-item low-priority">
                    <div class="activity-time">12 hours ago</div>
                    <div class="activity-content">
                        <div class="activity-header">
                            <span class="activity-party">Party C</span>
                            <span class="activity-type">Social Media</span>
                        </div>
                        <div class="activity-description">
                            Posted series of tweets criticizing opposition.
                            <span class="activity-location">üìç Online</span>
                        </div>
                        <div class="activity-impact">
                            <span class="impact-badge low">Low Impact</span>
                            <span class="activity-stats">87K engagement</span>
                        </div>
                    </div>
                </div>

                <div class="activity-item medium-priority">
                    <div class="activity-time">18 hours ago</div>
                    <div class="activity-content">
                        <div class="activity-header">
                            <span class="activity-party">Party B</span>
                            <span class="activity-type">Door-to-Door</span>
                        </div>
                        <div class="activity-description">
                            Launched intensive door-to-door campaign in 24 constituencies.
                            <span class="activity-location">üìç Multiple Districts</span>
                        </div>
                        <div class="activity-impact">
                            <span class="impact-badge medium">Medium Impact</span>
                            <span class="activity-stats">1,247 volunteers</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <h3 class="card-title">Upcoming Events Intelligence</h3>
            <div class="upcoming-events">
                <div class="event-item urgent">
                    <div class="event-date">
                        <div class="date-day">15</div>
                        <div class="date-month">OCT</div>
                    </div>
                    <div class="event-details">
                        <div class="event-name">Party A - State Convention</div>
                        <div class="event-location">üìç Bengaluru - BIEC</div>
                        <div class="event-meta">
                            <span>Expected: 100K+ attendees</span>
                            <span class="event-alert">‚ö†Ô∏è Requires counter strategy</span>
                        </div>
                    </div>
                </div>

                <div class="event-item important">
                    <div class="event-date">
                        <div class="date-day">18</div>
                        <div class="date-month">OCT</div>
                    </div>
                    <div class="event-details">
                        <div class="event-name">Party B - Road Show</div>
                        <div class="event-location">üìç Mysuru-Mandya Belt</div>
                        <div class="event-meta">
                            <span>50+ km road show</span>
                            <span>Duration: 2 days</span>
                        </div>
                    </div>
                </div>

                <div class="event-item normal">
                    <div class="event-date">
                        <div class="date-day">22</div>
                        <div class="date-month">OCT</div>
                    </div>
                    <div class="event-details">
                        <div class="event-name">Party C - Youth Meet</div>
                        <div class="event-location">üìç Multiple Colleges</div>
                        <div class="event-meta">
                            <span>Target: 25K students</span>
                            <span>20 locations</span>
                        </div>
                    </div>
                </div>

                <div class="event-item urgent">
                    <div class="event-date">
                        <div class="date-day">25</div>
                        <div class="date-month">OCT</div>
                    </div>
                    <div class="event-details">
                        <div class="event-name">Party A - Digital Campaign Launch</div>
                        <div class="event-location">üìç Online + Ground Activations</div>
                        <div class="event-meta">
                            <span>Budget: ‚Çπ5 Cr+</span>
                            <span class="event-alert">‚ö†Ô∏è Monitor closely</span>
                        </div>
                    </div>
                </div>

                <div class="event-item important">
                    <div class="event-date">
                        <div class="date-day">28</div>
                        <div class="date-month">OCT</div>
                    </div>
                    <div class="event-details">
                        <div class="event-name">Party B - Farmer's Convention</div>
                        <div class="event-location">üìç Raichur District</div>
                        <div class="event-meta">
                            <span>Expected: 30K farmers</span>
                            <span>Focus: Agricultural policies</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Resource Allocation Comparison -->
    <div class="section-header">
        <h2 class="section-title">Resource Allocation Analysis</h2>
    </div>

    <div class="grid grid-3">
        <div class="card">
            <h3 class="card-title">Campaign Spending Estimates</h3>
            <div class="spending-comparison">
                <div class="spending-item">
                    <div class="spending-header">
                        <span class="party-name">Party A</span>
                        <span class="spending-amount">‚Çπ847 Cr</span>
                    </div>
                    <div class="spending-bar">
                        <div class="spending-fill" style="width: 100%; background: #ef4444;"></div>
                    </div>
                    <div class="spending-breakdown">
                        <span>Media: 45%</span>
                        <span>Ground: 30%</span>
                        <span>Digital: 15%</span>
                        <span>Other: 10%</span>
                    </div>
                </div>

                <div class="spending-item">
                    <div class="spending-header">
                        <span class="party-name">Party B</span>
                        <span class="spending-amount">‚Çπ524 Cr</span>
                    </div>
                    <div class="spending-bar">
                        <div class="spending-fill" style="width: 62%; background: #f59e0b;"></div>
                    </div>
                    <div class="spending-breakdown">
                        <span>Media: 38%</span>
                        <span>Ground: 35%</span>
                        <span>Digital: 17%</span>
                        <span>Other: 10%</span>
                    </div>
                </div>

                <div class="spending-item">
                    <div class="spending-header">
                        <span class="party-name">Party C</span>
                        <span class="spending-amount">‚Çπ187 Cr</span>
                    </div>
                    <div class="spending-bar">
                        <div class="spending-fill" style="width: 22%; background: #10b981;"></div>
                    </div>
                    <div class="spending-breakdown">
                        <span>Media: 25%</span>
                        <span>Ground: 40%</span>
                        <span>Digital: 25%</span>
                        <span>Other: 10%</span>
                    </div>
                </div>

                <div class="spending-item">
                    <div class="spending-header">
                        <span class="party-name">Others (15 Parties)</span>
                        <span class="spending-amount">‚Çπ342 Cr</span>
                    </div>
                    <div class="spending-bar">
                        <div class="spending-fill" style="width: 40%; background: #8b5cf6;"></div>
                    </div>
                    <div class="spending-breakdown">
                        <span>Combined estimate</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <h3 class="card-title">Ground Force Comparison</h3>
            <div class="force-comparison">
                <div class="force-metric">
                    <div class="metric-header">Full-time Workers</div>
                    <div class="force-bars">
                        <div class="force-item">
                            <span class="force-label">Party A</span>
                            <div class="force-bar">
                                <div class="force-fill" style="width: 100%; background: #ef4444;">12,400</div>
                            </div>
                        </div>
                        <div class="force-item">
                            <span class="force-label">Party B</span>
                            <div class="force-bar">
                                <div class="force-fill" style="width: 68%; background: #f59e0b;">8,420</div>
                            </div>
                        </div>
                        <div class="force-item">
                            <span class="force-label">Party C</span>
                            <div class="force-bar">
                                <div class="force-fill" style="width: 31%; background: #10b981;">3,840</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="force-metric">
                    <div class="metric-header">Volunteer Base</div>
                    <div class="force-bars">
                        <div class="force-item">
                            <span class="force-label">Party A</span>
                            <div class="force-bar">
                                <div class="force-fill" style="width: 100%; background: #ef4444;">147K</div>
                            </div>
                        </div>
                        <div class="force-item">
                            <span class="force-label">Party B</span>
                            <div class="force-bar">
                                <div class="force-fill" style="width: 72%; background: #f59e0b;">106K</div>
                            </div>
                        </div>
                        <div class="force-item">
                            <span class="force-label">Party C</span>
                            <div class="force-bar">
                                <div class="force-fill" style="width: 38%; background: #10b981;">56K</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="force-metric">
                    <div class="metric-header">Office Infrastructure</div>
                    <div class="force-bars">
                        <div class="force-item">
                            <span class="force-label">Party A</span>
                            <div class="force-bar">
                                <div class="force-fill" style="width: 100%; background: #ef4444;">224 offices</div>
                            </div>
                        </div>
                        <div class="force-item">
                            <span class="force-label">Party B</span>
                            <div class="force-bar">
                                <div class="force-fill" style="width: 65%; background: #f59e0b;">146 offices</div>
                            </div>
                        </div>
                        <div class="force-item">
                            <span class="force-label">Party C</span>
                            <div class="force-bar">
                                <div class="force-fill" style="width: 29%; background: #10b981;">65 offices</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <h3 class="card-title">Digital Campaign Strength</h3>
            <div class="digital-strength">
                <div class="digital-metric">
                    <div class="metric-name">Social Media Following</div>
                    <div class="metric-comparison">
                        <div class="comparison-item">
                            <span class="comparison-party">Party A</span>
                            <span class="comparison-value" style="color: #ef4444;">8.7M</span>
                        </div>
                        <div class="comparison-item">
                            <span class="comparison-party">Party B</span>
                            <span class="comparison-value" style="color: #f59e0b;">5.2M</span>
                        </div>
                        <div class="comparison-item">
                            <span class="comparison-party">Party C</span>
                            <span class="comparison-value" style="color: #10b981;">2.8M</span>
                        </div>
                    </div>
                </div>

                <div class="digital-metric">
                    <div class="metric-name">Daily Engagement Rate</div>
                    <div class="metric-comparison">
                        <div class="comparison-item">
                            <span class="comparison-party">Party A</span>
                            <span class="comparison-value" style="color: #ef4444;">847K/day</span>
                        </div>
                        <div class="comparison-item">
                            <span class="comparison-party">Party B</span>
                            <span class="comparison-value" style="color: #f59e0b;">524K/day</span>
                        </div>
                        <div class="comparison-item">
                            <span class="comparison-party">Party C</span>
                            <span class="comparison-value" style="color: #10b981;">247K/day</span>
                        </div>
                    </div>
                </div>

                <div class="digital-metric">
                    <div class="metric-name">Ad Spending (Monthly)</div>
                    <div class="metric-comparison">
                        <div class="comparison-item">
                            <span class="comparison-party">Party A</span>
                            <span class="comparison-value" style="color: #ef4444;">‚Çπ12.4 Cr</span>
                        </div>
                        <div class="comparison-item">
                            <span class="comparison-party">Party B</span>
                            <span class="comparison-value" style="color: #f59e0b;">‚Çπ7.8 Cr</span>
                        </div>
                        <div class="comparison-item">
                            <span class="comparison-party">Party C</span>
                            <span class="comparison-value" style="color: #10b981;">‚Çπ2.4 Cr</span>
                        </div>
                    </div>
                </div>

                <div class="digital-metric">
                    <div class="metric-name">Website Traffic (Monthly)</div>
                    <div class="metric-comparison">
                        <div class="comparison-item">
                            <span class="comparison-party">Party A</span>
                            <span class="comparison-value" style="color: #ef4444;">4.2M visits</span>
                        </div>
                        <div class="comparison-item">
                            <span class="comparison-party">Party B</span>
                            <span class="comparison-value" style="color: #f59e0b;">2.8M visits</span>
                        </div>
                        <div class="comparison-item">
                            <span class="comparison-party">Party C</span>
                            <span class="comparison-value" style="color: #10b981;">1.2M visits</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- District-wise Competition Analysis -->
    <div class="section-header">
        <h2 class="section-title">District-wise Competition Intensity</h2>
    </div>

    <div class="card">
        <div class="data-table-container">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>District</th>
                        <th>Leading Party</th>
                        <th>Competition Level</th>
                        <th>Active Parties</th>
                        <th>Campaign Intensity</th>
                        <th>Resource Deployment</th>
                        <th>Threat Assessment</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Bengaluru Urban</strong></td>
                        <td><span class="party-badge party-a">Party A</span></td>
                        <td><span class="intensity-badge very-high">Very High</span></td>
                        <td>12 parties</td>
                        <td>üî•üî•üî•üî•üî•</td>
                        <td>‚Çπ124 Cr</td>
                        <td><span class="threat-badge high">Critical</span></td>
                        <td>
                            <button class="btn btn-sm btn-secondary" onclick="viewDistrictCompetition('bengaluru')">View Details</button>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>Mysuru</strong></td>
                        <td><span class="party-badge party-b">Party B</span></td>
                        <td><span class="intensity-badge high">High</span></td>
                        <td>8 parties</td>
                        <td>üî•üî•üî•üî•</td>
                        <td>‚Çπ67 Cr</td>
                        <td><span class="threat-badge high">High</span></td>
                        <td>
                            <button class="btn btn-sm btn-secondary" onclick="viewDistrictCompetition('mysuru')">View Details</button>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>Belagavi</strong></td>
                        <td><span class="party-badge party-a">Party A</span></td>
                        <td><span class="intensity-badge high">High</span></td>
                        <td>10 parties</td>
                        <td>üî•üî•üî•üî•</td>
                        <td>‚Çπ54 Cr</td>
                        <td><span class="threat-badge medium">Medium</span></td>
                        <td>
                            <button class="btn btn-sm btn-secondary" onclick="viewDistrictCompetition('belagavi')">View Details</button>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>Kalaburagi</strong></td>
                        <td><span class="party-badge party-b">Party B</span></td>
                        <td><span class="intensity-badge medium">Medium</span></td>
                        <td>7 parties</td>
                        <td>üî•üî•üî•</td>
                        <td>‚Çπ42 Cr</td>
                        <td><span class="threat-badge medium">Medium</span></td>
                        <td>
                            <button class="btn btn-sm btn-secondary" onclick="viewDistrictCompetition('kalaburagi')">View Details</button>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>Ballari</strong></td>
                        <td><span class="party-badge party-a">Party A</span></td>
                        <td><span class="intensity-badge medium">Medium</span></td>
                        <td>6 parties</td>
                        <td>üî•üî•üî•</td>
                        <td>‚Çπ38 Cr</td>
                        <td><span class="threat-badge low">Low</span></td>
                        <td>
                            <button class="btn btn-sm btn-secondary" onclick="viewDistrictCompetition('ballari')">View Details</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Quick Intelligence Actions -->
    <div class="section-header">
        <h2 class="section-title">Intelligence Actions</h2>
    </div>

    <div class="grid grid-4">
        <button class="action-card" onclick="scheduleCompetitorAlert()">
            <div class="action-icon">üîî</div>
            <div class="action-name">Set Alerts</div>
            <div class="action-desc">Get notified of competitor activities</div>
        </button>

        <button class="action-card" onclick="compareStrategies()">
            <div class="action-icon">üìä</div>
            <div class="action-name">Strategy Analysis</div>
            <div class="action-desc">Compare campaign strategies</div>
        </button>

        <button class="action-card" onclick="generateThreatReport()">
            <div class="action-icon">‚ö†Ô∏è</div>
            <div class="action-name">Threat Report</div>
            <div class="action-desc">Comprehensive threat assessment</div>
        </button>

        <button class="action-card" onclick="exportCompetitionData()">
            <div class="action-icon">‚¨áÔ∏è</div>
            <div class="action-name">Export Intel</div>
            <div class="action-desc">Download competition data</div>
        </button>
    </div>
</div>

<!-- Competition Detail Modal -->
<div id="competitionModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title" id="competitionModalTitle">Competition Details</h2>
            <button class="modal-close" onclick="closeCompetitionModal()">√ó</button>
        </div>
        <div class="modal-body" id="competitionModalBody">
            <!-- Content will be inserted dynamically -->
        </div>
    </div>
</div>

<style>
/* Additional Styles for Competition Intelligence Page */

.competitor-card {
    border: 2px solid rgba(255, 255, 255, 0.1);
    cursor: pointer;
    transition: all 0.3s ease;
}

.competitor-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
}

.competitor-card.high-threat {
    border-color: rgba(239, 68, 68, 0.3);
}

.competitor-card.medium-threat {
    border-color: rgba(245, 158, 11, 0.3);
}

.competitor-card.low-threat {
    border-color: rgba(16, 185, 129, 0.3);
}

.competitor-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding-bottom: 16px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.competitor-avatar {
    width: 60px;
    height: 60px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    font-weight: 700;
    color: white;
}

.threat-badge {
    padding: 6px 12px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 600;
}

.threat-badge.high {
    background: rgba(239, 68, 68, 0.2);
    color: #ef4444;
}

.threat-badge.medium {
    background: rgba(245, 158, 11, 0.2);
    color: #f59e0b;
}

.threat-badge.low {
    background: rgba(16, 185, 129, 0.2);
    color: #10b981;
}

.competitor-info {
    margin-bottom: 20px;
}

.competitor-name {
    font-size: 20px;
    font-weight: 700;
    margin-bottom: 8px;
    color: rgba(255, 255, 255, 0.95);
}

.competitor-meta {
    display: flex;
    gap: 16px;
    font-size: 13px;
    color: rgba(255, 255, 255, 0.6);
}

.competitor-stats-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    margin-bottom: 20px;
    padding: 16px;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 12px;
}

.competitor-stat {
    display: flex;
    flex-direction: column;
}

.competitor-stat .stat-label {
    font-size: 12px;
    color: rgba(255, 255, 255, 0.6);
    margin-bottom: 4px;
}

.competitor-stat .stat-value {
    font-size: 16px;
    font-weight: 700;
    color: rgba(255, 255, 255, 0.95);
}

.competitor-metrics {
    margin-bottom: 20px;
}

.metric-item {
    margin-bottom: 16px;
}

.metric-label {
    font-size: 13px;
    color: rgba(255, 255, 255, 0.8);
    margin-bottom: 6px;
}

.metric-bar {
    height: 20px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 10px;
    overflow: hidden;
    margin-bottom: 4px;
}

.metric-fill {
    height: 100%;
    border-radius: 10px;
    display: flex;
    align-items: center;
    padding: 0 12px;
    font-size: 11px;
    font-weight: 600;
    color: white;
}

.metric-value {
    font-size: 12px;
    color: rgba(255, 255, 255, 0.6);
}

.competitor-tags {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
}

.tag {
    padding: 4px 12px;
    background: rgba(102, 126, 234, 0.2);
    border-radius: 12px;
    font-size: 11px;
    color: #667eea;
}

.activity-timeline {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.activity-item {
    display: flex;
    gap: 16px;
    padding: 16px;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 12px;
    border-left: 3px solid transparent;
}

.activity-item.high-priority {
    border-left-color: #ef4444;
}

.activity-item.medium-priority {
    border-left-color: #f59e0b;
}

.activity-item.low-priority {
    border-left-color: #10b981;
}

.activity-time {
    min-width: 100px;
    font-size: 12px;
    color: rgba(255, 255, 255, 0.5);
}

.activity-content {
    flex: 1;
}

.activity-header {
    display: flex;
    gap: 12px;
    margin-bottom: 8px;
}

.activity-party {
    font-weight: 600;
    color: rgba(255, 255, 255, 0.95);
}

.activity-type {
    padding: 2px 8px;
    background: rgba(102, 126, 234, 0.2);
    border-radius: 8px;
    font-size: 11px;
    color: #667eea;
}

.activity-description {
    font-size: 14px;
    color: rgba(255, 255, 255, 0.8);
    margin-bottom: 8px;
}

.activity-location {
    font-size: 12px;
    color: rgba(255, 255, 255, 0.6);
}

.activity-impact {
    display: flex;
    gap: 12px;
    align-items: center;
}

.impact-badge {
    padding: 3px 10px;
    border-radius: 12px;
    font-size: 11px;
    font-weight: 600;
}

.impact-badge.high {
    background: rgba(239, 68, 68, 0.2);
    color: #ef4444;
}

.impact-badge.medium {
    background: rgba(245, 158, 11, 0.2);
    color: #f59e0b;
}

.impact-badge.low {
    background: rgba(16, 185, 129, 0.2);
    color: #10b981;
}

.activity-stats {
    font-size: 12px;
    color: rgba(255, 255, 255, 0.6);
}

.upcoming-events {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.event-item {
    display: flex;
    gap: 16px;
    padding: 16px;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 12px;
    border-left: 3px solid transparent;
}

.event-item.urgent {
    border-left-color: #ef4444;
}

.event-item.important {
    border-left-color: #f59e0b;
}

.event-item.normal {
    border-left-color: #10b981;
}

.event-date {
    min-width: 60px;
    text-align: center;
    padding: 8px;
    background: rgba(102, 126, 234, 0.1);
    border-radius: 12px;
}

.date-day {
    font-size: 24px;
    font-weight: 700;
    color: #667eea;
}

.date-month {
    font-size: 12px;
    color: rgba(255, 255, 255, 0.6);
}

.event-details {
    flex: 1;
}

.event-name {
    font-weight: 600;
    color: rgba(255, 255, 255, 0.95);
    margin-bottom: 4px;
}

.event-location {
    font-size: 13px;
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: 8px;
}

.event-meta {
    display: flex;
    gap: 12px;
    font-size: 12px;
    color: rgba(255, 255, 255, 0.6);
}

.event-alert {
    color: #ef4444;
    font-weight: 600;
}

.spending-comparison {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.spending-item {
    padding: 16px;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 12px;
}

.spending-header {
    display: flex;
    justify-content: space-between;
    margin-bottom: 8px;
}

.party-name {
    font-weight: 600;
    color: rgba(255, 255, 255, 0.95);
}

.spending-amount {
    font-size: 18px;
    font-weight: 700;
    color: #667eea;
}

.spending-bar {
    height: 24px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    overflow: hidden;
    margin-bottom: 8px;
}

.spending-fill {
    height: 100%;
    border-radius: 12px;
}

.spending-breakdown {
    display: flex;
    gap: 12px;
    font-size: 11px;
    color: rgba(255, 255, 255, 0.6);
}

.force-comparison {
    display: flex;
    flex-direction: column;
    gap: 24px;
}

.force-metric {
    padding: 16px;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 12px;
}

.metric-header {
    font-weight: 600;
    color: rgba(255, 255, 255, 0.95);
    margin-bottom: 12px;
}

.force-bars {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.force-item {
    display: grid;
    grid-template-columns: 80px 1fr;
    gap: 12px;
    align-items: center;
}

.force-label {
    font-size: 13px;
    color: rgba(255, 255, 255, 0.8);
}

.force-bar {
    height: 28px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 14px;
    overflow: hidden;
}

.force-fill {
    height: 100%;
    display: flex;
    align-items: center;
    padding: 0 12px;
    font-size: 12px;
    font-weight: 600;
    color: white;
    border-radius: 14px;
}

.digital-strength {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.digital-metric {
    padding: 16px;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 12px;
}

.metric-name {
    font-weight: 600;
    color: rgba(255, 255, 255, 0.95);
    margin-bottom: 12px;
}

.metric-comparison {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.comparison-item {
    display: flex;
    justify-content: space-between;
    padding: 8px 0;
}

.comparison-party {
    font-size: 13px;
    color: rgba(255, 255, 255, 0.8);
}

.comparison-value {
    font-size: 14px;
    font-weight: 700;
}

.intensity-badge {
    padding: 4px 10px;
    border-radius: 12px;
    font-size: 11px;
    font-weight: 600;
}

.intensity-badge.very-high {
    background: rgba(239, 68, 68, 0.2);
    color: #ef4444;
}

.intensity-badge.high {
    background: rgba(245, 158, 11, 0.2);
    color: #f59e0b;
}

.intensity-badge.medium {
    background: rgba(102, 126, 234, 0.2);
    color: #667eea;
}

.party-badge {
    padding: 4px 12px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 600;
}

.party-badge.party-a {
    background: rgba(239, 68, 68, 0.2);
    color: #ef4444;
}

.party-badge.party-b {
    background: rgba(245, 158, 11, 0.2);
    color: #f59e0b;
}
</style>

<script>
// JavaScript Functions for Competition Intelligence Page

function showCompetitorDetail(type) {
    const modal = document.getElementById('competitionModal');
    const title = document.getElementById('competitionModalTitle');
    const body = document.getElementById('competitionModalBody');
    
    const contentMap = {
        'total': {
            title: 'All Competitors Overview - 147 Active',
            content: `
                <div style="color: rgba(255,255,255,0.9);">
                    <h3 style="margin-bottom: 16px;">Complete Competitor Landscape</h3>
                    <p style="margin-bottom: 24px;">Tracking 147 active political competitors across Karnataka state.</p>
                    
                    <div style="display: grid; gap: 16px;">
                        <div style="background: rgba(102, 126, 234, 0.1); padding: 16px; border-radius: 12px; border: 1px solid rgba(102, 126, 234, 0.3);">
                            <div style="font-size: 18px; font-weight: 600; color: #667eea; margin-bottom: 8px;">Party Distribution</div>
                            <div style="color: rgba(255,255,255,0.8);">National: 3 parties | Regional: 8 parties | State: 7 parties</div>
                        </div>
                        
                        <div style="background: rgba(102, 126, 234, 0.1); padding: 16px; border-radius: 12px; border: 1px solid rgba(102, 126, 234, 0.3);">
                            <div style="font-size: 18px; font-weight: 600; color: #667eea; margin-bottom: 8px;">Constituency Coverage</div>
                            <div style="color: rgba(255,255,255,0.8);">Average 3.2 candidates per constituency | 224 total constituencies</div>
                        </div>
                        
                        <div style="background: rgba(102, 126, 234, 0.1); padding: 16px; border-radius: 12px; border: 1px solid rgba(102, 126, 234, 0.3);">
                            <div style="font-size: 18px; font-weight: 600; color: #667eea; margin-bottom: 8px;">Total Campaign Spending</div>
                            <div style="color: rgba(255,255,255,0.8);">Estimated ‚Çπ1,900 Cr across all parties for 2028 elections</div>
                        </div>
                    </div>
                </div>
            `
        },
        'parties': {
            title: '18 Political Parties Active',
            content: `
                <div style="color: rgba(255,255,255,0.9);">
                    <h3 style="margin-bottom: 16px;">Political Party Breakdown</h3>
                    <p style="margin-bottom: 24px;">Complete analysis of 18 active political parties in Karnataka.</p>
                    
                    <div style="display: grid; gap: 16px;">
                        <div style="background: rgba(239, 68, 68, 0.1); padding: 16px; border-radius: 12px;">
                            <div style="font-size: 16px; font-weight: 600; color: #ef4444; margin-bottom: 8px;">National Parties (3)</div>
                            <div style="color: rgba(255,255,255,0.8);">Established presence across all districts with strong organization</div>
                        </div>
                        
                        <div style="background: rgba(245, 158, 11, 0.1); padding: 16px; border-radius: 12px;">
                            <div style="font-size: 16px; font-weight: 600; color: #f59e0b; margin-bottom: 8px;">Regional Parties (8)</div>
                            <div style="color: rgba(255,255,255,0.8);">Strong in specific regions with dedicated voter base</div>
                        </div>
                        
                        <div style="background: rgba(16, 185, 129, 0.1); padding: 16px; border-radius: 12px;">
                            <div style="font-size: 16px; font-weight: 600; color: #10b981; margin-bottom: 8px;">State Parties (7)</div>
                            <div style="color: rgba(255,255,255,0.8);">Limited to few constituencies with niche appeal</div>
                        </div>
                    </div>
                </div>
            `
        },
        'campaigns': {
            title: '89 Active Campaigns',
            content: `
                <div style="color: rgba(255,255,255,0.9);">
                    <h3 style="margin-bottom: 16px;">Campaign Activity Analysis</h3>
                    <p style="margin-bottom: 24px;">Monitoring 89 active political campaigns across Karnataka.</p>
                    
                    <div style="display: grid; gap: 16px;">
                        <div style="background: rgba(16, 185, 129, 0.1); padding: 16px; border-radius: 12px;">
                            <div style="font-size: 16px; font-weight: 600; color: #10b981; margin-bottom: 8px;">Campaign Types</div>
                            <div style="color: rgba(255,255,255,0.8);">Ground: 42 | Digital: 28 | Hybrid: 19</div>
                        </div>
                        
                        <div style="background: rgba(16, 185, 129, 0.1); padding: 16px; border-radius: 12px;">
                            <div style="font-size: 16px; font-weight: 600; color: #10b981; margin-bottom: 8px;">Weekly Activity</div>
                            <div style="color: rgba(255,255,255,0.8);">+7 new campaigns launched this week | 3 concluded</div>
                        </div>
                        
                        <div style="background: rgba(16, 185, 129, 0.1); padding: 16px; border-radius: 12px;">
                            <div style="font-size: 16px; font-weight: 600; color: #10b981; margin-bottom: 8px;">Investment Level</div>
                            <div style="color: rgba(255,255,255,0.8);">Total weekly spend: ‚Çπ42 Cr across all active campaigns</div>
                        </div>
                    </div>
                </div>
            `
        },
        'threat': {
            title: 'High Threat Competitors - 23 Identified',
            content: `
                <div style="color: rgba(255,255,255,0.9);">
                    <h3 style="margin-bottom: 16px;">Critical Threat Assessment</h3>
                    <p style="margin-bottom: 24px;">23 competitors identified as high threat requiring immediate counter-strategy.</p>
                    
                    <div style="display: grid; gap: 16px;">
                        <div style="background: rgba(239, 68, 68, 0.1); padding: 16px; border-radius: 12px; border: 1px solid rgba(239, 68, 68, 0.3);">
                            <div style="font-size: 18px; font-weight: 600; color: #ef4444; margin-bottom: 8px;">Immediate Threats (8)</div>
                            <div style="color: rgba(255,255,255,0.8);">Require daily monitoring and active counter-measures</div>
                        </div>
                        
                        <div style="background: rgba(239, 68, 68, 0.1); padding: 16px; border-radius: 12px; border: 1px solid rgba(239, 68, 68, 0.3);">
                            <div style="font-size: 18px; font-weight: 600; color: #ef4444; margin-bottom: 8px;">Growing Threats (15)</div>
                            <div style="color: rgba(255,255,255,0.8);">Showing upward momentum in specific districts</div>
                        </div>
                        
                        <div style="background: rgba(239, 68, 68, 0.1); padding: 16px; border-radius: 12px; border: 1px solid rgba(239, 68, 68, 0.3);">
                            <div style="font-size: 18px; font-weight: 600; color: #ef4444; margin-bottom: 8px;">Key Concern Areas</div>
                            <div style="color: rgba(255,255,255,0.8);">Bengaluru Urban (5), Mysuru (3), Belagavi (4), Others (11)</div>
                        </div>
                    </div>
                </div>
            `
        }
    };
    
    const data = contentMap[type];
    title.textContent = data.title;
    body.innerHTML = data.content;
    modal.classList.add('active');
}

function closeCompetitionModal() {
    document.getElementById('competitionModal').classList.remove('active');
}

function viewCompetitorProfile(competitor) {
    alert(`Loading detailed profile for ${competitor}...`);
}

function filterCompetitors(filter) {
    alert(`Filtering competitors by: ${filter}`);
}

function refreshActivityFeed() {
    alert('Refreshing activity feed with latest intelligence...');
}

function viewDistrictCompetition(district) {
    alert(`Loading competition analysis for ${district}...`);
}

function exportCompetitionData() {
    alert('Exporting complete competition intelligence data...');
}

function generateCompetitorReport() {
    alert('Generating comprehensive competitor intelligence report...');
}

function scheduleCompetitorAlert() {
    alert('Setting up competitor activity alerts...');
}

function compareStrategies() {
    alert('Opening strategy comparison tool...');
}

function generateThreatReport() {
    alert('Generating threat assessment report...');
}

// Close modal when clicking outside
document.addEventListener('click', function(e) {
    if (e.target.id === 'competitionModal') {
        closeCompetitionModal();
    }
});
</script>

     <!-- District Team Management Page - Complete Version -->
<div id="page-team" class="page-content">
    <div class="page-header">
        <div class="page-title-row">
            <h1 class="page-title">District Team</h1>
            <div class="page-actions">
                <button class="btn btn-secondary btn-sm" onclick="exportTeamData()">
                    <span>‚¨áÔ∏è</span> Export
                </button>
                <button class="btn btn-primary btn-sm" onclick="openAddTeamMemberModal()">
                    <span>‚ûï</span> Add Member
                </button>
            </div>
        </div>
        <div class="breadcrumb">
            <span class="breadcrumb-link" onclick="loadPage('dashboard')">Home</span>
            <span>/</span>
            <span>District Team</span>
        </div>
    </div>

    <div class="info-box">
        <div class="info-box-title">
            <span>üë•</span>
            Team Management Hub
        </div>
        <div class="info-box-content">
            Complete team management system for Bengaluru Urban district operations. Track and manage 247 team members including field staff (142), coordinators (38), analysts (24), support personnel (28), and management (15). Monitor performance metrics, attendance records, task completion rates, and skill development across all departments. Real-time tracking of team deployments across 8 taluks, 412 gram panchayats with 94.3% attendance rate and 87% average performance score.
        </div>
    </div>

    <!-- Team Overview Stats -->
    <div class="grid grid-4">
        <div class="stat-card clickable" onclick="showTeamDetail('total')">
            <div class="stat-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                üë•
            </div>
            <div class="stat-value">247</div>
            <div class="stat-label">Total Team Members</div>
            <div class="stat-trend positive">
                <span class="trend-icon">‚Üë</span>
                <span>+12 this month</span>
            </div>
        </div>

        <div class="stat-card clickable" onclick="showTeamDetail('active')">
            <div class="stat-icon" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
                ‚úÖ
            </div>
            <div class="stat-value">234</div>
            <div class="stat-label">Active Members</div>
            <div class="stat-trend positive">
                <span class="trend-icon">‚Üí</span>
                <span>94.7% active rate</span>
            </div>
        </div>

        <div class="stat-card clickable" onclick="showTeamDetail('performance')">
            <div class="stat-icon" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);">
                ‚≠ê
            </div>
            <div class="stat-value">87%</div>
            <div class="stat-label">Avg Performance</div>
            <div class="stat-trend positive">
                <span class="trend-icon">‚Üë</span>
                <span>+3.2% from last month</span>
            </div>
        </div>

        <div class="stat-card clickable" onclick="showTeamDetail('attendance')">
            <div class="stat-icon" style="background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);">
                üìÖ
            </div>
            <div class="stat-value">94.3%</div>
            <div class="stat-label">Attendance Rate</div>
            <div class="stat-trend positive">
                <span class="trend-icon">‚Üë</span>
                <span>Excellent</span>
            </div>
        </div>
    </div>

    <!-- Department Breakdown -->
    <div class="section-header">
        <h2 class="section-title">Department-wise Distribution</h2>
    </div>

    <div class="grid grid-5">
        <div class="card department-card" onclick="filterByDepartment('field')">
            <div class="department-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                üéØ
            </div>
            <div class="department-info">
                <div class="department-name">Field Operations</div>
                <div class="department-count">142 members</div>
                <div class="department-percentage">57.5%</div>
            </div>
            <div class="department-stats">
                <div class="dept-stat-item">
                    <span class="dept-stat-label">Active</span>
                    <span class="dept-stat-value">138</span>
                </div>
                <div class="dept-stat-item">
                    <span class="dept-stat-label">Avg Score</span>
                    <span class="dept-stat-value">89%</span>
                </div>
            </div>
        </div>

        <div class="card department-card" onclick="filterByDepartment('coordination')">
            <div class="department-icon" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
                ü§ù
            </div>
            <div class="department-info">
                <div class="department-name">Coordinators</div>
                <div class="department-count">38 members</div>
                <div class="department-percentage">15.4%</div>
            </div>
            <div class="department-stats">
                <div class="dept-stat-item">
                    <span class="dept-stat-label">Active</span>
                    <span class="dept-stat-value">37</span>
                </div>
                <div class="dept-stat-item">
                    <span class="dept-stat-label">Avg Score</span>
                    <span class="dept-stat-value">91%</span>
                </div>
            </div>
        </div>

        <div class="card department-card" onclick="filterByDepartment('analytics')">
            <div class="department-icon" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);">
                üìä
            </div>
            <div class="department-info">
                <div class="department-name">Data Analytics</div>
                <div class="department-count">24 members</div>
                <div class="department-percentage">9.7%</div>
            </div>
            <div class="department-stats">
                <div class="dept-stat-item">
                    <span class="dept-stat-label">Active</span>
                    <span class="dept-stat-value">23</span>
                </div>
                <div class="dept-stat-item">
                    <span class="dept-stat-label">Avg Score</span>
                    <span class="dept-stat-value">93%</span>
                </div>
            </div>
        </div>

        <div class="card department-card" onclick="filterByDepartment('support')">
            <div class="department-icon" style="background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);">
                üõ†Ô∏è
            </div>
            <div class="department-info">
                <div class="department-name">Support Staff</div>
                <div class="department-count">28 members</div>
                <div class="department-percentage">11.3%</div>
            </div>
            <div class="department-stats">
                <div class="dept-stat-item">
                    <span class="dept-stat-label">Active</span>
                    <span class="dept-stat-value">27</span>
                </div>
                <div class="dept-stat-item">
                    <span class="dept-stat-label">Avg Score</span>
                    <span class="dept-stat-value">86%</span>
                </div>
            </div>
        </div>

        <div class="card department-card" onclick="filterByDepartment('management')">
            <div class="department-icon" style="background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);">
                üëî
            </div>
            <div class="department-info">
                <div class="department-name">Management</div>
                <div class="department-count">15 members</div>
                <div class="department-percentage">6.1%</div>
            </div>
            <div class="department-stats">
                <div class="dept-stat-item">
                    <span class="dept-stat-label">Active</span>
                    <span class="dept-stat-value">15</span>
                </div>
                <div class="dept-stat-item">
                    <span class="dept-stat-label">Avg Score</span>
                    <span class="dept-stat-value">95%</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Team Leaders Section -->
    <div class="section-header">
        <h2 class="section-title">Leadership Team</h2>
    </div>

    <div class="grid grid-4">
        <div class="card team-member-card" onclick="viewMemberProfile('leader-1')">
            <div class="member-header">
                <div class="member-avatar" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                    RK
                </div>
                <div class="member-status online"></div>
            </div>
            <div class="member-info">
                <h3 class="member-name">Rajesh Kumar</h3>
                <div class="member-role">District Manager</div>
                <div class="member-id">EMP-001</div>
            </div>
            <div class="member-details">
                <div class="detail-item">
                    <span class="detail-icon">üìß</span>
                    <span class="detail-text">rajesh.k@district.gov</span>
                </div>
                <div class="detail-item">
                    <span class="detail-icon">üì±</span>
                    <span class="detail-text">+91 98765 43210</span>
                </div>
                <div class="detail-item">
                    <span class="detail-icon">üìç</span>
                    <span class="detail-text">Bengaluru Urban HQ</span>
                </div>
            </div>
            <div class="member-metrics">
                <div class="metric-box">
                    <div class="metric-value">98%</div>
                    <div class="metric-label">Performance</div>
                </div>
                <div class="metric-box">
                    <div class="metric-value">142</div>
                    <div class="metric-label">Team Size</div>
                </div>
                <div class="metric-box">
                    <div class="metric-value">5.2yr</div>
                    <div class="metric-label">Experience</div>
                </div>
            </div>
            <div class="member-tags">
                <span class="tag">Leadership</span>
                <span class="tag">Strategic</span>
            </div>
        </div>

        <div class="card team-member-card" onclick="viewMemberProfile('leader-2')">
            <div class="member-header">
                <div class="member-avatar" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
                    PM
                </div>
                <div class="member-status online"></div>
            </div>
            <div class="member-info">
                <h3 class="member-name">Priya Mehta</h3>
                <div class="member-role">Operations Head</div>
                <div class="member-id">EMP-002</div>
            </div>
            <div class="member-details">
                <div class="detail-item">
                    <span class="detail-icon">üìß</span>
                    <span class="detail-text">priya.m@district.gov</span>
                </div>
                <div class="detail-item">
                    <span class="detail-icon">üì±</span>
                    <span class="detail-text">+91 98765 43211</span>
                </div>
                <div class="detail-item">
                    <span class="detail-icon">üìç</span>
                    <span class="detail-text">Field Operations</span>
                </div>
            </div>
            <div class="member-metrics">
                <div class="metric-box">
                    <div class="metric-value">96%</div>
                    <div class="metric-label">Performance</div>
                </div>
                <div class="metric-box">
                    <div class="metric-value">89</div>
                    <div class="metric-label">Team Size</div>
                </div>
                <div class="metric-box">
                    <div class="metric-value">4.8yr</div>
                    <div class="metric-label">Experience</div>
                </div>
            </div>
            <div class="member-tags">
                <span class="tag">Operations</span>
                <span class="tag">Field Expert</span>
            </div>
        </div>

        <div class="card team-member-card" onclick="viewMemberProfile('leader-3')">
            <div class="member-header">
                <div class="member-avatar" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);">
                    AS
                </div>
                <div class="member-status online"></div>
            </div>
            <div class="member-info">
                <h3 class="member-name">Anil Sharma</h3>
                <div class="member-role">Analytics Manager</div>
                <div class="member-id">EMP-003</div>
            </div>
            <div class="member-details">
                <div class="detail-item">
                    <span class="detail-icon">üìß</span>
                    <span class="detail-text">anil.s@district.gov</span>
                </div>
                <div class="detail-item">
                    <span class="detail-icon">üì±</span>
                    <span class="detail-text">+91 98765 43212</span>
                </div>
                <div class="detail-item">
                    <span class="detail-icon">üìç</span>
                    <span class="detail-text">Analytics Division</span>
                </div>
            </div>
            <div class="member-metrics">
                <div class="metric-box">
                    <div class="metric-value">97%</div>
                    <div class="metric-label">Performance</div>
                </div>
                <div class="metric-box">
                    <div class="metric-value">24</div>
                    <div class="metric-label">Team Size</div>
                </div>
                <div class="metric-box">
                    <div class="metric-value">6.1yr</div>
                    <div class="metric-label">Experience</div>
                </div>
            </div>
            <div class="member-tags">
                <span class="tag">Data Science</span>
                <span class="tag">Analytics</span>
            </div>
        </div>

        <div class="card team-member-card" onclick="viewMemberProfile('leader-4')">
            <div class="member-header">
                <div class="member-avatar" style="background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);">
                    SK
                </div>
                <div class="member-status away"></div>
            </div>
            <div class="member-info">
                <h3 class="member-name">Sunita Krishnan</h3>
                <div class="member-role">Coordination Lead</div>
                <div class="member-id">EMP-004</div>
            </div>
            <div class="member-details">
                <div class="detail-item">
                    <span class="detail-icon">üìß</span>
                    <span class="detail-text">sunita.k@district.gov</span>
                </div>
                <div class="detail-item">
                    <span class="detail-icon">üì±</span>
                    <span class="detail-text">+91 98765 43213</span>
                </div>
                <div class="detail-item">
                    <span class="detail-icon">üìç</span>
                    <span class="detail-text">Coordination Unit</span>
                </div>
            </div>
            <div class="member-metrics">
                <div class="metric-box">
                    <div class="metric-value">94%</div>
                    <div class="metric-label">Performance</div>
                </div>
                <div class="metric-box">
                    <div class="metric-value">38</div>
                    <div class="metric-label">Team Size</div>
                </div>
                <div class="metric-box">
                    <div class="metric-value">3.9yr</div>
                    <div class="metric-label">Experience</div>
                </div>
            </div>
            <div class="member-tags">
                <span class="tag">Coordination</span>
                <span class="tag">Communication</span>
            </div>
        </div>
    </div>

    <!-- Team Members Table -->
    <div class="section-header">
        <h2 class="section-title">Complete Team Directory</h2>
        <div class="section-actions">
            <select class="filter-select" onchange="filterTeamMembers(this.value)">
                <option value="all">All Members</option>
                <option value="management">Management</option>
                <option value="field">Field Operations</option>
                <option value="coordinators">Coordinators</option>
                <option value="analytics">Analytics</option>
                <option value="support">Support</option>
            </select>
            <input type="text" class="search-input" placeholder="Search team members..." onkeyup="searchTeamMembers(this.value)">
        </div>
    </div>

    <div class="card">
        <div class="data-table-container">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Department</th>
                        <th>Role</th>
                        <th>Contact</th>
                        <th>Performance</th>
                        <th>Attendance</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>EMP-005</strong></td>
                        <td>
                            <div class="table-user">
                                <div class="table-avatar" style="background: #667eea;">VR</div>
                                <div>
                                    <div class="table-name">Vikram Reddy</div>
                                    <div class="table-meta">5.4 years exp</div>
                                </div>
                            </div>
                        </td>
                        <td><span class="dept-badge field">Field Operations</span></td>
                        <td>Senior Field Officer</td>
                        <td>
                            <div class="contact-info">
                                <div>üì± +91 98765 43214</div>
                                <div>üìß vikram.r@district.gov</div>
                            </div>
                        </td>
                        <td>
                            <div class="performance-indicator">
                                <div class="perf-bar">
                                    <div class="perf-fill" style="width: 92%; background: #10b981;"></div>
                                </div>
                                <span class="perf-value">92%</span>
                            </div>
                        </td>
                        <td><span class="attendance-badge excellent">96%</span></td>
                        <td><span class="status-badge active">Active</span></td>
                        <td>
                            <button class="btn btn-sm btn-secondary" onclick="viewMemberProfile('emp-005')">View</button>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>EMP-006</strong></td>
                        <td>
                            <div class="table-user">
                                <div class="table-avatar" style="background: #10b981;">MN</div>
                                <div>
                                    <div class="table-name">Maya Nair</div>
                                    <div class="table-meta">3.2 years exp</div>
                                </div>
                            </div>
                        </td>
                        <td><span class="dept-badge analytics">Analytics</span></td>
                        <td>Data Analyst</td>
                        <td>
                            <div class="contact-info">
                                <div>üì± +91 98765 43215</div>
                                <div>üìß maya.n@district.gov</div>
                            </div>
                        </td>
                        <td>
                            <div class="performance-indicator">
                                <div class="perf-bar">
                                    <div class="perf-fill" style="width: 94%; background: #10b981;"></div>
                                </div>
                                <span class="perf-value">94%</span>
                            </div>
                        </td>
                        <td><span class="attendance-badge excellent">98%</span></td>
                        <td><span class="status-badge active">Active</span></td>
                        <td>
                            <button class="btn btn-sm btn-secondary" onclick="viewMemberProfile('emp-006')">View</button>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>EMP-007</strong></td>
                        <td>
                            <div class="table-user">
                                <div class="table-avatar" style="background: #f59e0b;">KP</div>
                                <div>
                                    <div class="table-name">Kiran Patel</div>
                                    <div class="table-meta">2.8 years exp</div>
                                </div>
                            </div>
                        </td>
                        <td><span class="dept-badge coordination">Coordinator</span></td>
                        <td>Taluk Coordinator</td>
                        <td>
                            <div class="contact-info">
                                <div>üì± +91 98765 43216</div>
                                <div>üìß kiran.p@district.gov</div>
                            </div>
                        </td>
                        <td>
                            <div class="performance-indicator">
                                <div class="perf-bar">
                                    <div class="perf-fill" style="width: 89%; background: #f59e0b;"></div>
                                </div>
                                <span class="perf-value">89%</span>
                            </div>
                        </td>
                        <td><span class="attendance-badge good">93%</span></td>
                        <td><span class="status-badge active">Active</span></td>
                        <td>
                            <button class="btn btn-sm btn-secondary" onclick="viewMemberProfile('emp-007')">View</button>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>EMP-008</strong></td>
                        <td>
                            <div class="table-user">
                                <div class="table-avatar" style="background: #06b6d4;">AR</div>
                                <div>
                                    <div class="table-name">Arjun Rao</div>
                                    <div class="table-meta">4.1 years exp</div>
                                </div>
                            </div>
                        </td>
                        <td><span class="dept-badge field">Field Operations</span></td>
                        <td>Field Officer</td>
                        <td>
                            <div class="contact-info">
                                <div>üì± +91 98765 43217</div>
                                <div>üìß arjun.r@district.gov</div>
                            </div>
                        </td>
                        <td>
                            <div class="performance-indicator">
                                <div class="perf-bar">
                                    <div class="perf-fill" style="width: 91%; background: #10b981;"></div>
                                </div>
                                <span class="perf-value">91%</span>
                            </div>
                        </td>
                        <td><span class="attendance-badge excellent">95%</span></td>
                        <td><span class="status-badge active">Active</span></td>
                        <td>
                            <button class="btn btn-sm btn-secondary" onclick="viewMemberProfile('emp-008')">View</button>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>EMP-009</strong></td>
                        <td>
                            <div class="table-user">
                                <div class="table-avatar" style="background: #8b5cf6;">SD</div>
                                <div>
                                    <div class="table-name">Sneha Desai</div>
                                    <div class="table-meta">1.9 years exp</div>
                                </div>
                            </div>
                        </td>
                        <td><span class="dept-badge support">Support</span></td>
                        <td>Support Executive</td>
                        <td>
                            <div class="contact-info">
                                <div>üì± +91 98765 43218</div>
                                <div>üìß sneha.d@district.gov</div>
                            </div>
                        </td>
                        <td>
                            <div class="performance-indicator">
                                <div class="perf-bar">
                                    <div class="perf-fill" style="width: 87%; background: #f59e0b;"></div>
                                </div>
                                <span class="perf-value">87%</span>
                            </div>
                        </td>
                        <td><span class="attendance-badge good">91%</span></td>
                        <td><span class="status-badge active">Active</span></td>
                        <td>
                            <button class="btn btn-sm btn-secondary" onclick="viewMemberProfile('emp-009')">View</button>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>EMP-010</strong></td>
                        <td>
                            <div class="table-user">
                                <div class="table-avatar" style="background: #ef4444;">RG</div>
                                <div>
                                    <div class="table-name">Rahul Gupta</div>
                                    <div class="table-meta">6.2 years exp</div>
                                </div>
                            </div>
                        </td>
                        <td><span class="dept-badge management">Management</span></td>
                        <td>Assistant Manager</td>
                        <td>
                            <div class="contact-info">
                                <div>üì± +91 98765 43219</div>
                                <div>üìß rahul.g@district.gov</div>
                            </div>
                        </td>
                        <td>
                            <div class="performance-indicator">
                                <div class="perf-bar">
                                    <div class="perf-fill" style="width: 96%; background: #10b981;"></div>
                                </div>
                                <span class="perf-value">96%</span>
                            </div>
                        </td>
                        <td><span class="attendance-badge excellent">97%</span></td>
                        <td><span class="status-badge active">Active</span></td>
                        <td>
                            <button class="btn btn-sm btn-secondary" onclick="viewMemberProfile('emp-010')">View</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Performance Analytics -->
    <div class="section-header">
        <h2 class="section-title">Team Performance Analytics</h2>
    </div>

    <div class="grid grid-3">
        <div class="card">
            <h3 class="card-title">Performance Distribution</h3>
            <div class="performance-distribution">
                <div class="perf-dist-item">
                    <div class="perf-dist-header">
                        <span class="perf-dist-label">Excellent (90-100%)</span>
                        <span class="perf-dist-count">147 members</span>
                    </div>
                    <div class="perf-dist-bar">
                        <div class="perf-dist-fill" style="width: 59.5%; background: #10b981;"></div>
                    </div>
                    <span class="perf-dist-percent">59.5%</span>
                </div>

                <div class="perf-dist-item">
                    <div class="perf-dist-header">
                        <span class="perf-dist-label">Good (80-89%)</span>
                        <span class="perf-dist-count">68 members</span>
                    </div>
                    <div class="perf-dist-bar">
                        <div class="perf-dist-fill" style="width: 27.5%; background: #f59e0b;"></div>
                    </div>
                    <span class="perf-dist-percent">27.5%</span>
                </div>

                <div class="perf-dist-item">
                    <div class="perf-dist-header">
                        <span class="perf-dist-label">Average (70-79%)</span>
                        <span class="perf-dist-count">24 members</span>
                    </div>
                    <div class="perf-dist-bar">
                        <div class="perf-dist-fill" style="width: 9.7%; background: #06b6d4;"></div>
                    </div>
                    <span class="perf-dist-percent">9.7%</span>
                </div>

                <div class="perf-dist-item">
                    <div class="perf-dist-header">
                        <span class="perf-dist-label">Needs Improvement (<70%)</span>
                        <span class="perf-dist-count">8 members</span>
                    </div>
                    <div class="perf-dist-bar">
                        <div class="perf-dist-fill" style="width: 3.2%; background: #ef4444;"></div>
                    </div>
                    <span class="perf-dist-percent">3.2%</span>
                </div>
            </div>
        </div>

        <div class="card">
            <h3 class="card-title">Top Performers This Month</h3>
            <div class="top-performers">
                <div class="performer-item">
                    <div class="performer-rank">ü•á</div>
                    <div class="performer-info">
                        <div class="performer-name">Anil Sharma</div>
                        <div class="performer-dept">Analytics Manager</div>
                    </div>
                    <div class="performer-score">98%</div>
                </div>

                <div class="performer-item">
                    <div class="performer-rank">ü•à</div>
                    <div class="performer-info">
                        <div class="performer-name">Rajesh Kumar</div>
                        <div class="performer-dept">District Manager</div>
                    </div>
                    <div class="performer-score">97%</div>
                </div>

                <div class="performer-item">
                    <div class="performer-rank">ü•â</div>
                    <div class="performer-info">
                        <div class="performer-name">Priya Mehta</div>
                        <div class="performer-dept">Operations Head</div>
                    </div>
                    <div class="performer-score">96%</div>
                </div>

                <div class="performer-item">
                    <div class="performer-rank">4</div>
                    <div class="performer-info">
                        <div class="performer-name">Maya Nair</div>
                        <div class="performer-dept">Data Analyst</div>
                    </div>
                    <div class="performer-score">94%</div>
                </div>

                <div class="performer-item">
                    <div class="performer-rank">5</div>
                    <div class="performer-info">
                        <div class="performer-name">Vikram Reddy</div>
                        <div class="performer-dept">Senior Field Officer</div>
                    </div>
                    <div class="performer-score">92%</div>
                </div>
            </div>
        </div>

        <div class="card">
            <h3 class="card-title">Team Metrics Summary</h3>
            <div class="metrics-summary">
                <div class="summary-item">
                    <div class="summary-icon" style="background: rgba(16, 185, 129, 0.2); color: #10b981;">
                        üìà
                    </div>
                    <div class="summary-info">
                        <div class="summary-label">Productivity Index</div>
                        <div class="summary-value">87.4%</div>
                        <div class="summary-trend positive">+3.2% from last month</div>
                    </div>
                </div>

                <div class="summary-item">
                    <div class="summary-icon" style="background: rgba(245, 158, 11, 0.2); color: #f59e0b;">
                        üéØ
                    </div>
                    <div class="summary-info">
                        <div class="summary-label">Task Completion Rate</div>
                        <div class="summary-value">92.8%</div>
                        <div class="summary-trend positive">+1.8% from last month</div>
                    </div>
                </div>

                <div class="summary-item">
                    <div class="summary-icon" style="background: rgba(6, 182, 212, 0.2); color: #06b6d4;">
                        ‚è±Ô∏è
                    </div>
                    <div class="summary-info">
                        <div class="summary-label">Avg Response Time</div>
                        <div class="summary-value">2.4 hrs</div>
                        <div class="summary-trend positive">-0.6 hrs improvement</div>
                    </div>
                </div>

                <div class="summary-item">
                    <div class="summary-icon" style="background: rgba(139, 92, 246, 0.2); color: #8b5cf6;">
                        üèÜ
                    </div>
                    <div class="summary-info">
                        <div class="summary-label">Achievement Rate</div>
                        <div class="summary-value">89.3%</div>
                        <div class="summary-trend positive">+2.1% from last month</div>
                    </div>
                </div>

                <div class="summary-item">
                    <div class="summary-icon" style="background: rgba(239, 68, 68, 0.2); color: #ef4444;">
                        üìö
                    </div>
                    <div class="summary-info">
                        <div class="summary-label">Training Hours</div>
                        <div class="summary-value">847 hrs</div>
                        <div class="summary-trend positive">+124 hrs this month</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="section-header">
        <h2 class="section-title">Team Management Actions</h2>
    </div>

    <div class="grid grid-4">
        <button class="action-card" onclick="scheduleTeamMeeting()">
            <div class="action-icon">üìÖ</div>
            <div class="action-name">Schedule Meeting</div>
            <div class="action-desc">Organize team meetings and briefings</div>
        </button>

        <button class="action-card" onclick="assignTasks()">
            <div class="action-icon">‚úÖ</div>
            <div class="action-name">Assign Tasks</div>
            <div class="action-desc">Delegate tasks to team members</div>
        </button>

        <button class="action-card" onclick="generateTeamReport()">
            <div class="action-icon">üìä</div>
            <div class="action-name">Performance Report</div>
            <div class="action-desc">Generate team analytics report</div>
        </button>

        <button class="action-card" onclick="exportTeamData()">
            <div class="action-icon">‚¨áÔ∏è</div>
            <div class="action-name">Export Data</div>
            <div class="action-desc">Download team directory and metrics</div>
        </button>
    </div>
</div>

<!-- Team Member Detail Modal -->
<div id="teamModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title" id="teamModalTitle">Team Member Details</h2>
            <button class="modal-close" onclick="closeTeamModal()">√ó</button>
        </div>
        <div class="modal-body" id="teamModalBody">
            <!-- Content will be inserted dynamically -->
        </div>
    </div>
</div>

<!-- Add Team Member Modal -->
<div id="addTeamMemberModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title">Add New Team Member</h2>
            <button class="modal-close" onclick="closeAddTeamMemberModal()">√ó</button>
        </div>
        <div class="modal-body">
            <form class="team-form" onsubmit="submitNewTeamMember(event)">
                <div class="form-grid">
                    <div class="form-group">
                        <label>Full Name *</label>
                        <input type="text" required placeholder="Enter full name">
                    </div>
                    <div class="form-group">
                        <label>Employee ID *</label>
                        <input type="text" required placeholder="EMP-XXX">
                    </div>
                    <div class="form-group">
                        <label>Department *</label>
                        <select required>
                            <option value="">Select Department</option>
                            <option value="field">Field Operations</option>
                            <option value="coordination">Coordinators</option>
                            <option value="analytics">Data Analytics</option>
                            <option value="support">Support Staff</option>
                            <option value="management">Management</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Role *</label>
                        <input type="text" required placeholder="Enter role/designation">
                    </div>
                    <div class="form-group">
                        <label>Email *</label>
                        <input type="email" required placeholder="name@district.gov">
                    </div>
                    <div class="form-group">
                        <label>Phone *</label>
                        <input type="tel" required placeholder="+91 XXXXX XXXXX">
                    </div>
                    <div class="form-group">
                        <label>Location</label>
                        <input type="text" placeholder="Work location">
                    </div>
                    <div class="form-group">
                        <label>Experience (years)</label>
                        <input type="number" step="0.1" placeholder="0.0">
                    </div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeAddTeamMemberModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary">Add Team Member</button>
                </div>
            </form>
        </div>
    </div>
</div>

<style>
/* Additional Styles for Team Management Page */

.department-card {
    cursor: pointer;
    transition: all 0.3s ease;
    text-align: center;
}

.department-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
}

.department-icon {
    width: 60px;
    height: 60px;
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 28px;
    margin: 0 auto 16px;
}

.department-info {
    margin-bottom: 16px;
}

.department-name {
    font-size: 16px;
    font-weight: 600;
    color: rgba(255, 255, 255, 0.95);
    margin-bottom: 4px;
}

.department-count {
    font-size: 24px;
    font-weight: 700;
    color: #667eea;
    margin-bottom: 2px;
}

.department-percentage {
    font-size: 13px;
    color: rgba(255, 255, 255, 0.6);
}

.department-stats {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    padding: 12px;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 12px;
}

.dept-stat-item {
    display: flex;
    flex-direction: column;
    align-items: center;
}

.dept-stat-label {
    font-size: 11px;
    color: rgba(255, 255, 255, 0.6);
    margin-bottom: 2px;
}

.dept-stat-value {
    font-size: 16px;
    font-weight: 700;
    color: rgba(255, 255, 255, 0.95);
}

.team-member-card {
    cursor: pointer;
    transition: all 0.3s ease;
}

.team-member-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
}

.member-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 16px;
}

.member-avatar {
    width: 70px;
    height: 70px;
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 28px;
    font-weight: 700;
    color: white;
}

.member-status {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    border: 2px solid rgba(10, 14, 39, 1);
}

.member-status.online {
    background: #10b981;
}

.member-status.away {
    background: #f59e0b;
}

.member-status.offline {
    background: #6b7280;
}

.member-info {
    margin-bottom: 16px;
}

.member-name {
    font-size: 18px;
    font-weight: 700;
    color: rgba(255, 255, 255, 0.95);
    margin-bottom: 4px;
}

.member-role {
    font-size: 14px;
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: 4px;
}

.member-id {
    font-size: 12px;
    color: rgba(255, 255, 255, 0.5);
}

.member-details {
    margin-bottom: 16px;
    padding: 12px;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 12px;
}

.detail-item {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 8px;
    font-size: 12px;
    color: rgba(255, 255, 255, 0.8);
}

.detail-item:last-child {
    margin-bottom: 0;
}

.detail-icon {
    font-size: 14px;
}

.member-metrics {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 8px;
    margin-bottom: 16px;
}

.metric-box {
    text-align: center;
    padding: 8px;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 8px;
}

.metric-box .metric-value {
    font-size: 16px;
    font-weight: 700;
    color: #667eea;
    margin-bottom: 2px;
}

.metric-box .metric-label {
    font-size: 11px;
    color: rgba(255, 255, 255, 0.6);
}

.member-tags {
    display: flex;
    gap: 6px;
    flex-wrap: wrap;
}

.table-user {
    display: flex;
    align-items: center;
    gap: 12px;
}

.table-avatar {
    width: 40px;
    height: 40px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    font-weight: 700;
    color: white;
}

.table-name {
    font-weight: 600;
    color: rgba(255, 255, 255, 0.95);
}

.table-meta {
    font-size: 12px;
    color: rgba(255, 255, 255, 0.5);
}

.dept-badge {
    padding: 4px 12px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 600;
}

.dept-badge.field {
    background: rgba(102, 126, 234, 0.2);
    color: #667eea;
}

.dept-badge.analytics {
    background: rgba(245, 158, 11, 0.2);
    color: #f59e0b;
}

.dept-badge.coordination {
    background: rgba(16, 185, 129, 0.2);
    color: #10b981;
}

.dept-badge.support {
    background: rgba(6, 182, 212, 0.2);
    color: #06b6d4;
}

.dept-badge.management {
    background: rgba(139, 92, 246, 0.2);
    color: #8b5cf6;
}

.contact-info {
    font-size: 12px;
    color: rgba(255, 255, 255, 0.7);
    line-height: 1.6;
}

.performance-indicator {
    display: flex;
    align-items: center;
    gap: 8px;
}

.perf-bar {
    flex: 1;
    height: 20px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 10px;
    overflow: hidden;
}

.perf-fill {
    height: 100%;
    border-radius: 10px;
}

.perf-value {
    font-weight: 600;
    color: rgba(255, 255, 255, 0.95);
}

.attendance-badge {
    padding: 4px 12px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 600;
}

.attendance-badge.excellent {
    background: rgba(16, 185, 129, 0.2);
    color: #10b981;
}

.attendance-badge.good {
    background: rgba(245, 158, 11, 0.2);
    color: #f59e0b;
}

.status-badge {
    padding: 4px 12px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 600;
}

.status-badge.active {
    background: rgba(16, 185, 129, 0.2);
    color: #10b981;
}

.performance-distribution {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.perf-dist-item {
    display: grid;
    grid-template-columns: 1fr auto;
    gap: 8px;
    align-items: center;
}

.perf-dist-header {
    display: flex;
    justify-content: space-between;
    margin-bottom: 6px;
}

.perf-dist-label {
    font-size: 14px;
    color: rgba(255, 255, 255, 0.9);
}

.perf-dist-count {
    font-size: 13px;
    color: rgba(255, 255, 255, 0.6);
}

.perf-dist-bar {
    height: 24px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    overflow: hidden;
    grid-column: 1;
}

.perf-dist-fill {
    height: 100%;
    border-radius: 12px;
}

.perf-dist-percent {
    font-size: 14px;
    font-weight: 700;
    color: rgba(255, 255, 255, 0.95);
}

.top-performers {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.performer-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 12px;
}

.performer-rank {
    width: 36px;
    height: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    font-weight: 700;
    background: rgba(102, 126, 234, 0.2);
    color: #667eea;
    border-radius: 8px;
}

.performer-info {
    flex: 1;
}

.performer-name {
    font-weight: 600;
    color: rgba(255, 255, 255, 0.95);
    margin-bottom: 2px;
}

.performer-dept {
    font-size: 12px;
    color: rgba(255, 255, 255, 0.6);
}

.performer-score {
    font-size: 18px;
    font-weight: 700;
    color: #10b981;
}

.metrics-summary {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.summary-item {
    display: flex;
    gap: 12px;
    padding: 12px;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 12px;
}

.summary-icon {
    width: 48px;
    height: 48px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
}

.summary-info {
    flex: 1;
}

.summary-label {
    font-size: 13px;
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: 4px;
}

.summary-value {
    font-size: 20px;
    font-weight: 700;
    color: rgba(255, 255, 255, 0.95);
    margin-bottom: 4px;
}

.summary-trend {
    font-size: 12px;
}

.summary-trend.positive {
    color: #10b981;
}

.team-form {
    padding: 20px 0;
}

.form-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-bottom: 24px;
}

.form-group {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.form-group label {
    font-size: 14px;
    font-weight: 600;
    color: rgba(255, 255, 255, 0.9);
}

.form-group input,
.form-group select {
    padding: 10px 12px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    color: rgba(255, 255, 255, 0.9);
    font-size: 14px;
}

.form-group input:focus,
.form-group select:focus {
    outline: none;
    border-color: #667eea;
}

.form-actions {
    display: flex;
    gap: 12px;
    justify-content: flex-end;
}
</style>

<script>
// JavaScript Functions for Team Management Page

function showTeamDetail(type) {
    const modal = document.getElementById('teamModal');
    const title = document.getElementById('teamModalTitle');
    const body = document.getElementById('teamModalBody');
    
    const contentMap = {
        'total': {
            title: 'Total Team Overview - 247 Members',
            content: `
                <div style="color: rgba(255,255,255,0.9);">
                    <h3 style="margin-bottom: 16px;">Complete Team Breakdown</h3>
                    <p style="margin-bottom: 24px;">Comprehensive overview of all 247 team members across departments.</p>
                    
                    <div style="display: grid; gap: 16px;">
                        <div style="background: rgba(102, 126, 234, 0.1); padding: 16px; border-radius: 12px;">
                            <div style="font-size: 16px; font-weight: 600; color: #667eea; margin-bottom: 8px;">Department Distribution</div>
                            <div style="color: rgba(255,255,255,0.8);">Field: 142 | Coordinators: 38 | Analytics: 24 | Support: 28 | Management: 15</div>
                        </div>
                        
                        <div style="background: rgba(102, 126, 234, 0.1); padding: 16px; border-radius: 12px;">
                            <div style="font-size: 16px; font-weight: 600; color: #667eea; margin-bottom: 8px;">Growth Trend</div>
                            <div style="color: rgba(255,255,255,0.8);">+12 new members this month | +47 this quarter</div>
                        </div>
                        
                        <div style="background: rgba(102, 126, 234, 0.1); padding: 16px; border-radius: 12px;">
                            <div style="font-size: 16px; font-weight: 600; color: #667eea; margin-bottom: 8px;">Average Experience</div>
                            <div style="color: rgba(255,255,255,0.8);">4.2 years across all departments</div>
                        </div>
                    </div>
                </div>
            `
        },
        'active': {
            title: 'Active Members - 234 (94.7%)',
            content: `
                <div style="color: rgba(255,255,255,0.9);">
                    <h3 style="margin-bottom: 16px;">Active Team Status</h3>
                    <p style="margin-bottom: 24px;">234 members actively contributing to district operations.</p>
                    
                    <div style="display: grid; gap: 16px;">
                        <div style="background: rgba(16, 185, 129, 0.1); padding: 16px; border-radius: 12px;">
                            <div style="font-size: 16px; font-weight: 600; color: #10b981; margin-bottom: 8px;">Active Status</div>
                            <div style="color: rgba(255,255,255,0.8);">94.7% active rate | 13 on leave | 0 vacant positions</div>
                        </div>
                        
                        <div style="background: rgba(16, 185, 129, 0.1); padding: 16px; border-radius: 12px;">
                            <div style="font-size: 16px; font-weight: 600; color: #10b981; margin-bottom: 8px;">Field Deployment</div>
                            <div style="color: rgba(255,255,255,0.8);">89% deployed in field | 11% office-based</div>
                        </div>
                    </div>
                </div>
            `
        },
        'performance': {
            title: 'Team Performance - 87% Average',
            content: `
                <div style="color: rgba(255,255,255,0.9);">
                    <h3 style="margin-bottom: 16px;">Performance Analytics</h3>
                    <p style="margin-bottom: 24px;">Team maintaining excellent 87% average performance score.</p>
                    
                    <div style="display: grid; gap: 16px;">
                        <div style="background: rgba(245, 158, 11, 0.1); padding: 16px; border-radius: 12px;">
                            <div style="font-size: 16px; font-weight: 600; color: #f59e0b; margin-bottom: 8px;">Performance Trend</div>
                            <div style="color: rgba(255,255,255,0.8);">+3.2% improvement from last month | Consistent growth</div>
                        </div>
                        
                        <div style="background: rgba(245, 158, 11, 0.1); padding: 16px; border-radius: 12px;">
                            <div style="font-size: 16px; font-weight: 600; color: #f59e0b; margin-bottom: 8px;">Top Department</div>
                            <div style="color: rgba(255,255,255,0.8);">Analytics leads with 93% average performance</div>
                        </div>
                    </div>
                </div>
            `
        },
        'attendance': {
            title: 'Attendance - 94.3% Rate',
            content: `
                <div style="color: rgba(255,255,255,0.9);">
                    <h3 style="margin-bottom: 16px;">Attendance Tracking</h3>
                    <p style="margin-bottom: 24px;">Excellent attendance rate across all departments.</p>
                    
                    <div style="display: grid; gap: 16px;">
                        <div style="background: rgba(6, 182, 212, 0.1); padding: 16px; border-radius: 12px;">
                            <div style="font-size: 16px; font-weight: 600; color: #06b6d4; margin-bottom: 8px;">Monthly Attendance</div>
                            <div style="color: rgba(255,255,255,0.8);">94.3% average | 233 present today | 14 on planned leave</div>
                        </div>
                        
                        <div style="background: rgba(6, 182, 212, 0.1); padding: 16px; border-radius: 12px;">
                            <div style="font-size: 16px; font-weight: 600; color: #06b6d4; margin-bottom: 8px;">Perfect Attendance</div>
                            <div style="color: rgba(255,255,255,0.8);">124 members with 100% attendance this month</div>
                        </div>
                    </div>
                </div>
            `
        }
    };
    
    const data = contentMap[type];
    title.textContent = data.title;
    body.innerHTML = data.content;
    modal.classList.add('active');
}

function closeTeamModal() {
    document.getElementById('teamModal').classList.remove('active');
}

function openAddTeamMemberModal() {
    document.getElementById('addTeamMemberModal').classList.add('active');
}

function closeAddTeamMemberModal() {
    document.getElementById('addTeamMemberModal').classList.remove('active');
}

function submitNewTeamMember(event) {
    event.preventDefault();
    alert('New team member added successfully!');
    closeAddTeamMemberModal();
}

function filterByDepartment(dept) {
    alert(`Filtering team members by department: ${dept}`);
}

function filterTeamMembers(filter) {
    alert(`Filtering by: ${filter}`);
}

function searchTeamMembers(query) {
    if (query.length > 2) {
        console.log('Searching for:', query);
    }
}

function viewMemberProfile(memberId) {
    alert(`Loading detailed profile for member: ${memberId}`);
}

function exportTeamData() {
    alert('Exporting team directory and performance data...');
}

function scheduleTeamMeeting() {
    alert('Opening meeting scheduler...');
}

function assignTasks() {
    alert('Opening task assignment interface...');
}

function generateTeamReport() {
    alert('Generating comprehensive team performance report...');
}

// Close modals when clicking outside
document.addEventListener('click', function(e) {
    if (e.target.id === 'teamModal') {
        closeTeamModal();
    }
    if (e.target.id === 'addTeamMemberModal') {
        closeAddTeamMemberModal();
    }
});
</script>

     <!-- Budget & Finance Management Page - Complete Version -->
<div id="page-budget" class="page-content">
    <div class="page-header">
        <div class="page-title-row">
            <h1 class="page-title">Budget & Finance</h1>
            <div class="page-actions">
                <button class="btn btn-secondary btn-sm" onclick="exportFinancialData()">
                    <span>‚¨áÔ∏è</span> Export Report
                </button>
                <button class="btn btn-primary btn-sm" onclick="openAddTransactionModal()">
                    <span>‚ûï</span> Add Transaction
                </button>
            </div>
        </div>
        <div class="breadcrumb">
            <span class="breadcrumb-link" onclick="loadPage('dashboard')">Home</span>
            <span>/</span>
            <span>Budget & Finance</span>
        </div>
    </div>

    <div class="info-box">
        <div class="info-box-title">
            <span>üí∞</span>
            Financial Management Dashboard
        </div>
        <div class="info-box-content">
            Comprehensive financial tracking for Bengaluru Urban district operations. Monitor district revenue of ‚Çπ4.8 Crore with detailed operational budget tracking, expense management across 12 categories, real-time fund allocation monitoring, and compliance reporting. Track monthly burn rate of ‚Çπ42 Lakh, maintain 94.2% budget utilization efficiency, and oversee financial operations across 8 taluks with 412 gram panchayats. Advanced analytics for revenue forecasting, expense optimization, and financial health monitoring.
        </div>
    </div>

    <!-- Financial Overview Stats -->
    <div class="grid grid-4">
        <div class="stat-card clickable" onclick="showFinanceDetail('revenue')">
            <div class="stat-icon" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
                üíµ
            </div>
            <div class="stat-value">‚Çπ4.8 Cr</div>
            <div class="stat-label">Total Revenue</div>
            <div class="stat-trend positive">
                <span class="trend-icon">‚Üë</span>
                <span>+18.4% from last quarter</span>
            </div>
        </div>

        <div class="stat-card clickable" onclick="showFinanceDetail('expenses')">
            <div class="stat-icon" style="background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);">
                üí∏
            </div>
            <div class="stat-value">‚Çπ3.6 Cr</div>
            <div class="stat-label">Total Expenses</div>
            <div class="stat-trend positive">
                <span class="trend-icon">‚Üì</span>
                <span>-8.2% optimization</span>
            </div>
        </div>

        <div class="stat-card clickable" onclick="showFinanceDetail('profit')">
            <div class="stat-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                üìà
            </div>
            <div class="stat-value">‚Çπ1.2 Cr</div>
            <div class="stat-label">Net Surplus</div>
            <div class="stat-trend positive">
                <span class="trend-icon">‚Üë</span>
                <span>25% profit margin</span>
            </div>
        </div>

        <div class="stat-card clickable" onclick="showFinanceDetail('budget')">
            <div class="stat-icon" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);">
                üéØ
            </div>
            <div class="stat-value">94.2%</div>
            <div class="stat-label">Budget Utilization</div>
            <div class="stat-trend positive">
                <span class="trend-icon">‚Üí</span>
                <span>Optimal efficiency</span>
            </div>
        </div>
    </div>

    <!-- Monthly Financial Summary -->
    <div class="section-header">
        <h2 class="section-title">Monthly Financial Performance</h2>
        <div class="section-actions">
            <select class="filter-select" onchange="filterByMonth(this.value)">
                <option value="current">Current Month</option>
                <option value="last">Last Month</option>
                <option value="quarter">This Quarter</option>
                <option value="year">This Year</option>
            </select>
        </div>
    </div>

    <div class="grid grid-3">
        <div class="card">
            <h3 class="card-title">Revenue This Month</h3>
            <div class="finance-summary">
                <div class="finance-amount revenue">‚Çπ42.8 Lakh</div>
                <div class="finance-change positive">+12.4% from last month</div>
                <div class="finance-breakdown">
                    <div class="breakdown-item">
                        <span class="breakdown-label">Campaign Fees</span>
                        <span class="breakdown-value">‚Çπ28.4 L</span>
                    </div>
                    <div class="breakdown-item">
                        <span class="breakdown-label">Consulting</span>
                        <span class="breakdown-value">‚Çπ8.7 L</span>
                    </div>
                    <div class="breakdown-item">
                        <span class="breakdown-label">Data Services</span>
                        <span class="breakdown-value">‚Çπ3.9 L</span>
                    </div>
                    <div class="breakdown-item">
                        <span class="breakdown-label">Other Income</span>
                        <span class="breakdown-value">‚Çπ1.8 L</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <h3 class="card-title">Expenses This Month</h3>
            <div class="finance-summary">
                <div class="finance-amount expense">‚Çπ34.2 Lakh</div>
                <div class="finance-change positive">-6.8% from last month</div>
                <div class="finance-breakdown">
                    <div class="breakdown-item">
                        <span class="breakdown-label">Salaries</span>
                        <span class="breakdown-value">‚Çπ18.4 L</span>
                    </div>
                    <div class="breakdown-item">
                        <span class="breakdown-label">Operations</span>
                        <span class="breakdown-value">‚Çπ8.2 L</span>
                    </div>
                    <div class="breakdown-item">
                        <span class="breakdown-label">Technology</span>
                        <span class="breakdown-value">‚Çπ4.7 L</span>
                    </div>
                    <div class="breakdown-item">
                        <span class="breakdown-label">Others</span>
                        <span class="breakdown-value">‚Çπ2.9 L</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <h3 class="card-title">Cash Flow Status</h3>
            <div class="finance-summary">
                <div class="finance-amount surplus">‚Çπ8.6 Lakh</div>
                <div class="finance-change positive">Healthy cash flow</div>
                <div class="finance-breakdown">
                    <div class="breakdown-item">
                        <span class="breakdown-label">Opening Balance</span>
                        <span class="breakdown-value">‚Çπ34.2 L</span>
                    </div>
                    <div class="breakdown-item">
                        <span class="breakdown-label">Inflow</span>
                        <span class="breakdown-value" style="color: #10b981;">+‚Çπ42.8 L</span>
                    </div>
                    <div class="breakdown-item">
                        <span class="breakdown-label">Outflow</span>
                        <span class="breakdown-value" style="color: #ef4444;">-‚Çπ34.2 L</span>
                    </div>
                    <div class="breakdown-item">
                        <span class="breakdown-label">Closing Balance</span>
                        <span class="breakdown-value" style="color: #667eea;">‚Çπ42.8 L</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Budget Allocation -->
    <div class="section-header">
        <h2 class="section-title">Budget Allocation by Category</h2>
    </div>

    <div class="grid grid-2">
        <div class="card">
            <h3 class="card-title">Operational Budget Distribution</h3>
            <div class="budget-allocation">
                <div class="allocation-item">
                    <div class="allocation-header">
                        <span class="allocation-label">üíº Personnel & Salaries</span>
                        <span class="allocation-amount">‚Çπ2.1 Cr (43.8%)</span>
                    </div>
                    <div class="allocation-bar">
                        <div class="allocation-fill" style="width: 43.8%; background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);">
                            <span class="allocation-progress">‚Çπ2.1 Cr / ‚Çπ2.1 Cr</span>
                        </div>
                    </div>
                    <div class="allocation-stats">
                        <span class="allocation-utilized">100% utilized</span>
                        <span class="allocation-status excellent">On Budget</span>
                    </div>
                </div>

                <div class="allocation-item">
                    <div class="allocation-header">
                        <span class="allocation-label">üéØ Field Operations</span>
                        <span class="allocation-amount">‚Çπ84 L (17.5%)</span>
                    </div>
                    <div class="allocation-bar">
                        <div class="allocation-fill" style="width: 17.5%; background: linear-gradient(90deg, #10b981 0%, #059669 100%);">
                            <span class="allocation-progress">‚Çπ78 L / ‚Çπ84 L</span>
                        </div>
                    </div>
                    <div class="allocation-stats">
                        <span class="allocation-utilized">92.8% utilized</span>
                        <span class="allocation-status good">Under Budget</span>
                    </div>
                </div>

                <div class="allocation-item">
                    <div class="allocation-header">
                        <span class="allocation-label">üíª Technology & Software</span>
                        <span class="allocation-amount">‚Çπ67 L (14.0%)</span>
                    </div>
                    <div class="allocation-bar">
                        <div class="allocation-fill" style="width: 14.0%; background: linear-gradient(90deg, #06b6d4 0%, #0891b2 100%);">
                            <span class="allocation-progress">‚Çπ64 L / ‚Çπ67 L</span>
                        </div>
                    </div>
                    <div class="allocation-stats">
                        <span class="allocation-utilized">95.5% utilized</span>
                        <span class="allocation-status excellent">On Budget</span>
                    </div>
                </div>

                <div class="allocation-item">
                    <div class="allocation-header">
                        <span class="allocation-label">üìä Data & Analytics</span>
                        <span class="allocation-amount">‚Çπ48 L (10.0%)</span>
                    </div>
                    <div class="allocation-bar">
                        <div class="allocation-fill" style="width: 10.0%; background: linear-gradient(90deg, #f59e0b 0%, #d97706 100%);">
                            <span class="allocation-progress">‚Çπ47 L / ‚Çπ48 L</span>
                        </div>
                    </div>
                    <div class="allocation-stats">
                        <span class="allocation-utilized">97.9% utilized</span>
                        <span class="allocation-status excellent">On Budget</span>
                    </div>
                </div>

                <div class="allocation-item">
                    <div class="allocation-header">
                        <span class="allocation-label">üì¢ Marketing & Outreach</span>
                        <span class="allocation-amount">‚Çπ38 L (7.9%)</span>
                    </div>
                    <div class="allocation-bar">
                        <div class="allocation-fill" style="width: 7.9%; background: linear-gradient(90deg, #8b5cf6 0%, #7c3aed 100%);">
                            <span class="allocation-progress">‚Çπ34 L / ‚Çπ38 L</span>
                        </div>
                    </div>
                    <div class="allocation-stats">
                        <span class="allocation-utilized">89.5% utilized</span>
                        <span class="allocation-status good">Under Budget</span>
                    </div>
                </div>

                <div class="allocation-item">
                    <div class="allocation-header">
                        <span class="allocation-label">üè¢ Infrastructure</span>
                        <span class="allocation-amount">‚Çπ32 L (6.7%)</span>
                    </div>
                    <div class="allocation-bar">
                        <div class="allocation-fill" style="width: 6.7%; background: linear-gradient(90deg, #ec4899 0%, #db2777 100%);">
                            <span class="allocation-progress">‚Çπ32 L / ‚Çπ32 L</span>
                        </div>
                    </div>
                    <div class="allocation-stats">
                        <span class="allocation-utilized">100% utilized</span>
                        <span class="allocation-status excellent">On Budget</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <h3 class="card-title">Budget vs Actual Comparison</h3>
            <div class="budget-comparison">
                <div class="comparison-chart">
                    <div class="comparison-item">
                        <div class="comparison-label">Q1 2025</div>
                        <div class="comparison-bars">
                            <div class="comparison-bar budget">
                                <span class="bar-label">Budget</span>
                                <div class="bar-track">
                                    <div class="bar-fill" style="width: 100%; background: rgba(102, 126, 234, 0.3);">‚Çπ1.2 Cr</div>
                                </div>
                            </div>
                            <div class="comparison-bar actual">
                                <span class="bar-label">Actual</span>
                                <div class="bar-track">
                                    <div class="bar-fill" style="width: 96%; background: #10b981;">‚Çπ1.15 Cr</div>
                                </div>
                            </div>
                        </div>
                        <div class="comparison-variance positive">-4% (Under Budget)</div>
                    </div>

                    <div class="comparison-item">
                        <div class="comparison-label">Q2 2025</div>
                        <div class="comparison-bars">
                            <div class="comparison-bar budget">
                                <span class="bar-label">Budget</span>
                                <div class="bar-track">
                                    <div class="bar-fill" style="width: 100%; background: rgba(102, 126, 234, 0.3);">‚Çπ1.2 Cr</div>
                                </div>
                            </div>
                            <div class="comparison-bar actual">
                                <span class="bar-label">Actual</span>
                                <div class="bar-track">
                                    <div class="bar-fill" style="width: 94%; background: #10b981;">‚Çπ1.13 Cr</div>
                                </div>
                            </div>
                        </div>
                        <div class="comparison-variance positive">-6% (Under Budget)</div>
                    </div>

                    <div class="comparison-item">
                        <div class="comparison-label">Q3 2025</div>
                        <div class="comparison-bars">
                            <div class="comparison-bar budget">
                                <span class="bar-label">Budget</span>
                                <div class="bar-track">
                                    <div class="bar-fill" style="width: 100%; background: rgba(102, 126, 234, 0.3);">‚Çπ1.2 Cr</div>
                                </div>
                            </div>
                            <div class="comparison-bar actual">
                                <span class="bar-label">Actual</span>
                                <div class="bar-track">
                                    <div class="bar-fill" style="width: 98%; background: #10b981;">‚Çπ1.18 Cr</div>
                                </div>
                            </div>
                        </div>
                        <div class="comparison-variance positive">-2% (Under Budget)</div>
                    </div>

                    <div class="comparison-item">
                        <div class="comparison-label">Q4 2025 (Projected)</div>
                        <div class="comparison-bars">
                            <div class="comparison-bar budget">
                                <span class="bar-label">Budget</span>
                                <div class="bar-track">
                                    <div class="bar-fill" style="width: 100%; background: rgba(102, 126, 234, 0.3);">‚Çπ1.2 Cr</div>
                                </div>
                            </div>
                            <div class="comparison-bar actual">
                                <span class="bar-label">Forecast</span>
                                <div class="bar-track">
                                    <div class="bar-fill" style="width: 95%; background: #667eea;">‚Çπ1.14 Cr</div>
                                </div>
                            </div>
                        </div>
                        <div class="comparison-variance forecast">-5% (Projected)</div>
                    </div>
                </div>

                <div class="budget-summary-box">
                    <div class="summary-row">
                        <span class="summary-label">Total Annual Budget</span>
                        <span class="summary-value">‚Çπ4.8 Cr</span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">YTD Expenses</span>
                        <span class="summary-value">‚Çπ3.46 Cr</span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">Remaining Budget</span>
                        <span class="summary-value" style="color: #10b981;">‚Çπ1.34 Cr</span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">Budget Health</span>
                        <span class="summary-badge excellent">Excellent</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Recent Transactions -->
    <div class="section-header">
        <h2 class="section-title">Recent Financial Transactions</h2>
        <div class="section-actions">
            <select class="filter-select" onchange="filterTransactions(this.value)">
                <option value="all">All Transactions</option>
                <option value="income">Income Only</option>
                <option value="expense">Expense Only</option>
                <option value="pending">Pending</option>
            </select>
            <input type="text" class="search-input" placeholder="Search transactions..." onkeyup="searchTransactions(this.value)">
        </div>
    </div>

    <div class="card">
        <div class="data-table-container">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Transaction ID</th>
                        <th>Date</th>
                        <th>Category</th>
                        <th>Description</th>
                        <th>Type</th>
                        <th>Amount</th>
                        <th>Payment Mode</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>TXN-2847</strong></td>
                        <td>Oct 04, 2025</td>
                        <td><span class="category-badge income">Campaign Fees</span></td>
                        <td>Constituency-level campaign services</td>
                        <td><span class="type-badge income">Income</span></td>
                        <td><span class="amount-value income">+‚Çπ4,80,000</span></td>
                        <td>Bank Transfer</td>
                        <td><span class="status-badge completed">Completed</span></td>
                        <td>
                            <button class="btn btn-sm btn-secondary" onclick="viewTransaction('TXN-2847')">View</button>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>TXN-2846</strong></td>
                        <td>Oct 03, 2025</td>
                        <td><span class="category-badge expense">Salaries</span></td>
                        <td>Monthly salary payment - October 2025</td>
                        <td><span class="type-badge expense">Expense</span></td>
                        <td><span class="amount-value expense">-‚Çπ18,40,000</span></td>
                        <td>Direct Deposit</td>
                        <td><span class="status-badge completed">Completed</span></td>
                        <td>
                            <button class="btn btn-sm btn-secondary" onclick="viewTransaction('TXN-2846')">View</button>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>TXN-2845</strong></td>
                        <td>Oct 02, 2025</td>
                        <td><span class="category-badge income">Consulting</span></td>
                        <td>Strategic planning consultation fees</td>
                        <td><span class="type-badge income">Income</span></td>
                        <td><span class="amount-value income">+‚Çπ2,80,000</span></td>
                        <td>Cheque</td>
                        <td><span class="status-badge completed">Completed</span></td>
                        <td>
                            <button class="btn btn-sm btn-secondary" onclick="viewTransaction('TXN-2845')">View</button>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>TXN-2844</strong></td>
                        <td>Oct 01, 2025</td>
                        <td><span class="category-badge expense">Technology</span></td>
                        <td>Software licenses and cloud services</td>
                        <td><span class="type-badge expense">Expense</span></td>
                        <td><span class="amount-value expense">-‚Çπ3,20,000</span></td>
                        <td>Online Payment</td>
                        <td><span class="status-badge completed">Completed</span></td>
                        <td>
                            <button class="btn btn-sm btn-secondary" onclick="viewTransaction('TXN-2844')">View</button>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>TXN-2843</strong></td>
                        <td>Sep 30, 2025</td>
                        <td><span class="category-badge expense">Operations</span></td>
                        <td>Field operations and logistics</td>
                        <td><span class="type-badge expense">Expense</span></td>
                        <td><span class="amount-value expense">-‚Çπ5,60,000</span></td>
                        <td>Bank Transfer</td>
                        <td><span class="status-badge completed">Completed</span></td>
                        <td>
                            <button class="btn btn-sm btn-secondary" onclick="viewTransaction('TXN-2843')">View</button>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>TXN-2842</strong></td>
                        <td>Sep 29, 2025</td>
                        <td><span class="category-badge income">Data Services</span></td>
                        <td>Voter analytics and data reports</td>
                        <td><span class="type-badge income">Income</span></td>
                        <td><span class="amount-value income">+‚Çπ1,90,000</span></td>
                        <td>Bank Transfer</td>
                        <td><span class="status-badge completed">Completed</span></td>
                        <td>
                            <button class="btn btn-sm btn-secondary" onclick="viewTransaction('TXN-2842')">View</button>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>TXN-2841</strong></td>
                        <td>Sep 28, 2025</td>
                        <td><span class="category-badge expense">Marketing</span></td>
                        <td>Digital marketing campaign expenses</td>
                        <td><span class="type-badge expense">Expense</span></td>
                        <td><span class="amount-value expense">-‚Çπ2,40,000</span></td>
                        <td>Online Payment</td>
                        <td><span class="status-badge pending">Pending</span></td>
                        <td>
                            <button class="btn btn-sm btn-secondary" onclick="viewTransaction('TXN-2841')">View</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Financial Metrics -->
    <div class="section-header">
        <h2 class="section-title">Key Financial Metrics</h2>
    </div>

    <div class="grid grid-4">
        <div class="card metric-card">
            <div class="metric-header">
                <div class="metric-icon" style="background: rgba(16, 185, 129, 0.2); color: #10b981;">
                    üí∞
                </div>
                <div class="metric-trend positive">+12.4%</div>
            </div>
            <div class="metric-content">
                <div class="metric-label">Revenue Growth Rate</div>
                <div class="metric-value">12.4%</div>
                <div class="metric-description">Quarter-over-quarter growth</div>
            </div>
        </div>

        <div class="card metric-card">
            <div class="metric-header">
                <div class="metric-icon" style="background: rgba(245, 158, 11, 0.2); color: #f59e0b;">
                    üìä
                </div>
                <div class="metric-trend positive">-8.2%</div>
            </div>
            <div class="metric-content">
                <div class="metric-label">Cost Optimization</div>
                <div class="metric-value">8.2%</div>
                <div class="metric-description">Expense reduction achieved</div>
            </div>
        </div>

        <div class="card metric-card">
            <div class="metric-header">
                <div class="metric-icon" style="background: rgba(6, 182, 212, 0.2); color: #06b6d4;">
                    ‚è±Ô∏è
                </div>
                <div class="metric-trend neutral">‚Üí</div>
            </div>
            <div class="metric-content">
                <div class="metric-label">Burn Rate</div>
                <div class="metric-value">‚Çπ42 L/mo</div>
                <div class="metric-description">Monthly operational cost</div>
            </div>
        </div>

        <div class="card metric-card">
            <div class="metric-header">
                <div class="metric-icon" style="background: rgba(139, 92, 246, 0.2); color: #8b5cf6;">
                    üìà
                </div>
                <div class="metric-trend positive">+18.4%</div>
            </div>
            <div class="metric-content">
                <div class="metric-label">ROI</div>
                <div class="metric-value">33.3%</div>
                <div class="metric-description">Return on investment</div>
            </div>
        </div>
    </div>

    <!-- Quick Financial Actions -->
    <div class="section-header">
        <h2 class="section-title">Financial Management Tools</h2>
    </div>

    <div class="grid grid-4">
        <button class="action-card" onclick="generateInvoice()">
            <div class="action-icon">üßæ</div>
            <div class="action-name">Generate Invoice</div>
            <div class="action-desc">Create and send invoices to clients</div>
        </button>

        <button class="action-card" onclick="schedulePayment()">
            <div class="action-icon">üìÖ</div>
            <div class="action-name">Schedule Payment</div>
            <div class="action-desc">Set up recurring payments</div>
        </button>

        <button class="action-card" onclick="viewReports()">
            <div class="action-icon">üìä</div>
            <div class="action-name">Financial Reports</div>
            <div class="action-desc">Generate comprehensive reports</div>
        </button>

        <button class="action-card" onclick="exportFinancialData()">
            <div class="action-icon">‚¨áÔ∏è</div>
            <div class="action-name">Export Data</div>
            <div class="action-desc">Download financial statements</div>
        </button>
    </div>
</div>

<!-- Finance Detail Modal -->
<div id="financeModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title" id="financeModalTitle">Financial Details</h2>
            <button class="modal-close" onclick="closeFinanceModal()">√ó</button>
        </div>
        <div class="modal-body" id="financeModalBody">
            <!-- Content will be inserted dynamically -->
        </div>
    </div>
</div>

<!-- Add Transaction Modal -->
<div id="addTransactionModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title">Add New Transaction</h2>
            <button class="modal-close" onclick="closeAddTransactionModal()">√ó</button>
        </div>
        <div class="modal-body">
            <form class="transaction-form" onsubmit="submitNewTransaction(event)">
                <div class="form-grid">
                    <div class="form-group">
                        <label>Transaction Type *</label>
                        <select required>
                            <option value="">Select Type</option>
                            <option value="income">Income</option>
                            <option value="expense">Expense</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Category *</label>
                        <select required>
                            <option value="">Select Category</option>
                            <option value="campaign">Campaign Fees</option>
                            <option value="consulting">Consulting</option>
                            <option value="data">Data Services</option>
                            <option value="salary">Salaries</option>
                            <option value="operations">Operations</option>
                            <option value="technology">Technology</option>
                            <option value="marketing">Marketing</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Amount (‚Çπ) *</label>
                        <input type="number" required placeholder="Enter amount">
                    </div>
                    <div class="form-group">
                        <label>Date *</label>
                        <input type="date" required>
                    </div>
                    <div class="form-group" style="grid-column: 1 / -1;">
                        <label>Description *</label>
                        <textarea required placeholder="Enter transaction description" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Payment Mode *</label>
                        <select required>
                            <option value="">Select Mode</option>
                            <option value="bank">Bank Transfer</option>
                            <option value="cash">Cash</option>
                            <option value="cheque">Cheque</option>
                            <option value="online">Online Payment</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Reference Number</label>
                        <input type="text" placeholder="Transaction reference">
                    </div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeAddTransactionModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary">Add Transaction</button>
                </div>
            </form>
        </div>
    </div>
</div>

<style>
/* Additional Styles for Budget & Finance Page */

.finance-summary {
    text-align: center;
}

.finance-amount {
    font-size: 36px;
    font-weight: 700;
    margin-bottom: 8px;
}

.finance-amount.revenue {
    color: #10b981;
}

.finance-amount.expense {
    color: #ef4444;
}

.finance-amount.surplus {
    color: #667eea;
}

.finance-change {
    font-size: 14px;
    margin-bottom: 24px;
}

.finance-change.positive {
    color: #10b981;
}

.finance-change.negative {
    color: #ef4444;
}

.finance-breakdown {
    display: flex;
    flex-direction: column;
    gap: 12px;
    text-align: left;
    padding-top: 20px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.breakdown-item {
    display: flex;
    justify-content: space-between;
    padding: 8px 12px;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 8px;
}

.breakdown-label {
    font-size: 13px;
    color: rgba(255, 255, 255, 0.7);
}

.breakdown-value {
    font-size: 14px;
    font-weight: 700;
    color: rgba(255, 255, 255, 0.95);
}

.budget-allocation {
    display: flex;
    flex-direction: column;
    gap: 24px;
}

.allocation-item {
    padding: 16px;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 12px;
}

.allocation-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
}

.allocation-label {
    font-size: 14px;
    font-weight: 600;
    color: rgba(255, 255, 255, 0.95);
}

.allocation-amount {
    font-size: 14px;
    font-weight: 700;
    color: #667eea;
}

.allocation-bar {
    height: 32px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 16px;
    overflow: hidden;
    margin-bottom: 8px;
}

.allocation-fill {
    height: 100%;
    display: flex;
    align-items: center;
    padding: 0 12px;
    border-radius: 16px;
}

.allocation-progress {
    font-size: 12px;
    font-weight: 600;
    color: white;
}

.allocation-stats {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.allocation-utilized {
    font-size: 12px;
    color: rgba(255, 255, 255, 0.6);
}

.allocation-status {
    padding: 3px 10px;
    border-radius: 12px;
    font-size: 11px;
    font-weight: 600;
}

.allocation-status.excellent {
    background: rgba(16, 185, 129, 0.2);
    color: #10b981;
}

.allocation-status.good {
    background: rgba(6, 182, 212, 0.2);
    color: #06b6d4;
}

.budget-comparison {
    display: flex;
    flex-direction: column;
    gap: 24px;
}

.comparison-chart {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.comparison-item {
    padding: 16px;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 12px;
}

.comparison-label {
    font-size: 14px;
    font-weight: 600;
    color: rgba(255, 255, 255, 0.95);
    margin-bottom: 12px;
}

.comparison-bars {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-bottom: 8px;
}

.comparison-bar {
    display: grid;
    grid-template-columns: 60px 1fr;
    gap: 12px;
    align-items: center;
}

.bar-label {
    font-size: 12px;
    color: rgba(255, 255, 255, 0.7);
}

.bar-track {
    height: 24px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    overflow: hidden;
}

.bar-fill {
    height: 100%;
    display: flex;
    align-items: center;
    padding: 0 12px;
    font-size: 11px;
    font-weight: 600;
    color: white;
    border-radius: 12px;
}

.comparison-variance {
    font-size: 12px;
    font-weight: 600;
    text-align: right;
}

.comparison-variance.positive {
    color: #10b981;
}

.comparison-variance.forecast {
    color: #667eea;
}

.budget-summary-box {
    padding: 16px;
    background: rgba(102, 126, 234, 0.1);
    border: 1px solid rgba(102, 126, 234, 0.3);
    border-radius: 12px;
}

.summary-row {
    display: flex;
    justify-content: space-between;
    padding: 8px 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.summary-row:last-child {
    border-bottom: none;
}

.summary-label {
    font-size: 13px;
    color: rgba(255, 255, 255, 0.7);
}

.summary-value {
    font-size: 14px;
    font-weight: 700;
    color: rgba(255, 255, 255, 0.95);
}

.summary-badge {
    padding: 4px 12px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 600;
}

.summary-badge.excellent {
    background: rgba(16, 185, 129, 0.2);
    color: #10b981;
}

.category-badge {
    padding: 4px 12px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 600;
}

.category-badge.income {
    background: rgba(16, 185, 129, 0.2);
    color: #10b981;
}

.category-badge.expense {
    background: rgba(239, 68, 68, 0.2);
    color: #ef4444;
}

.type-badge {
    padding: 4px 12px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 600;
}

.type-badge.income {
    background: rgba(16, 185, 129, 0.2);
    color: #10b981;
}

.type-badge.expense {
    background: rgba(239, 68, 68, 0.2);
    color: #ef4444;
}

.amount-value {
    font-weight: 700;
    font-size: 15px;
}

.amount-value.income {
    color: #10b981;
}

.amount-value.expense {
    color: #ef4444;
}

.status-badge {
    padding: 4px 12px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 600;
}

.status-badge.completed {
    background: rgba(16, 185, 129, 0.2);
    color: #10b981;
}

.status-badge.pending {
    background: rgba(245, 158, 11, 0.2);
    color: #f59e0b;
}

.metric-card {
    cursor: pointer;
    transition: all 0.3s ease;
}

.metric-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
}

.metric-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 16px;
}

.metric-icon {
    width: 48px;
    height: 48px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
}

.metric-trend {
    font-size: 14px;
    font-weight: 600;
}

.metric-trend.positive {
    color: #10b981;
}

.metric-trend.negative {
    color: #ef4444;
}

.metric-trend.neutral {
    color: #f59e0b;
}

.metric-content {
    text-align: center;
}

.metric-label {
    font-size: 13px;
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: 8px;
}

.metric-value {
    font-size: 28px;
    font-weight: 700;
    color: rgba(255, 255, 255, 0.95);
    margin-bottom: 4px;
}

.metric-description {
    font-size: 12px;
    color: rgba(255, 255, 255, 0.5);
}

.transaction-form {
    padding: 20px 0;
}

.transaction-form .form-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-bottom: 24px;
}

.transaction-form .form-group {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.transaction-form label {
    font-size: 14px;
    font-weight: 600;
    color: rgba(255, 255, 255, 0.9);
}

.transaction-form input,
.transaction-form select,
.transaction-form textarea {
    padding: 10px 12px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    color: rgba(255, 255, 255, 0.9);
    font-size: 14px;
}

.transaction-form input:focus,
.transaction-form select:focus,
.transaction-form textarea:focus {
    outline: none;
    border-color: #667eea;
}
</style>

<script>
// JavaScript Functions for Budget & Finance Page

function showFinanceDetail(type) {
    const modal = document.getElementById('financeModal');
    const title = document.getElementById('financeModalTitle');
    const body = document.getElementById('financeModalBody');
    
    const contentMap = {
        'revenue': {
            title: 'Total Revenue - ‚Çπ4.8 Crore',
            content: `
                <div style="color: rgba(255,255,255,0.9);">
                    <h3 style="margin-bottom: 16px;">Revenue Breakdown</h3>
                    <p style="margin-bottom: 24px;">Complete analysis of district revenue across all sources.</p>
                    
                    <div style="display: grid; gap: 16px;">
                        <div style="background: rgba(16, 185, 129, 0.1); padding: 16px; border-radius: 12px;">
                            <div style="font-size: 16px; font-weight: 600; color: #10b981; margin-bottom: 8px;">Campaign Fees</div>
                            <div style="color: rgba(255,255,255,0.8);">‚Çπ3.2 Cr (66.7%) - Primary revenue source from campaign services</div>
                        </div>
                        
                        <div style="background: rgba(16, 185, 129, 0.1); padding: 16px; border-radius: 12px;">
                            <div style="font-size: 16px; font-weight: 600; color: #10b981; margin-bottom: 8px;">Consulting Services</div>
                            <div style="color: rgba(255,255,255,0.8);">‚Çπ94 L (19.6%) - Strategic planning and advisory</div>
                        </div>
                        
                        <div style="background: rgba(16, 185, 129, 0.1); padding: 16px; border-radius: 12px;">
                            <div style="font-size: 16px; font-weight: 600; color: #10b981; margin-bottom: 8px;">Data Services</div>
                            <div style="color: rgba(255,255,255,0.8);">‚Çπ48 L (10.0%) - Analytics and insights</div>
                        </div>
                        
                        <div style="background: rgba(16, 185, 129, 0.1); padding: 16px; border-radius: 12px;">
                            <div style="font-size: 16px; font-weight: 600; color: #10b981; margin-bottom: 8px;">Other Income</div>
                            <div style="color: rgba(255,255,255,0.8);">‚Çπ18 L (3.7%) - Miscellaneous revenue streams</div>
                        </div>
                    </div>
                </div>
            `
        },
        'expenses': {
            title: 'Total Expenses - ‚Çπ3.6 Crore',
            content: `
                <div style="color: rgba(255,255,255,0.9);">
                    <h3 style="margin-bottom: 16px;">Expense Analysis</h3>
                    <p style="margin-bottom: 24px;">Detailed breakdown of operational expenses.</p>
                    
                    <div style="display: grid; gap: 16px;">
                        <div style="background: rgba(239, 68, 68, 0.1); padding: 16px; border-radius: 12px;">
                            <div style="font-size: 16px; font-weight: 600; color: #ef4444; margin-bottom: 8px;">Personnel Costs</div>
                            <div style="color: rgba(255,255,255,0.8);">‚Çπ2.1 Cr (58.3%) - Salaries, benefits, training</div>
                        </div>
                        
                        <div style="background: rgba(239, 68, 68, 0.1); padding: 16px; border-radius: 12px;">
                            <div style="font-size: 16px; font-weight: 600; color: #ef4444; margin-bottom: 8px;">Operations</div>
                            <div style="color: rgba(255,255,255,0.8);">‚Çπ84 L (23.3%) - Field operations and logistics</div>
                        </div>
                        
                        <div style="background: rgba(239, 68, 68, 0.1); padding: 16px; border-radius: 12px;">
                            <div style="font-size: 16px; font-weight: 600; color: #ef4444; margin-bottom: 8px;">Technology</div>
                            <div style="color: rgba(255,255,255,0.8);">‚Çπ67 L (18.6%) - Software, infrastructure, cloud</div>
                        </div>
                    </div>
                </div>
            `
        },
        'profit': {
            title: 'Net Surplus - ‚Çπ1.2 Crore',
            content: `
                <div style="color: rgba(255,255,255,0.9);">
                    <h3 style="margin-bottom: 16px;">Profitability Analysis</h3>
                    <p style="margin-bottom: 24px;">Healthy profit margin of 25% indicating strong financial performance.</p>
                    
                    <div style="display: grid; gap: 16px;">
                        <div style="background: rgba(102, 126, 234, 0.1); padding: 16px; border-radius: 12px;">
                            <div style="font-size: 16px; font-weight: 600; color: #667eea; margin-bottom: 8px;">Profit Margin</div>
                            <div style="color: rgba(255,255,255,0.8);">25% - Industry-leading margin for political operations</div>
                        </div>
                        
                        <div style="background: rgba(102, 126, 234, 0.1); padding: 16px; border-radius: 12px;">
                            <div style="font-size: 16px; font-weight: 600; color: #667eea; margin-bottom: 8px;">Year-over-Year Growth</div>
                            <div style="color: rgba(255,255,255,0.8);">+42.8% increase in net surplus compared to last year</div>
                        </div>
                    </div>
                </div>
            `
        },
        'budget': {
            title: 'Budget Utilization - 94.2%',
            content: `
                <div style="color: rgba(255,255,255,0.9);">
                    <h3 style="margin-bottom: 16px;">Budget Performance</h3>
                    <p style="margin-bottom: 24px;">Optimal budget utilization across all operational categories.</p>
                    
                    <div style="display: grid; gap: 16px;">
                        <div style="background: rgba(245, 158, 11, 0.1); padding: 16px; border-radius: 12px;">
                            <div style="font-size: 16px; font-weight: 600; color: #f59e0b; margin-bottom: 8px;">Utilization Rate</div>
                            <div style="color: rgba(255,255,255,0.8);">94.2% - Excellent budget management and forecasting</div>
                        </div>
                        
                        <div style="background: rgba(245, 158, 11, 0.1); padding: 16px; border-radius: 12px;">
                            <div style="font-size: 16px; font-weight: 600; color: #f59e0b; margin-bottom: 8px;">Available Funds</div>
                            <div style="color: rgba(255,255,255,0.8);">‚Çπ1.34 Cr remaining for Q4 operations</div>
                        </div>
                    </div>
                </div>
            `
        }
    };
    
    const data = contentMap[type];
    title.textContent = data.title;
    body.innerHTML = data.content;
    modal.classList.add('active');
}

function closeFinanceModal() {
    document.getElementById('financeModal').classList.remove('active');
}

function openAddTransactionModal() {
    document.getElementById('addTransactionModal').classList.add('active');
}

function closeAddTransactionModal() {
    document.getElementById('addTransactionModal').classList.remove('active');
}

function submitNewTransaction(event) {
    event.preventDefault();
    alert('Transaction added successfully!');
    closeAddTransactionModal();
}

function filterByMonth(month) {
    alert(`Filtering financial data by: ${month}`);
}

function filterTransactions(filter) {
    alert(`Filtering transactions by: ${filter}`);
}

function searchTransactions(query) {
    if (query.length > 2) {
        console.log('Searching transactions:', query);
    }
}

function viewTransaction(txnId) {
    alert(`Loading transaction details for: ${txnId}`);
}

function exportFinancialData() {
    alert('Exporting complete financial data and reports...');
}

function generateInvoice() {
    alert('Opening invoice generation tool...');
}

function schedulePayment() {
    alert('Opening payment scheduler...');
}

function viewReports() {
    alert('Loading comprehensive financial reports...');
}

// Close modals when clicking outside
document.addEventListener('click', function(e) {
    if (e.target.id === 'financeModal') {
        closeFinanceModal();
    }
    if (e.target.id === 'addTransactionModal') {
        closeAddTransactionModal();
    }
});
</script>
    </main>

    <script>
        const constituenciesData = [
            { name: 'Byatarayanapura', voters: '2.78L', booths: 112, mla: 'Krishna Murthy', party: 'Party A', margin: '+12,456', priority: 'Medium', clients: 1 },
            { name: 'Yeshwanthpur', voters: '2.92L', booths: 118, mla: 'Ramesh Kumar', party: 'Party B', margin: '+8,234', priority: 'High', clients: 1 },
            { name: 'Rajarajeshwari Nagar', voters: '3.14L', booths: 127, mla: 'Munirathna', party: 'Party A', margin: '+15,678', priority: 'Medium', clients: 0 },
            { name: 'Jayanagar', voters: '2.85L', booths: 115, mla: 'Sowmya Reddy', party: 'Party A', margin: '+4,567', priority: 'High', clients: 2 },
            { name: 'Basavanagudi', voters: '2.92L', booths: 118, mla: 'Ravi Subramanya', party: 'Party B', margin: '+6,234', priority: 'High', clients: 1 },
            { name: 'Malleshwaram', voters: '2.78L', booths: 112, mla: 'Ashwath Narayan', party: 'Party B', margin: '+9,456', priority: 'Medium', clients: 1 },
            { name: 'Shivaji Nagar', voters: '2.67L', booths: 108, mla: 'Rizwan Arshad', party: 'Party A', margin: '+3,892', priority: 'High', clients: 1 },
            { name: 'Shanti Nagar', voters: '2.54L', booths: 103, mla: 'N.A. Haris', party: 'Party A', margin: '+11,234', priority: 'Low', clients: 0 },
            { name: 'Gandhinagar', voters: '2.48L', booths: 100, mla: 'Dinesh Gundu Rao', party: 'Party A', margin: '+7,845', priority: 'Medium', clients: 1 },
            { name: 'Rajaji Nagar', voters: '2.89L', booths: 117, mla: 'Suresh Kumar', party: 'Party B', margin: '+5,234', priority: 'High', clients: 2 },
            { name: 'Govindraj Nagar', voters: '2.72L', booths: 110, mla: 'Priya Krishna', party: 'Party A', margin: '+13,567', priority: 'Low', clients: 0 },
            { name: 'Vijayanagar', voters: '2.94L', booths: 119, mla: 'M. Krishnappa', party: 'Party A', margin: '+10,892', priority: 'Medium', clients: 1 },
            { name: 'C.V. Raman Nagar', voters: '3.02L', booths: 122, mla: 'S. Raghu', party: 'Party A', margin: '+6,734', priority: 'High', clients: 1 },
            { name: 'Shivakumar Swamy (R.R. Nagar)', voters: '3.18L', booths: 129, mla: 'Muniraju Gowda', party: 'Party A', margin: '+14,234', priority: 'Medium', clients: 0 },
            { name: 'Mahalakshmi Layout', voters: '2.97L', booths: 120, mla: 'K. Gopalaiah', party: 'Party B', margin: '+4,892', priority: 'High', clients: 1 },
            { name: 'Pulakeshinagar', voters: '2.61L', booths: 106, mla: 'Akhanda Srinivasa Murthy', party: 'Party A', margin: '+9,123', priority: 'Medium', clients: 0 },
            { name: 'Sarvagnanagar', voters: '2.83L', booths: 114, mla: 'Ramesh Kashyap', party: 'Party B', margin: '+7,456', priority: 'Medium', clients: 1 },
            { name: 'C.V. Raman Nagar', voters: '2.76L', booths: 112, mla: 'S. Raghu', party: 'Party A', margin: '+8,234', priority: 'High', clients: 1 },
            { name: 'K.R. Puram', voters: '3.08L', booths: 125, mla: 'Byrathi Basavaraj', party: 'Party B', margin: '+11,567', priority: 'Medium', clients: 0 },
            { name: 'Hebbal', voters: '2.91L', booths: 118, mla: 'Venkatesh', party: 'Party B', margin: '+5,892', priority: 'High', clients: 1 },
            { name: 'Mahadevapura', voters: '3.24L', booths: 131, mla: 'Arvind Limbavali', party: 'Party B', margin: '+16,234', priority: 'Low', clients: 0 },
            { name: 'Bommanahalli', voters: '3.12L', booths: 126, mla: 'Satish Reddy', party: 'Party A', margin: '+12,345', priority: 'Medium', clients: 1 },
            { name: 'BTM Layout', voters: '2.88L', booths: 117, mla: 'Ramalinga Reddy', party: 'Party A', margin: '+9,876', priority: 'Medium', clients: 1 },
            { name: 'Padmanaba Nagar', voters: '2.79L', booths: 113, mla: 'R. Manjunath', party: 'Party B', margin: '+6,543', priority: 'High', clients: 1 },
            { name: 'Bangalore South', voters: '3.01L', booths: 122, mla: 'M. Krishnappa', party: 'Party B', margin: '+13,234', priority: 'Medium', clients: 0 },
            { name: 'Anekal', voters: '2.47L', booths: 100, mla: 'Vishwanath', party: 'Party A', margin: '+8,765', priority: 'Low', clients: 0 },
            { name: 'Dasarahalli', voters: '2.84L', booths: 115, mla: 'H.M. Revanna', party: 'Party A', margin: '+10,234', priority: 'Medium', clients: 1 },
            { name: 'Mahalakshmi Layout', voters: '2.96L', booths: 120, mla: 'K. Gopalaiah', party: 'Party B', margin: '+7,123', priority: 'High', clients: 1 }
        ];

        function loadConstituenciesTable() {
            const tbody = document.getElementById('constituenciesTable');
            if (!tbody) return;
            
            tbody.innerHTML = '';
            constituenciesData.slice(0, 10).forEach(c => {
                const priorityBadge = c.priority === 'High' ? 'danger' : (c.priority === 'Medium' ? 'warning' : 'success');
                tbody.innerHTML += `
                    <tr>
                        <td><strong>${c.name}</strong></td>
                        <td>${c.voters}</td>
                        <td>${c.mla}</td>
                        <td>${c.party}</td>
                        <td>${c.margin}</td>
                        <td>${c.clients}</td>
                        <td><span class="badge badge-${priorityBadge}">${c.priority}</span></td>
                    </tr>
                `;
            });
        }

        function loadDetailedConstituenciesTable() {
            const tbody = document.getElementById('detailedConstituenciesTable');
            if (!tbody) return;
            
            tbody.innerHTML = '';
            constituenciesData.forEach(c => {
                const priorityBadge = c.priority === 'High' ? 'danger' : (c.priority === 'Medium' ? 'warning' : 'success');
                tbody.innerHTML += `
                    <tr>
                        <td><strong>${c.name}</strong></td>
                        <td>${c.voters}</td>
                        <td>${c.booths}</td>
                        <td>${c.mla}</td>
                        <td>${c.party}</td>
                        <td>${c.margin}</td>
                        <td><span class="badge badge-${priorityBadge}">${c.priority}</span></td>
                        <td><button class="btn btn-primary btn-sm">View</button></td>
                    </tr>
                `;
            });
        }

        function loadPage(pageName) {
            document.querySelectorAll('.page-content').forEach(page => page.classList.remove('active'));
            const targetPage = document.getElementById('page-' + pageName);
            if (targetPage) targetPage.classList.add('active');
            
            document.querySelectorAll('.sidebar-item').forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('data-page') === pageName) {
                    item.classList.add('active');
                }
            });
            
            if (pageName === 'constituencies') loadDetailedConstituenciesTable();
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function refreshData() {
            alert('District data refreshed successfully!');
        }

        function generateReport() {
            alert('Generating comprehensive Bengaluru Urban district report...');
        }

        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.sidebar-item').forEach(item => {
                item.addEventListener('click', function() {
                    const page = this.getAttribute('data-page');
                    if (page) loadPage(page);
                });
            });
            
            loadConstituenciesTable();
        });
    </script>
</body>
</html>