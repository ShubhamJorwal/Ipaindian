<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Karnataka Administrative Dashboard - Complete 31 Districts</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: #0a0a0a;
            color: #e0e0e0;
            height: 100vh;
            overflow: hidden;
        }
        
        .dashboard {
            display: grid;
            grid-template-columns: 340px 1fr;
            grid-template-rows: 70px 1fr;
            height: 100vh;
        }
        
        /* Header */
        .header {
            grid-column: 1 / -1;
            background: linear-gradient(135deg, #000 0%, #1a1a1a 100%);
            border-bottom: 2px solid #222;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.5);
        }
        
        .header-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .header-icon {
            font-size: 2rem;
        }
        
        .header-title {
            font-size: 1.2rem;
            font-weight: 700;
            letter-spacing: 0.5px;
        }
        
        .header-subtitle {
            font-size: 0.75rem;
            color: #666;
            margin-top: 2px;
        }
        
        .header-stats {
            display: flex;
            gap: 35px;
            font-size: 0.8rem;
        }
        
        .header-stat {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .header-stat-num {
            font-size: 1.4rem;
            font-weight: 700;
            color: #fff;
        }
        
        .header-stat-label {
            color: #666;
            text-transform: uppercase;
            font-size: 0.65rem;
            letter-spacing: 1px;
            margin-top: 2px;
        }
        
        /* Sidebar */
        .sidebar {
            background: #0d0d0d;
            border-right: 2px solid #222;
            overflow-y: auto;
            padding: 20px 0;
        }
        
        .sidebar::-webkit-scrollbar {
            width: 7px;
        }
        
        .sidebar::-webkit-scrollbar-track {
            background: #000;
        }
        
        .sidebar::-webkit-scrollbar-thumb {
            background: #333;
            border-radius: 4px;
        }
        
        .sidebar::-webkit-scrollbar-thumb:hover {
            background: #444;
        }
        
        .search-box {
            padding: 0 15px 20px 15px;
            border-bottom: 1px solid #222;
            margin-bottom: 15px;
        }
        
        .search-input {
            width: 100%;
            background: #000;
            border: 1px solid #333;
            color: #fff;
            padding: 12px 15px;
            border-radius: 6px;
            font-size: 0.85rem;
            transition: all 0.2s;
        }
        
        .search-input:focus {
            outline: none;
            border-color: #fff;
            background: #0a0a0a;
        }
        
        /* Tree Structure */
        .tree {
            list-style: none;
        }
        
        .tree-item {
            user-select: none;
        }
        
        .tree-node {
            display: flex;
            align-items: center;
            padding: 10px 15px;
            cursor: pointer;
            transition: all 0.2s;
            border-left: 3px solid transparent;
            position: relative;
        }
        
        .tree-node:hover {
            background: #151515;
        }
        
        .tree-node.active {
            background: #1a1a1a;
            border-left-color: #fff;
        }
        
        .tree-node.active::after {
            content: '';
            position: absolute;
            right: 15px;
            width: 6px;
            height: 6px;
            background: #fff;
            border-radius: 50%;
        }
        
        .tree-toggle {
            width: 18px;
            height: 18px;
            margin-right: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            color: #666;
            transition: transform 0.2s;
            flex-shrink: 0;
        }
        
        .tree-toggle.expanded {
            transform: rotate(90deg);
        }
        
        .tree-icon {
            width: 22px;
            height: 22px;
            margin-right: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            flex-shrink: 0;
        }
        
        .tree-label {
            flex: 1;
            font-size: 0.85rem;
            font-weight: 500;
        }
        
        .tree-badge {
            background: #222;
            color: #888;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 600;
            white-space: nowrap;
            flex-shrink: 0;
        }
        
        .tree-children {
            display: none;
            padding-left: 20px;
        }
        
        .tree-children.expanded {
            display: block;
        }
        
        .tree-item[data-level="1"] .tree-node {
            padding-left: 35px;
        }
        
        .tree-item[data-level="2"] .tree-node {
            padding-left: 55px;
        }
        
        .tree-item[data-level="3"] .tree-node {
            padding-left: 75px;
        }
        
        .tree-item[data-level="4"] .tree-node {
            padding-left: 95px;
        }
        
        /* Main Content */
        .main-content {
            background: #0a0a0a;
            overflow-y: auto;
            padding: 30px;
        }
        
        .main-content::-webkit-scrollbar {
            width: 10px;
        }
        
        .main-content::-webkit-scrollbar-track {
            background: #000;
        }
        
        .main-content::-webkit-scrollbar-thumb {
            background: #333;
            border-radius: 5px;
        }
        
        .main-content::-webkit-scrollbar-thumb:hover {
            background: #444;
        }
        
        .content-header {
            margin-bottom: 30px;
            padding-bottom: 25px;
            border-bottom: 2px solid #1a1a1a;
        }
        
        .content-title {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: #fff;
        }
        
        .content-subtitle {
            font-size: 1rem;
            color: #666;
            line-height: 1.6;
        }
        
        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            font-size: 0.85rem;
            color: #666;
            flex-wrap: wrap;
        }
        
        .breadcrumb-item {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: color 0.2s;
        }
        
        .breadcrumb-item:hover {
            color: #fff;
        }
        
        .breadcrumb-item.current {
            color: #fff;
            font-weight: 600;
        }
        
        .breadcrumb-separator {
            color: #444;
        }
        
        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #0d0d0d 0%, #111 100%);
            border: 1px solid #1a1a1a;
            padding: 25px;
            border-radius: 8px;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #666 0%, #333 100%);
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .stat-card:hover {
            border-color: #333;
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.5);
        }
        
        .stat-card:hover::before {
            opacity: 1;
        }
        
        .stat-card-label {
            font-size: 0.75rem;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 1.2px;
            margin-bottom: 10px;
        }
        
        .stat-card-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: #fff;
            margin-bottom: 8px;
        }
        
        .stat-card-desc {
            font-size: 0.8rem;
            color: #888;
            line-height: 1.4;
        }
        
        /* Data Sections */
        .data-section {
            background: #0d0d0d;
            border: 1px solid #1a1a1a;
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 25px;
        }
        
        .section-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: #fff;
            padding-bottom: 12px;
            border-bottom: 1px solid #1a1a1a;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .data-list {
            display: grid;
            gap: 12px;
        }
        
        .data-item {
            background: #000;
            border: 1px solid #1a1a1a;
            padding: 18px;
            border-radius: 6px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.2s;
        }
        
        .data-item:hover {
            border-color: #444;
            background: #0a0a0a;
            transform: translateX(3px);
        }
        
        .data-item-main {
            font-size: 0.95rem;
            font-weight: 500;
            color: #fff;
            margin-bottom: 4px;
        }
        
        .data-item-detail {
            font-size: 0.8rem;
            color: #666;
        }
        
        .data-item-badge {
            background: #1a1a1a;
            padding: 5px 12px;
            border-radius: 14px;
            font-size: 0.75rem;
            color: #888;
            white-space: nowrap;
        }
        
        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 100px 20px;
            color: #666;
        }
        
        .empty-state-icon {
            font-size: 5rem;
            margin-bottom: 25px;
            opacity: 0.3;
        }
        
        .empty-state-title {
            font-size: 1.5rem;
            margin-bottom: 12px;
            color: #888;
            font-weight: 600;
        }
        
        .empty-state-desc {
            font-size: 0.95rem;
            line-height: 1.7;
            max-width: 600px;
            margin: 0 auto;
        }
        
        /* Info Box */
        .info-box {
            background: linear-gradient(135deg, #1a1a1a 0%, #0d0d0d 100%);
            border: 1px solid #222;
            border-left: 4px solid #fff;
            padding: 25px;
            border-radius: 6px;
            margin-bottom: 25px;
        }
        
        .info-box-title {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 12px;
            color: #fff;
        }
        
        .info-box-text {
            font-size: 0.9rem;
            color: #aaa;
            line-height: 1.8;
        }
        
        .tag {
            display: inline-block;
            background: #1a1a1a;
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 0.75rem;
            color: #888;
            margin: 4px;
            border: 1px solid #222;
        }
        
        .tag-sc {
            background: #2a1a1a;
            color: #ff8888;
            border-color: #3a2222;
        }
        
        .tag-st {
            background: #1a2a1a;
            color: #88ff88;
            border-color: #223a22;
        }
    </style>
</head>
<body>
    <div class="dashboard">
        <!-- Header -->
        <div class="header">
            <div class="header-left">
                <div class="header-icon">🗺️</div>
                <div>
                    <div class="header-title">Karnataka Administrative Dashboard</div>
                    <div class="header-subtitle">Complete 31 Districts | 5-Tier Hierarchy | 2028 Election Preparation</div>
                </div>
            </div>
            <div class="header-stats">
                <div class="header-stat">
                    <div class="header-stat-num">31</div>
                    <div class="header-stat-label">Districts</div>
                </div>
                <div class="header-stat">
                    <div class="header-stat-num">236</div>
                    <div class="header-stat-label">Taluks</div>
                </div>
                <div class="header-stat">
                    <div class="header-stat-num">224</div>
                    <div class="header-stat-label">Constituencies</div>
                </div>
                <div class="header-stat">
                    <div class="header-stat-num">747</div>
                    <div class="header-stat-label">Hoblis</div>
                </div>
                <div class="header-stat">
                    <div class="header-stat-num">6,022</div>
                    <div class="header-stat-label">Gram Panchayats</div>
                </div>
            </div>
        </div>
        
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="search-box">
                <input type="text" class="search-input" id="searchInput" placeholder="🔍 Search all 31 districts...">
            </div>
            <ul class="tree" id="districtTree"></ul>
        </div>
        
        <!-- Main Content -->
        <div class="main-content" id="mainContent">
            <div class="empty-state">
                <div class="empty-state-icon">🗺️</div>
                <div class="empty-state-title">Karnataka - All 31 Districts Available</div>
                <div class="empty-state-desc">
                    Select any of the 31 districts from the sidebar to view complete hierarchical information<br>
                    <strong>4 Divisions | 31 Districts | 236 Taluks | 224 Constituencies | 747 Hoblis | 6,022 GPs</strong>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // COMPLETE DATA FOR ALL 31 KARNATAKA DISTRICTS
        const ALL_31_DISTRICTS = {
            // BELAGAVI DIVISION (7 districts)
            'bagalkot': {
                name: 'Bagalkot',
                region: 'Belagavi Division',
                area: '6,593 sq km',
                population: '18.9 lakh',
                taluks: [
                    { name: 'Badami', hoblis: ['Badami', 'Kerur'], gramPanchayats: ['Badami', 'Kerur', 'Kaladgi'], constituencies: ['Badami'] },
                    { name: 'Bagalkot', hoblis: ['Bagalkot', 'Guledgudd'], gramPanchayats: ['Bagalkot', 'Guledgudd', 'Navanagar'], constituencies: ['Bagalkot'] },
                    { name: 'Bilgi', hoblis: ['Bilgi', 'Mudhol'], gramPanchayats: ['Bilgi', 'Jamkhandi', 'Rabkavi'], constituencies: ['Bilgi'] },
                    { name: 'Hungund', hoblis: ['Hungund', 'Ilkal'], gramPanchayats: ['Hungund', 'Ilkal', 'Lokapur'], constituencies: ['Hungund'] },
                    { name: 'Jamkhandi', hoblis: ['Jamkhandi', 'Rabkavi'], gramPanchayats: ['Jamkhandi', 'Rabkavi', 'Banahatti'], constituencies: ['Jamkhandi'] },
                    { name: 'Mudhol', hoblis: ['Mudhol', 'Lokapur'], gramPanchayats: ['Mudhol', 'Lokapur', 'Terdal'], constituencies: ['Mudhol'] }
                ],
                constituencies: [
                    { name: 'Badami', type: 'General', taluks: ['Badami'], villages: 178, booths: 298 },
                    { name: 'Bagalkot', type: 'General', taluks: ['Bagalkot'], villages: 145, booths: 267 },
                    { name: 'Bilgi', type: 'General', taluks: ['Bilgi'], villages: 134, booths: 256 },
                    { name: 'Hungund', type: 'General', taluks: ['Hungund'], villages: 167, booths: 289 },
                    { name: 'Jamkhandi', type: 'General', taluks: ['Jamkhandi'], villages: 189, booths: 312 },
                    { name: 'Mudhol', type: 'General', taluks: ['Mudhol'], villages: 156, booths: 278 },
                    { name: 'Terdal', type: 'General', taluks: ['Mudhol'], villages: 124, booths: 245 }
                ],
                description: 'Known for Badami caves and historical monuments. Agricultural economy with red soil.'
            },
            'belagavi': {
                name: 'Belagavi (Belgaum)',
                region: 'Belagavi Division',
                area: '13,415 sq km',
                population: '47.8 lakh',
                taluks: [
                    { name: 'Athani', hoblis: ['Athani', 'Kagwad'], gramPanchayats: ['Athani', 'Kagwad', 'Ainapur'], constituencies: ['Athani', 'Kagwad'] },
                    { name: 'Bailhongal', hoblis: ['Bailhongal', 'Kittur'], gramPanchayats: ['Bailhongal', 'Kittur', 'Savadatti'], constituencies: ['Bailahongal', 'Kittur'] },
                    { name: 'Belgaum', hoblis: ['Belgaum City', 'Hindalgi'], gramPanchayats: [], constituencies: ['Belgaum Uttar', 'Belgaum Dakshin', 'Belgaum Rural'] },
                    { name: 'Chikkodi', hoblis: ['Chikkodi', 'Nesargi'], gramPanchayats: ['Chikkodi', 'Nesargi', 'Sadalagi'], constituencies: ['Nippani', 'Chikkodi-Sadalga'] },
                    { name: 'Gokak', hoblis: ['Gokak', 'Mudalgi'], gramPanchayats: ['Gokak', 'Mudalgi', 'Sankeshwar'], constituencies: ['Gokak', 'Arabhavi'] }
                ],
                constituencies: [
                    { name: 'Nippani', type: 'General', taluks: ['Chikkodi'], villages: 89, booths: 234 },
                    { name: 'Chikkodi-Sadalga', type: 'General', taluks: ['Chikkodi'], villages: 112, booths: 267 },
                    { name: 'Athani', type: 'General', taluks: ['Athani'], villages: 145, booths: 289 },
                    { name: 'Kagwad', type: 'General', taluks: ['Athani'], villages: 98, booths: 245 },
                    { name: 'Bailahongal', type: 'General', taluks: ['Bailhongal'], villages: 124, booths: 267 },
                    { name: 'Belgaum Uttar', type: 'General', taluks: ['Belgaum'], villages: 34, booths: 287 },
                    { name: 'Belgaum Dakshin', type: 'General', taluks: ['Belgaum'], villages: 28, booths: 276 }
                ],
                description: 'Largest district by area. Border region with Maharashtra. Commercial and political hub.'
            },
            'vijayapura': {
                name: 'Vijayapura (Bijapur)',
                region: 'Belagavi Division',
                area: '10,541 sq km',
                population: '21.8 lakh',
                taluks: [
                    { name: 'Bijapur', hoblis: ['Bijapur City', 'Tikota'], gramPanchayats: [], constituencies: ['Bijapur City', 'Nagthan'] },
                    { name: 'Indi', hoblis: ['Indi', 'Kolhar'], gramPanchayats: ['Indi', 'Kolhar', 'Talikoti'], constituencies: ['Indi'] },
                    { name: 'Sindgi', hoblis: ['Sindgi', 'Talikoti'], gramPanchayats: ['Sindgi', 'Talikoti'], constituencies: ['Sindgi'] },
                    { name: 'Muddebihal', hoblis: ['Muddebihal'], gramPanchayats: ['Muddebihal', 'Chadchan'], constituencies: ['Muddebihal'] },
                    { name: 'Basavana Bagewadi', hoblis: ['Basavana Bagewadi'], gramPanchayats: ['Basavana Bagewadi', 'Babaleshwar'], constituencies: ['Basavana Bagewadi'] }
                ],
                constituencies: [
                    { name: 'Babaleshwar', type: 'General', taluks: ['Basavana Bagewadi'], villages: 134, booths: 267 },
                    { name: 'Basavana Bagewadi', type: 'General', taluks: ['Basavana Bagewadi'], villages: 156, booths: 289 },
                    { name: 'Bijapur City', type: 'General', taluks: ['Bijapur'], villages: 23, booths: 256 },
                    { name: 'Devara Hippargi', type: 'General', taluks: ['Bijapur'], villages: 98, booths: 234 },
                    { name: 'Indi', type: 'General', taluks: ['Indi'], villages: 178, booths: 312 },
                    { name: 'Muddebihal', type: 'General', taluks: ['Muddebihal'], villages: 145, booths: 278 },
                    { name: 'Nagthan', type: 'SC', taluks: ['Bijapur'], villages: 167, booths: 298 },
                    { name: 'Sindgi', type: 'General', taluks: ['Sindgi'], villages: 189, booths: 312 }
                ],
                description: 'Historic city with Gol Gumbaz. Adil Shahi architecture and monuments.'
            },
            'dharwad': {
                name: 'Dharwad',
                region: 'Belagavi Division',
                area: '4,260 sq km',
                population: '18.5 lakh',
                taluks: [
                    { name: 'Dharwad', hoblis: ['Dharwad', 'Alnavar'], gramPanchayats: ['Alnavar', 'Amminbhavi'], constituencies: ['Dharwad'] },
                    { name: 'Hubli', hoblis: ['Hubli', 'Unkal'], gramPanchayats: [], constituencies: ['Hubli-Dharwad Central', 'Hubli-Dharwad West', 'Hubli-Dharwad East'] },
                    { name: 'Kalghatagi', hoblis: ['Kalghatagi'], gramPanchayats: ['Kalghatagi'], constituencies: ['Kalaghatgi'] },
                    { name: 'Kundgol', hoblis: ['Kundgol'], gramPanchayats: ['Kundgol'], constituencies: ['Kundgol'] },
                    { name: 'Navalgund', hoblis: ['Navalgund'], gramPanchayats: ['Navalgund'], constituencies: ['Navalgund'] }
                ],
                constituencies: [
                    { name: 'Hubli-Dharwad Central', type: 'General', taluks: ['Hubli', 'Dharwad'], villages: 0, booths: 289 },
                    { name: 'Hubli-Dharwad West', type: 'General', taluks: ['Hubli'], villages: 8, booths: 267 },
                    { name: 'Hubli-Dharwad East', type: 'SC', taluks: ['Hubli'], villages: 12, booths: 278 },
                    { name: 'Dharwad', type: 'General', taluks: ['Dharwad'], villages: 156, booths: 298 },
                    { name: 'Navalgund', type: 'General', taluks: ['Navalgund'], villages: 189, booths: 312 },
                    { name: 'Kundgol', type: 'General', taluks: ['Kundgol'], villages: 134, booths: 276 },
                    { name: 'Kalaghatgi', type: 'General', taluks: ['Kalghatagi'], villages: 167, booths: 289 }
                ],
                description: 'Educational and cultural center. Hubli-Dharwad twin city major urban hub.'
            },
            'gadag': {
                name: 'Gadag',
                region: 'Belagavi Division',
                area: '4,656 sq km',
                population: '10.6 lakh',
                taluks: [
                    { name: 'Gadag', hoblis: ['Gadag', 'Lakshmeshwar'], gramPanchayats: ['Gadag', 'Lakshmeshwar'], constituencies: ['Gadag'] },
                    { name: 'Mundargi', hoblis: ['Mundargi'], gramPanchayats: ['Mundargi'], constituencies: ['Mundargi'] },
                    { name: 'Nargund', hoblis: ['Nargund'], gramPanchayats: ['Nargund'], constituencies: ['Nargund'] },
                    { name: 'Ron', hoblis: ['Ron'], gramPanchayats: ['Ron'], constituencies: ['Ron'] },
                    { name: 'Shirhatti', hoblis: ['Shirhatti'], gramPanchayats: ['Shirhatti'], constituencies: ['Shirhatti'] }
                ],
                constituencies: [
                    { name: 'Gadag', type: 'General', taluks: ['Gadag'], villages: 145, booths: 267 },
                    { name: 'Mundargi', type: 'General', taluks: ['Mundargi'], villages: 134, booths: 256 },
                    { name: 'Nargund', type: 'General', taluks: ['Nargund'], villages: 156, booths: 278 },
                    { name: 'Ron', type: 'General', taluks: ['Ron'], villages: 167, booths: 289 },
                    { name: 'Shirhatti', type: 'General', taluks: ['Shirhatti'], villages: 124, booths: 245 }
                ],
                description: 'Industrial town known for cotton and textile manufacturing.'
            },
            'haveri': {
                name: 'Haveri',
                region: 'Belagavi Division',
                area: '4,823 sq km',
                population: '15.7 lakh',
                taluks: [
                    { name: 'Byadgi', hoblis: ['Byadgi'], gramPanchayats: ['Byadgi', 'Motebennur'], constituencies: ['Byadgi'] },
                    { name: 'Hanagal', hoblis: ['Hanagal'], gramPanchayats: ['Hanagal'], constituencies: ['Hangal'] },
                    { name: 'Haveri', hoblis: ['Haveri'], gramPanchayats: ['Haveri', 'Devihosur'], constituencies: ['Haveri'] },
                    { name: 'Hirekerur', hoblis: ['Hirekerur'], gramPanchayats: ['Hirekerur'], constituencies: ['Hirekerur'] },
                    { name: 'Ranebennur', hoblis: ['Ranebennur'], gramPanchayats: ['Ranebennur'], constituencies: ['Ranebennur'] },
                    { name: 'Savanur', hoblis: ['Savanur'], gramPanchayats: ['Savanur'], constituencies: ['Hangal'] },
                    { name: 'Shiggaon', hoblis: ['Shiggaon'], gramPanchayats: ['Shiggaon'], constituencies: ['Shiggaon'] }
                ],
                constituencies: [
                    { name: 'Byadgi', type: 'General', taluks: ['Byadgi'], villages: 156, booths: 278 },
                    { name: 'Hangal', type: 'General', taluks: ['Hanagal', 'Savanur'], villages: 189, booths: 312 },
                    { name: 'Haveri', type: 'SC', taluks: ['Haveri'], villages: 134, booths: 267 },
                    { name: 'Hirekerur', type: 'General', taluks: ['Hirekerur'], villages: 145, booths: 256 },
                    { name: 'Ranebennur', type: 'General', taluks: ['Ranebennur'], villages: 178, booths: 298 },
                    { name: 'Shiggaon', type: 'General', taluks: ['Shiggaon'], villages: 124, booths: 245 }
                ],
                description: 'Agricultural district with handloom and beedi industry.'
            },
            'uttara-kannada': {
                name: 'Uttara Kannada',
                region: 'Belagavi Division',
                area: '10,291 sq km',
                population: '15.9 lakh',
                taluks: [
                    { name: 'Ankola', hoblis: ['Ankola'], gramPanchayats: ['Ankola', 'Belke'], constituencies: ['Kumta'] },
                    { name: 'Bhatkal', hoblis: ['Bhatkal'], gramPanchayats: ['Bhatkal', 'Murdeshwar'], constituencies: ['Bhatkal'] },
                    { name: 'Dandeli', hoblis: ['Dandeli'], gramPanchayats: ['Dandeli'], constituencies: ['Haliyal'] },
                    { name: 'Haliyal', hoblis: ['Haliyal'], gramPanchayats: ['Haliyal'], constituencies: ['Haliyal'] },
                    { name: 'Honnavar', hoblis: ['Honnavar'], gramPanchayats: ['Honnavar', 'Gokarna'], constituencies: ['Kumta'] },
                    { name: 'Joida', hoblis: ['Joida'], gramPanchayats: ['Joida'], constituencies: ['Haliyal'] },
                    { name: 'Karwar', hoblis: ['Karwar'], gramPanchayats: ['Karwar'], constituencies: ['Karwar'] },
                    { name: 'Kumta', hoblis: ['Kumta'], gramPanchayats: ['Kumta', 'Mirjan'], constituencies: ['Kumta'] },
                    { name: 'Mundgod', hoblis: ['Mundgod'], gramPanchayats: ['Mundgod'], constituencies: ['Sirsi'] },
                    { name: 'Siddapur', hoblis: ['Siddapur'], gramPanchayats: ['Siddapur'], constituencies: ['Sirsi'] },
                    { name: 'Sirsi', hoblis: ['Sirsi'], gramPanchayats: ['Sirsi', 'Banavasi'], constituencies: ['Sirsi'] },
                    { name: 'Yellapur', hoblis: ['Yellapur'], gramPanchayats: ['Yellapur'], constituencies: ['Yellapur'] }
                ],
                constituencies: [
                    { name: 'Bhatkal', type: 'General', taluks: ['Bhatkal'], villages: 98, booths: 234 },
                    { name: 'Haliyal', type: 'General', taluks: ['Haliyal', 'Dandeli', 'Joida'], villages: 267, booths: 356 },
                    { name: 'Karwar', type: 'General', taluks: ['Karwar'], villages: 123, booths: 256 },
                    { name: 'Kumta', type: 'General', taluks: ['Kumta', 'Ankola', 'Honnavar'], villages: 234, booths: 312 },
                    { name: 'Sirsi', type: 'General', taluks: ['Sirsi', 'Siddapur', 'Mundgod'], villages: 298, booths: 378 },
                    { name: 'Yellapur', type: 'General', taluks: ['Yellapur'], villages: 189, booths: 298 }
                ],
                description: 'Largest coastal district. Dense forests, Western Ghats, eco-sensitive zone.'
            },

            // BENGALURU DIVISION (9 districts)
            'bengaluru-urban': {
                name: 'Bengaluru Urban',
                region: 'Bengaluru Division',
                area: '2,196 sq km',
                population: '96.6 lakh',
                taluks: [
                    { name: 'Bengaluru North', hoblis: ['Yelahanka', 'Jala', 'Dasarahalli'], gramPanchayats: [], constituencies: ['Yelahanka', 'Byatarayanapura', 'Dasarahalli', 'Hebbal', 'Yeshwanthpur'] },
                    { name: 'Bengaluru South', hoblis: ['Anekal', 'Jigani'], gramPanchayats: ['Jigani', 'Haragadde', 'Marsur'], constituencies: ['Anekal', 'Bommanahalli', 'BTM Layout'] },
                    { name: 'Bengaluru East', hoblis: ['K.R. Puram', 'Varthur'], gramPanchayats: [], constituencies: ['Mahadevapura', 'K.R. Pura', 'CV Raman Nagar'] },
                    { name: 'Anekal', hoblis: ['Anekal', 'Jigani'], gramPanchayats: ['Attibele', 'Marsur', 'Jigani'], constituencies: ['Anekal'] }
                ],
                constituencies: [
                    { name: 'Yelahanka', type: 'General', taluks: ['Bengaluru North'], villages: 12, booths: 285 },
                    { name: 'Byatarayanapura', type: 'General', taluks: ['Bengaluru North'], villages: 8, booths: 267 },
                    { name: 'Mahadevapura', type: 'SC', taluks: ['Bengaluru East'], villages: 14, booths: 312 },
                    { name: 'Shivaji Nagar', type: 'General', taluks: ['Bengaluru'], villages: 0, booths: 234 },
                    { name: 'Anekal', type: 'SC', taluks: ['Anekal'], villages: 45, booths: 287 }
                ],
                description: 'State capital and IT hub. Extreme urban density with 28 constituencies from 4 taluks.'
            },
            'bengaluru-rural': {
                name: 'Bengaluru Rural',
                region: 'Bengaluru Division',
                area: '2,259 sq km',
                population: '11.3 lakh',
                taluks: [
                    { name: 'Devanahalli', hoblis: ['Devanahalli', 'Nandi'], gramPanchayats: ['Devanahalli', 'Sadahalli', 'Vijayapura'], constituencies: ['Devanahalli'] },
                    { name: 'Doddaballapur', hoblis: ['Doddaballapur'], gramPanchayats: ['Doddaballapur', 'Dibburahalli'], constituencies: ['Doddaballapur'] },
                    { name: 'Hosakote', hoblis: ['Hosakote'], gramPanchayats: ['Hosakote', 'Sulibele'], constituencies: ['Hosakote'] },
                    { name: 'Nelamangala', hoblis: ['Nelamangala'], gramPanchayats: ['Nelamangala', 'Soladevanahalli'], constituencies: ['Nelamangala'] }
                ],
                constituencies: [
                    { name: 'Devanahalli', type: 'General', taluks: ['Devanahalli'], villages: 98, booths: 234 },
                    { name: 'Doddaballapur', type: 'General', taluks: ['Doddaballapur'], villages: 156, booths: 287 },
                    { name: 'Hosakote', type: 'General', taluks: ['Hosakote'], villages: 174, booths: 312 },
                    { name: 'Nelamangala', type: 'General', taluks: ['Nelamangala'], villages: 134, booths: 267 }
                ],
                description: 'Satellite towns around Bengaluru. Home to Kempegowda International Airport.'
            },
            'ramanagara': {
                name: 'Ramanagara',
                region: 'Bengaluru Division',
                area: '3,576 sq km',
                population: '10.8 lakh',
                taluks: [
                    { name: 'Channapatna', hoblis: ['Channapatna'], gramPanchayats: ['Channapatna', 'Sathanur'], constituencies: ['Channapatna'] },
                    { name: 'Kanakapura', hoblis: ['Kanakapura'], gramPanchayats: ['Kanakapura', 'Harohalli'], constituencies: ['Kanakapura'] },
                    { name: 'Magadi', hoblis: ['Magadi'], gramPanchayats: ['Magadi', 'Savandurga'], constituencies: ['Magadi'] },
                    { name: 'Ramanagara', hoblis: ['Ramanagara'], gramPanchayats: ['Ramanagara', 'Bidadi'], constituencies: ['Ramanagara'] }
                ],
                constituencies: [
                    { name: 'Channapatna', type: 'General', taluks: ['Channapatna'], villages: 156, booths: 278 },
                    { name: 'Kanakapura', type: 'General', taluks: ['Kanakapura'], villages: 189, booths: 312 },
                    { name: 'Magadi', type: 'General', taluks: ['Magadi'], villages: 134, booths: 267 },
                    { name: 'Ramanagara', type: 'General', taluks: ['Ramanagara'], villages: 145, booths: 256 }
                ],
                description: 'Silk cocoon market. Film city (Sholay location). Sericulture center.'
            },
            'chikkaballapura': {
                name: 'Chikkaballapura',
                region: 'Bengaluru Division',
                area: '4,244 sq km',
                population: '12.5 lakh',
                taluks: [
                    { name: 'Bagepalli', hoblis: ['Bagepalli'], gramPanchayats: ['Bagepalli'], constituencies: ['Bagepalli'] },
                    { name: 'Chikkaballapur', hoblis: ['Chikkaballapur'], gramPanchayats: ['Chikkaballapur'], constituencies: ['Chikkaballapura'] },
                    { name: 'Chintamani', hoblis: ['Chintamani'], gramPanchayats: ['Chintamani'], constituencies: ['Chintamani'] },
                    { name: 'Gauribidanur', hoblis: ['Gauribidanur'], gramPanchayats: ['Gauribidanur'], constituencies: ['Gauribidanur'] },
                    { name: 'Gudibanda', hoblis: ['Gudibanda'], gramPanchayats: ['Gudibanda'], constituencies: ['Gudibanda'] },
                    { name: 'Sidlaghatta', hoblis: ['Sidlaghatta'], gramPanchayats: ['Sidlaghatta'], constituencies: ['Sidlaghatta'] }
                ],
                constituencies: [
                    { name: 'Bagepalli', type: 'General', taluks: ['Bagepalli'], villages: 145, booths: 267 },
                    { name: 'Chikkaballapura', type: 'General', taluks: ['Chikkaballapur'], villages: 134, booths: 256 },
                    { name: 'Chintamani', type: 'General', taluks: ['Chintamani'], villages: 178, booths: 298 },
                    { name: 'Gauribidanur', type: 'General', taluks: ['Gauribidanur'], villages: 156, booths: 278 },
                    { name: 'Gudibanda', type: 'General', taluks: ['Gudibanda'], villages: 124, booths: 245 },
                    { name: 'Sidlaghatta', type: 'General', taluks: ['Sidlaghatta'], villages: 167, booths: 289 }
                ],
                description: 'Silk industry. Nandi Hills hill station. Growing residential area near Bengaluru.'
            },
            'kolar': {
                name: 'Kolar',
                region: 'Bengaluru Division',
                area: '8,223 sq km',
                population: '15.4 lakh',
                taluks: [
                    { name: 'Bangarapet', hoblis: ['Bangarapet'], gramPanchayats: ['Bangarapet', 'Kaiwara'], constituencies: ['Bangarapet'] },
                    { name: 'Kolar', hoblis: ['Kolar'], gramPanchayats: ['Kolar', 'Srinivaspur'], constituencies: ['Kolar'] },
                    { name: 'Malur', hoblis: ['Malur'], gramPanchayats: ['Malur'], constituencies: ['Malur'] },
                    { name: 'Mulbagal', hoblis: ['Mulbagal'], gramPanchayats: ['Mulbagal'], constituencies: ['Mulbagal'] },
                    { name: 'Srinivaspur', hoblis: ['Srinivaspur'], gramPanchayats: ['Srinivaspur'], constituencies: ['KGF'] }
                ],
                constituencies: [
                    { name: 'Bangarapet', type: 'General', taluks: ['Bangarapet'], villages: 156, booths: 278 },
                    { name: 'Kolar', type: 'General', taluks: ['Kolar'], villages: 134, booths: 267 },
                    { name: 'Malur', type: 'General', taluks: ['Malur'], villages: 145, booths: 256 },
                    { name: 'Mulbagal', type: 'General', taluks: ['Mulbagal'], villages: 178, booths: 298 },
                    { name: 'KGF', type: 'SC', taluks: ['Srinivaspur'], villages: 98, booths: 234 }
                ],
                description: 'Kolar Gold Fields (KGF). Historic gold mining region. Milk production hub.'
            },
            'chitradurga': {
                name: 'Chitradurga',
                region: 'Bengaluru Division',
                area: '8,440 sq km',
                population: '15.7 lakh',
                taluks: [
                    { name: 'Challakere', hoblis: ['Challakere'], gramPanchayats: ['Challakere'], constituencies: ['Challakere'] },
                    { name: 'Chitradurga', hoblis: ['Chitradurga'], gramPanchayats: ['Chitradurga'], constituencies: ['Chitradurga'] },
                    { name: 'Hiriyur', hoblis: ['Hiriyur'], gramPanchayats: ['Hiriyur'], constituencies: ['Hiriyur'] },
                    { name: 'Holalkere', hoblis: ['Holalkere'], gramPanchayats: ['Holalkere'], constituencies: ['Holalkere'] },
                    { name: 'Hosadurga', hoblis: ['Hosadurga'], gramPanchayats: ['Hosadurga'], constituencies: ['Hiriyur'] },
                    { name: 'Molakalmuru', hoblis: ['Molakalmuru'], gramPanchayats: ['Molakalmuru'], constituencies: ['Chitradurga'] }
                ],
                constituencies: [
                    { name: 'Challakere', type: 'General', taluks: ['Challakere'], villages: 189, booths: 312 },
                    { name: 'Chitradurga', type: 'General', taluks: ['Chitradurga', 'Molakalmuru'], villages: 198, booths: 334 },
                    { name: 'Hiriyur', type: 'General', taluks: ['Hiriyur', 'Hosadurga'], villages: 234, booths: 356 },
                    { name: 'Holalkere', type: 'General', taluks: ['Holalkere'], villages: 167, booths: 289 }
                ],
                description: 'Historic Kallina Kote (stone fort). Arid region with groundnut cultivation.'
            },
            'davanagere': {
                name: 'Davanagere',
                region: 'Bengaluru Division',
                area: '5,926 sq km',
                population: '19.4 lakh',
                taluks: [
                    { name: 'Channagiri', hoblis: ['Channagiri'], gramPanchayats: ['Channagiri'], constituencies: ['Channagiri'] },
                    { name: 'Davanagere', hoblis: ['Davanagere'], gramPanchayats: [], constituencies: ['Davanagere North', 'Davanagere South'] },
                    { name: 'Harihara', hoblis: ['Harihara'], gramPanchayats: ['Harihara'], constituencies: ['Harihar'] },
                    { name: 'Harapanahalli', hoblis: ['Harapanahalli'], gramPanchayats: ['Harapanahalli'], constituencies: ['Harapanahalli'] },
                    { name: 'Honnali', hoblis: ['Honnali'], gramPanchayats: ['Honnali'], constituencies: ['Honnali'] },
                    { name: 'Jagalur', hoblis: ['Jagalur'], gramPanchayats: ['Jagalur'], constituencies: ['Jagalur'] }
                ],
                constituencies: [
                    { name: 'Channagiri', type: 'General', taluks: ['Channagiri'], villages: 167, booths: 289 },
                    { name: 'Davanagere North', type: 'General', taluks: ['Davanagere'], villages: 23, booths: 267 },
                    { name: 'Davanagere South', type: 'General', taluks: ['Davanagere'], villages: 18, booths: 256 },
                    { name: 'Harihar', type: 'General', taluks: ['Harihara'], villages: 145, booths: 278 },
                    { name: 'Harapanahalli', type: 'General', taluks: ['Harapanahalli'], villages: 178, booths: 298 },
                    { name: 'Honnali', type: 'General', taluks: ['Honnali'], villages: 134, booths: 267 },
                    { name: 'Jagalur', type: 'ST', taluks: ['Jagalur'], villages: 189, booths: 312 }
                ],
                description: 'Cotton city. Textile and industrial hub.'
            },
            'shivamogga': {
                name: 'Shivamogga (Shimoga)',
                region: 'Bengaluru Division',
                area: '8,477 sq km',
                population: '17.5 lakh',
                taluks: [
                    { name: 'Bhadravathi', hoblis: ['Bhadravathi'], gramPanchayats: ['Bhadravathi'], constituencies: ['Bhadravathi'] },
                    { name: 'Hosanagar', hoblis: ['Hosanagar'], gramPanchayats: ['Hosanagar'], constituencies: ['Hosanagar'] },
                    { name: 'Sagar', hoblis: ['Sagar'], gramPanchayats: ['Sagar'], constituencies: ['Sagar'] },
                    { name: 'Shikaripura', hoblis: ['Shikaripura'], gramPanchayats: ['Shikaripura'], constituencies: ['Shikaripura'] },
                    { name: 'Shivamogga', hoblis: ['Shivamogga'], gramPanchayats: ['Shivamogga'], constituencies: ['Shivamogga'] },
                    { name: 'Sorab', hoblis: ['Sorab'], gramPanchayats: ['Sorab'], constituencies: ['Sorab'] },
                    { name: 'Thirthahalli', hoblis: ['Thirthahalli'], gramPanchayats: ['Thirthahalli'], constituencies: ['Thirthahalli'] }
                ],
                constituencies: [
                    { name: 'Bhadravathi', type: 'General', taluks: ['Bhadravathi'], villages: 134, booths: 267 },
                    { name: 'Hosanagar', type: 'General', taluks: ['Hosanagar'], villages: 189, booths: 312 },
                    { name: 'Sagar', type: 'General', taluks: ['Sagar'], villages: 178, booths: 298 },
                    { name: 'Shikaripura', type: 'General', taluks: ['Shikaripura'], villages: 156, booths: 278 },
                    { name: 'Shivamogga', type: 'General', taluks: ['Shivamogga'], villages: 98, booths: 256 },
                    { name: 'Sorab', type: 'General', taluks: ['Sorab'], villages: 167, booths: 289 },
                    { name: 'Thirthahalli', type: 'General', taluks: ['Thirthahalli'], villages: 198, booths: 334 }
                ],
                description: 'Gateway to Malnad. Jog Falls. Areca nut cultivation center.'
            },
            'tumakuru': {
                name: 'Tumakuru (Tumkur)',
                region: 'Bengaluru Division',
                area: '10,598 sq km',
                population: '26.9 lakh',
                taluks: [
                    { name: 'Chiknayakanhalli', hoblis: ['Chiknayakanhalli', 'Huliyar'], gramPanchayats: ['Chiknayakanhalli', 'Huliyar', 'Aralaguppe', 'Bettadapura', 'Gopalapura'], constituencies: ['Chiknayakanhalli'] },
                    { name: 'Gubbi', hoblis: ['Gubbi', 'Yediyur'], gramPanchayats: ['Gubbi', 'Yediyur', 'Honnapura', 'Rangapura', 'Thippenahalli'], constituencies: ['Gubbi'] },
                    { name: 'Koratagere', hoblis: ['Koratagere', 'Bankapura'], gramPanchayats: ['Koratagere', 'Bankapura', 'Thondebhavi', 'Chikkanayakanahalli', 'Honnavalli'], constituencies: ['Koratagere'] },
                    { name: 'Kunigal', hoblis: ['Kunigal', 'Nittur'], gramPanchayats: ['Kunigal', 'Nittur', 'Hebbur', 'Huliyurdurga', 'Yedehalli'], constituencies: ['Kunigal'] },
                    { name: 'Madhugiri', hoblis: ['Madhugiri', 'Huyilalu'], gramPanchayats: ['Madhugiri', 'Huyilalu', 'Binnamangala', 'Honnenahalli', 'Mallasandra'], constituencies: ['Madhugiri'] },
                    { name: 'Pavagada', hoblis: ['Pavagada', 'Sira'], gramPanchayats: ['Pavagada', 'Iddalagi', 'Kamasamudram', 'Nandihalli', 'Thondebhavi'], constituencies: ['Pavagada'] },
                    { name: 'Sira', hoblis: ['Sira', 'Marikanive'], gramPanchayats: ['Sira', 'Marikanive', 'Doddakoppalu', 'Heggaddevana Kote', 'Nagarasanahalli'], constituencies: ['Sira'] },
                    { name: 'Tiptur', hoblis: ['Tiptur', 'Arasikere'], gramPanchayats: ['Tiptur', 'Arasikere', 'Kaidala', 'Kyathasandra', 'Thippenahalli'], constituencies: ['Tiptur'] },
                    { name: 'Tumakuru', hoblis: ['Tumakuru', 'Kasaba'], gramPanchayats: ['Vasanthanarasapura', 'Kodigenahalli', 'Honnenahalli', 'Kyathasandra'], constituencies: ['Tumakuru City', 'Tumakuru Rural'] },
                    { name: 'Turuvekere', hoblis: ['Turuvekere', 'Kunigal'], gramPanchayats: ['Turuvekere', 'Beekanahalli', 'Gulur', 'Kallambella', 'Thyamagondlu'], constituencies: ['Turuvekere'] }
                ],
                constituencies: [
                    { name: 'Chiknayakanhalli', type: 'General', taluks: ['Chiknayakanhalli'], villages: 178, booths: 298 },
                    { name: 'Gubbi', type: 'General', taluks: ['Gubbi'], villages: 156, booths: 278 },
                    { name: 'Koratagere', type: 'SC', taluks: ['Koratagere'], villages: 145, booths: 267 },
                    { name: 'Kunigal', type: 'General', taluks: ['Kunigal'], villages: 167, booths: 289 },
                    { name: 'Madhugiri', type: 'General', taluks: ['Madhugiri'], villages: 189, booths: 312 },
                    { name: 'Pavagada', type: 'SC', taluks: ['Pavagada'], villages: 198, booths: 334 },
                    { name: 'Sira', type: 'General', taluks: ['Sira'], villages: 176, booths: 289 },
                    { name: 'Tiptur', type: 'General', taluks: ['Tiptur'], villages: 165, booths: 278 },
                    { name: 'Tumakuru City', type: 'General', taluks: ['Tumakuru'], villages: 12, booths: 256 },
                    { name: 'Tumakuru Rural', type: 'General', taluks: ['Tumakuru'], villages: 134, booths: 267 },
                    { name: 'Turuvekere', type: 'General', taluks: ['Turuvekere'], villages: 145, booths: 256 }
                ],
                description: 'Coconut city. Educational hub. Proximity to Bengaluru drives growth.'
            },
            'chikkamagaluru': {
                name: 'Chikkamagaluru',
                region: 'Bengaluru Division',
                area: '7,201 sq km',
                population: '11.8 lakh',
                taluks: [
                    { name: 'Ajjampura', hoblis: ['Ajjampura'], gramPanchayats: ['Ajjampura'], constituencies: ['Ajjampura'] },
                    { name: 'Chikkamagaluru', hoblis: ['Chikkamagaluru'], gramPanchayats: ['Chikkamagaluru'], constituencies: ['Chikkamagaluru'] },
                    { name: 'Kadur', hoblis: ['Kadur'], gramPanchayats: ['Kadur'], constituencies: ['Kadur'] },
                    { name: 'Koppa', hoblis: ['Koppa'], gramPanchayats: ['Koppa'], constituencies: ['Koppa'] },
                    { name: 'Mudigere', hoblis: ['Mudigere'], gramPanchayats: ['Mudigere'], constituencies: ['Mudigere'] },
                    { name: 'Narasimharajapura', hoblis: ['Narasimharajapura'], gramPanchayats: ['Narasimharajapura'], constituencies: ['Narasimharajapura'] },
                    { name: 'Tarikere', hoblis: ['Tarikere'], gramPanchayats: ['Tarikere'], constituencies: ['Tarikere'] }
                ],
                constituencies: [
                    { name: 'Ajjampura', type: 'General', taluks: ['Ajjampura'], villages: 156, booths: 278 },
                    { name: 'Chikkamagaluru', type: 'General', taluks: ['Chikkamagaluru'], villages: 134, booths: 267 },
                    { name: 'Kadur', type: 'General', taluks: ['Kadur'], villages: 167, booths: 289 },
                    { name: 'Koppa', type: 'General', taluks: ['Koppa'], villages: 189, booths: 312 },
                    { name: 'Mudigere', type: 'General', taluks: ['Mudigere'], villages: 198, booths: 334 },
                    { name: 'Narasimharajapura', type: 'General', taluks: ['Narasimharajapura'], villages: 178, booths: 298 },
                    { name: 'Tarikere', type: 'General', taluks: ['Tarikere'], villages: 145, booths: 267 }
                ],
                description: 'Coffee land of Karnataka. Hill station. Birthplace of Indian coffee.'
            },

            // KALABURAGI DIVISION (7 districts)
            'ballari': {
                name: 'Ballari (Bellary)',
                region: 'Kalaburagi Division',
                area: '8,447 sq km',
                population: '24.5 lakh',
                taluks: [
                    { name: 'Bellary', hoblis: ['Bellary'], gramPanchayats: ['Bellary'], constituencies: ['Bellary City'] },
                    { name: 'Hadagali', hoblis: ['Hadagali'], gramPanchayats: ['Hadagali'], constituencies: ['Hadagali'] },
                    { name: 'Hagaribommanahalli', hoblis: ['Hagaribommanahalli'], gramPanchayats: ['Hagaribommanahalli'], constituencies: ['Hagaribommanahalli'] },
                    { name: 'Hospet', hoblis: ['Hospet'], gramPanchayats: ['Hospet'], constituencies: ['Hospet'] },
                    { name: 'Kampli', hoblis: ['Kampli'], gramPanchayats: ['Kampli'], constituencies: ['Kampli'] },
                    { name: 'Kudligi', hoblis: ['Kudligi'], gramPanchayats: ['Kudligi'], constituencies: ['Kudligi'] },
                    { name: 'Sandur', hoblis: ['Sandur'], gramPanchayats: ['Sandur'], constituencies: ['Sandur'] }
                ],
                constituencies: [
                    { name: 'Bellary City', type: 'General', taluks: ['Bellary'], villages: 23, booths: 287 },
                    { name: 'Hadagali', type: 'General', taluks: ['Hadagali'], villages: 156, booths: 276 },
                    { name: 'Hagaribommanahalli', type: 'General', taluks: ['Hagaribommanahalli'], villages: 178, booths: 298 },
                    { name: 'Hospet', type: 'General', taluks: ['Hospet'], villages: 134, booths: 267 },
                    { name: 'Kampli', type: 'ST', taluks: ['Kampli'], villages: 189, booths: 312 },
                    { name: 'Kudligi', type: 'General', taluks: ['Kudligi'], villages: 167, booths: 289 },
                    { name: 'Sandur', type: 'ST', taluks: ['Sandur'], villages: 145, booths: 256 }
                ],
                description: 'Rich in iron ore. Industrial hub near UNESCO World Heritage Site Hampi.'
            },
            'bidar': {
                name: 'Bidar',
                region: 'Kalaburagi Division',
                area: '5,448 sq km',
                population: '17.0 lakh',
                taluks: [
                    { name: 'Aurad', hoblis: ['Aurad'], gramPanchayats: ['Aurad'], constituencies: ['Aurad'] },
                    { name: 'Basavakalyan', hoblis: ['Basavakalyan'], gramPanchayats: ['Basavakalyan'], constituencies: ['Basavakalyan'] },
                    { name: 'Bhalki', hoblis: ['Bhalki'], gramPanchayats: ['Bhalki'], constituencies: ['Bhalki'] },
                    { name: 'Bidar', hoblis: ['Bidar'], gramPanchayats: [], constituencies: ['Bidar'] },
                    { name: 'Humnabad', hoblis: ['Humnabad'], gramPanchayats: ['Humnabad'], constituencies: ['Humnabad'] }
                ],
                constituencies: [
                    { name: 'Aurad', type: 'General', taluks: ['Aurad'], villages: 142, booths: 267 },
                    { name: 'Basavakalyan', type: 'General', taluks: ['Basavakalyan'], villages: 156, booths: 276 },
                    { name: 'Bhalki', type: 'General', taluks: ['Bhalki'], villages: 134, booths: 256 },
                    { name: 'Bidar', type: 'General', taluks: ['Bidar'], villages: 89, booths: 289 },
                    { name: 'Humnabad', type: 'General', taluks: ['Humnabad'], villages: 167, booths: 298 }
                ],
                description: 'Historic fort city. Border with Telangana and Maharashtra. Bidriware craft.'
            },
            'kalaburagi': {
                name: 'Kalaburagi (Gulbarga)',
                region: 'Kalaburagi Division',
                area: '10,951 sq km',
                population: '25.6 lakh',
                taluks: [
                    { name: 'Afzalpur', hoblis: ['Afzalpur'], gramPanchayats: ['Afzalpur'], constituencies: ['Afzalpur'] },
                    { name: 'Aland', hoblis: ['Aland'], gramPanchayats: ['Aland'], constituencies: ['Aland'] },
                    { name: 'Chincholi', hoblis: ['Chincholi'], gramPanchayats: ['Chincholi'], constituencies: ['Chincholi'] },
                    { name: 'Chittapur', hoblis: ['Chittapur'], gramPanchayats: ['Chittapur'], constituencies: ['Chittapur'] },
                    { name: 'Gulbarga', hoblis: ['Gulbarga'], gramPanchayats: [], constituencies: ['Gulbarga Rural', 'Gulbarga Uttar', 'Gulbarga Dakshin'] },
                    { name: 'Jevargi', hoblis: ['Jevargi'], gramPanchayats: ['Jevargi'], constituencies: ['Jevargi'] },
                    { name: 'Sedam', hoblis: ['Sedam'], gramPanchayats: ['Sedam'], constituencies: ['Sedam'] }
                ],
                constituencies: [
                    { name: 'Sedam', type: 'General', taluks: ['Sedam'], villages: 198, booths: 312 },
                    { name: 'Chincholi', type: 'SC', taluks: ['Chincholi'], villages: 145, booths: 276 },
                    { name: 'Gulbarga Rural', type: 'SC', taluks: ['Gulbarga'], villages: 178, booths: 298 },
                    { name: 'Gulbarga Uttar', type: 'General', taluks: ['Gulbarga'], villages: 12, booths: 267 },
                    { name: 'Gulbarga Dakshin', type: 'General', taluks: ['Gulbarga'], villages: 8, booths: 245 },
                    { name: 'Chittapur', type: 'SC', taluks: ['Chittapur'], villages: 167, booths: 289 },
                    { name: 'Aland', type: 'General', taluks: ['Aland'], villages: 134, booths: 267 },
                    { name: 'Jevargi', type: 'General', taluks: ['Jevargi'], villages: 156, booths: 287 },
                    { name: 'Afzalpur', type: 'General', taluks: ['Afzalpur'], villages: 189, booths: 312 }
                ],
                description: 'Divisional headquarters. AIIMS and major universities. Educational hub.'
            },
            'koppal': {
                name: 'Koppal',
                region: 'Kalaburagi Division',
                area: '7,190 sq km',
                population: '13.9 lakh',
                taluks: [
                    { name: 'Koppal', hoblis: ['Koppal'], gramPanchayats: ['Koppal'], constituencies: ['Koppal'] },
                    { name: 'Kushtagi', hoblis: ['Kushtagi'], gramPanchayats: ['Kushtagi'], constituencies: ['Kushtagi'] },
                    { name: 'Gangavathi', hoblis: ['Gangavathi'], gramPanchayats: ['Gangavathi'], constituencies: ['Gangavathi'] },
                    { name: 'Yelburga', hoblis: ['Yelburga'], gramPanchayats: ['Yelburga'], constituencies: ['Yelburga', 'Kanakagiri'] }
                ],
                constituencies: [
                    { name: 'Koppal', type: 'General', taluks: ['Koppal'], villages: 145, booths: 267 },
                    { name: 'Gangavathi', type: 'General', taluks: ['Gangavathi'], villages: 178, booths: 298 },
                    { name: 'Kanakagiri', type: 'General', taluks: ['Yelburga'], villages: 134, booths: 256 },
                    { name: 'Kushtagi', type: 'General', taluks: ['Kushtagi'], villages: 167, booths: 289 },
                    { name: 'Yelburga', type: 'General', taluks: ['Yelburga'], villages: 156, booths: 278 }
                ],
                description: 'Ancient Jain and Buddhist heritage. Agricultural district.'
            },
            'raichur': {
                name: 'Raichur',
                region: 'Kalaburagi Division',
                area: '8,389 sq km',
                population: '19.3 lakh',
                taluks: [
                    { name: 'Devadurga', hoblis: ['Devadurga'], gramPanchayats: ['Devadurga'], constituencies: ['Devadurga'] },
                    { name: 'Lingsugur', hoblis: ['Lingsugur'], gramPanchayats: ['Lingsugur'], constituencies: ['Lingsugur'] },
                    { name: 'Manvi', hoblis: ['Manvi'], gramPanchayats: ['Manvi'], constituencies: ['Manvi'] },
                    { name: 'Raichur', hoblis: ['Raichur'], gramPanchayats: [], constituencies: ['Raichur', 'Raichur Rural'] },
                    { name: 'Sindhanur', hoblis: ['Sindhanur'], gramPanchayats: ['Sindhanur'], constituencies: ['Sindhanur', 'Maski'] }
                ],
                constituencies: [
                    { name: 'Devadurga', type: 'ST', taluks: ['Devadurga'], villages: 189, booths: 312 },
                    { name: 'Lingsugur', type: 'SC', taluks: ['Lingsugur'], villages: 167, booths: 289 },
                    { name: 'Manvi', type: 'ST', taluks: ['Manvi'], villages: 178, booths: 298 },
                    { name: 'Maski', type: 'ST', taluks: ['Sindhanur'], villages: 145, booths: 267 },
                    { name: 'Raichur', type: 'General', taluks: ['Raichur'], villages: 34, booths: 276 },
                    { name: 'Raichur Rural', type: 'ST', taluks: ['Raichur'], villages: 156, booths: 287 },
                    { name: 'Sindhanur', type: 'General', taluks: ['Sindhanur'], villages: 134, booths: 256 }
                ],
                description: 'Major agricultural and industrial center. Thermal power plants.'
            },
            'yadgir': {
                name: 'Yadgir',
                region: 'Kalaburagi Division',
                area: '5,160 sq km',
                population: '11.7 lakh',
                taluks: [
                    { name: 'Shahapur', hoblis: ['Shahapur'], gramPanchayats: ['Shahapur'], constituencies: ['Shahapur'] },
                    { name: 'Shorapur', hoblis: ['Shorapur'], gramPanchayats: ['Shorapur'], constituencies: ['Shorapur'] },
                    { name: 'Yadgir', hoblis: ['Yadgir'], gramPanchayats: ['Yadgir'], constituencies: ['Gurmitkal'] }
                ],
                constituencies: [
                    { name: 'Gurmitkal', type: 'General', taluks: ['Yadgir'], villages: 156, booths: 278 },
                    { name: 'Shahapur', type: 'General', taluks: ['Shahapur'], villages: 178, booths: 298 },
                    { name: 'Shorapur', type: 'ST', taluks: ['Shorapur'], villages: 189, booths: 312 }
                ],
                description: 'Newest district (2010) carved from Kalaburagi. Predominantly agricultural.'
            },
            'vijayanagara': {
                name: 'Vijayanagara',
                region: 'Kalaburagi Division',
                area: '6,694 sq km',
                population: '13.2 lakh',
                taluks: [
                    { name: 'Hosapete', hoblis: ['Hosapete'], gramPanchayats: ['Hosapete', 'Kampli'], constituencies: ['Hospet'] },
                    { name: 'Hoovina Hadagali', hoblis: ['Hoovina Hadagali'], gramPanchayats: ['Hoovina Hadagali'], constituencies: ['Hadagali'] },
                    { name: 'Hagaribommanahalli', hoblis: ['Hagaribommanahalli'], gramPanchayats: ['Hagaribommanahalli'], constituencies: ['Hagaribommanahalli'] },
                    { name: 'Kottur', hoblis: ['Kottur'], gramPanchayats: ['Kottur'], constituencies: ['Kampli'] }
                ],
                constituencies: [
                    { name: 'Hospet', type: 'General', taluks: ['Hosapete'], villages: 134, booths: 267 },
                    { name: 'Hagaribommanahalli', type: 'General', taluks: ['Hagaribommanahalli'], villages: 178, booths: 298 },
                    { name: 'Hadagali', type: 'General', taluks: ['Hoovina Hadagali'], villages: 156, booths: 276 },
                    { name: 'Kampli', type: 'ST', taluks: ['Kottur'], villages: 189, booths: 312 }
                ],
                description: '31st district (2020) carved from Ballari. Includes UNESCO Hampi site.'
            },

            // MYSURU DIVISION (8 districts)
            'mysuru': {
                name: 'Mysuru (Mysore)',
                region: 'Mysuru Division',
                area: '6,854 sq km',
                population: '30.7 lakh',
                taluks: [
                    { name: 'Mysuru', hoblis: ['Mysore North', 'Mysore South'], gramPanchayats: [], constituencies: ['Krishnaraja', 'Chamaraja', 'Narasimharaja', 'Chamundeshwari', 'Varuna'] },
                    { name: 'K.R. Nagar', hoblis: ['K.R. Nagar'], gramPanchayats: ['K.R. Nagar'], constituencies: ['Krishnarajanagara'] },
                    { name: 'T. Narasipura', hoblis: ['T. Narasipura'], gramPanchayats: ['T. Narasipura'], constituencies: ['T. Narasipura'] },
                    { name: 'Hunsur', hoblis: ['Hunsur'], gramPanchayats: ['Hunsur'], constituencies: ['Hunsur'] },
                    { name: 'Periyapatna', hoblis: ['Periyapatna'], gramPanchayats: ['Periyapatna'], constituencies: ['Periyapatna'] },
                    { name: 'Nanjangud', hoblis: ['Nanjangud'], gramPanchayats: ['Nanjangud'], constituencies: ['Nanjangud'] },
                    { name: 'H.D. Kote', hoblis: ['H.D. Kote'], gramPanchayats: ['H.D. Kote'], constituencies: ['Heggadadevankote'] }
                ],
                constituencies: [
                    { name: 'Krishnaraja', type: 'General', taluks: ['Mysuru'], villages: 0, booths: 245 },
                    { name: 'Chamaraja', type: 'General', taluks: ['Mysuru'], villages: 0, booths: 234 },
                    { name: 'Narasimharaja', type: 'General', taluks: ['Mysuru'], villages: 4, booths: 267 },
                    { name: 'Chamundeshwari', type: 'General', taluks: ['Mysuru'], villages: 12, booths: 289 },
                    { name: 'Krishnarajanagara', type: 'General', taluks: ['K.R. Nagar'], villages: 142, booths: 298 },
                    { name: 'Hunsur', type: 'General', taluks: ['Hunsur'], villages: 168, booths: 312 },
                    { name: 'Heggadadevankote', type: 'ST', taluks: ['H.D. Kote'], villages: 234, booths: 287 },
                    { name: 'Nanjangud', type: 'SC', taluks: ['Nanjangud'], villages: 156, booths: 276 },
                    { name: 'T. Narasipura', type: 'SC', taluks: ['T. Narasipura'], villages: 178, booths: 298 },
                    { name: 'Varuna', type: 'General', taluks: ['Mysuru'], villages: 45, booths: 234 },
                    { name: 'Periyapatna', type: 'General', taluks: ['Periyapatna'], villages: 124, booths: 256 }
                ],
                description: 'Cultural capital with Mysore Palace and Dasara festival.'
            },
            'chamarajanagara': {
                name: 'Chamarajanagara',
                region: 'Mysuru Division',
                area: '5,685 sq km',
                population: '10.2 lakh',
                taluks: [
                    { name: 'Chamarajanagara', hoblis: ['Chamarajanagara'], gramPanchayats: ['Chamarajanagara'], constituencies: ['Chamarajanagara'] },
                    { name: 'Gundlupet', hoblis: ['Gundlupet'], gramPanchayats: ['Gundlupet'], constituencies: ['Gundlupet'] },
                    { name: 'Kollegal', hoblis: ['Kollegal'], gramPanchayats: ['Kollegal'], constituencies: ['Kollegal'] },
                    { name: 'Yelandur', hoblis: ['Yelandur'], gramPanchayats: ['Yelandur'], constituencies: ['Hanur'] }
                ],
                constituencies: [
                    { name: 'Chamarajanagara', type: 'General', taluks: ['Chamarajanagara'], villages: 156, booths: 278 },
                    { name: 'Gundlupet', type: 'General', taluks: ['Gundlupet'], villages: 178, booths: 298 },
                    { name: 'Kollegal', type: 'General', taluks: ['Kollegal'], villages: 189, booths: 312 },
                    { name: 'Hanur', type: 'ST', taluks: ['Yelandur'], villages: 145, booths: 267 }
                ],
                description: 'Border district with Tamil Nadu. Wildlife sanctuaries and forests.'
            },
            'hassan': {
                name: 'Hassan',
                region: 'Mysuru Division',
                area: '6,814 sq km',
                population: '17.8 lakh',
                taluks: [
                    { name: 'Alur', hoblis: ['Alur'], gramPanchayats: ['Alur'], constituencies: ['Alur'] },
                    { name: 'Arkalgud', hoblis: ['Arkalgud'], gramPanchayats: ['Arkalgud'], constituencies: ['Arkalgud'] },
                    { name: 'Arsikere', hoblis: ['Arsikere'], gramPanchayats: ['Arsikere'], constituencies: ['Arsikere'] },
                    { name: 'Belur', hoblis: ['Belur'], gramPanchayats: ['Belur'], constituencies: ['Belur'] },
                    { name: 'Channarayapatna', hoblis: ['Channarayapatna'], gramPanchayats: ['Channarayapatna'], constituencies: ['Channarayapatna'] },
                    { name: 'Hassan', hoblis: ['Hassan'], gramPanchayats: ['Hassan'], constituencies: ['Hassan'] },
                    { name: 'Holenarasipura', hoblis: ['Holenarasipura'], gramPanchayats: ['Holenarasipura'], constituencies: ['Holenarasipura'] },
                    { name: 'Sakleshpur', hoblis: ['Sakleshpur'], gramPanchayats: ['Sakleshpur'], constituencies: ['Sakleshpur'] }
                ],
                constituencies: [
                    { name: 'Alur', type: 'General', taluks: ['Alur'], villages: 167, booths: 278 },
                    { name: 'Arkalgud', type: 'General', taluks: ['Arkalgud'], villages: 189, booths: 298 },
                    { name: 'Arsikere', type: 'General', taluks: ['Arsikere'], villages: 178, booths: 289 },
                    { name: 'Belur', type: 'General', taluks: ['Belur'], villages: 156, booths: 276 },
                    { name: 'Channarayapatna', type: 'General', taluks: ['Channarayapatna'], villages: 142, booths: 267 },
                    { name: 'Hassan', type: 'General', taluks: ['Hassan'], villages: 98, booths: 256 },
                    { name: 'Holenarasipura', type: 'General', taluks: ['Holenarasipura'], villages: 134, booths: 267 },
                    { name: 'Sakleshpur', type: 'General', taluks: ['Sakleshpur'], villages: 198, booths: 312 }
                ],
                description: 'Temple architecture hub. Famous Hoysala temples at Belur and Halebidu.'
            },
            'kodagu': {
                name: 'Kodagu (Coorg)',
                region: 'Mysuru Division',
                area: '4,102 sq km',
                population: '5.5 lakh',
                taluks: [
                    { name: 'Madikeri', hoblis: ['Madikeri'], gramPanchayats: ['Madikeri', 'Virajpet'], constituencies: ['Virajpet'] },
                    { name: 'Somwarpet', hoblis: ['Somwarpet'], gramPanchayats: ['Somwarpet'], constituencies: ['Virajpet'] },
                    { name: 'Virajpet', hoblis: ['Virajpet'], gramPanchayats: ['Virajpet', 'Gonikoppal'], constituencies: ['Virajpet'] }
                ],
                constituencies: [
                    { name: 'Virajpet', type: 'General', taluks: ['Madikeri', 'Somwarpet', 'Virajpet'], villages: 187, booths: 298 }
                ],
                description: 'Scotland of India. Coffee and spice plantations. Smallest population district.'
            },
            'mandya': {
                name: 'Mandya',
                region: 'Mysuru Division',
                area: '4,961 sq km',
                population: '18.0 lakh',
                taluks: [
                    { name: 'Krishnarajpet', hoblis: ['Krishnarajpet'], gramPanchayats: ['Krishnarajpet'], constituencies: ['Krishnarajpet'] },
                    { name: 'Maddur', hoblis: ['Maddur'], gramPanchayats: ['Maddur'], constituencies: ['Maddur'] },
                    { name: 'Malavalli', hoblis: ['Malavalli'], gramPanchayats: ['Malavalli'], constituencies: ['Malavalli'] },
                    { name: 'Mandya', hoblis: ['Mandya'], gramPanchayats: ['Mandya'], constituencies: ['Mandya'] },
                    { name: 'Nagamangala', hoblis: ['Nagamangala'], gramPanchayats: ['Nagamangala'], constituencies: ['Nagamangala'] },
                    { name: 'Pandavapura', hoblis: ['Pandavapura'], gramPanchayats: ['Pandavapura'], constituencies: ['Melukote'] },
                    { name: 'Shrirangapattana', hoblis: ['Shrirangapattana'], gramPanchayats: ['Srirangapatna'], constituencies: ['Srirangapattana'] }
                ],
                constituencies: [
                    { name: 'Malavalli', type: 'General', taluks: ['Malavalli'], villages: 189, booths: 298 },
                    { name: 'Maddur', type: 'General', taluks: ['Maddur'], villages: 167, booths: 276 },
                    { name: 'Melukote', type: 'General', taluks: ['Pandavapura'], villages: 145, booths: 267 },
                    { name: 'Mandya', type: 'General', taluks: ['Mandya'], villages: 134, booths: 289 },
                    { name: 'Srirangapattana', type: 'General', taluks: ['Shrirangapattana'], villages: 124, booths: 256 },
                    { name: 'Nagamangala', type: 'General', taluks: ['Nagamangala'], villages: 178, booths: 298 },
                    { name: 'Krishnarajpet', type: 'General', taluks: ['Krishnarajpet'], villages: 198, booths: 312 }
                ],
                description: 'Sugar bowl of Karnataka. Cauvery river basin with irrigation.'
            },
            'dakshina-kannada': {
                name: 'Dakshina Kannada',
                region: 'Mysuru Division',
                area: '4,559 sq km',
                population: '20.9 lakh',
                taluks: [
                    { name: 'Bantwal', hoblis: ['Bantwal'], gramPanchayats: ['Bantwal'], constituencies: ['Bantwal'] },
                    { name: 'Belthangady', hoblis: ['Belthangady'], gramPanchayats: ['Belthangady'], constituencies: ['Belthangady'] },
                    { name: 'Mangalore', hoblis: ['Mangalore'], gramPanchayats: [], constituencies: ['Mangalore', 'Mangalore City North', 'Mangalore City South'] },
                    { name: 'Puttur', hoblis: ['Puttur'], gramPanchayats: ['Puttur'], constituencies: ['Puttur'] },
                    { name: 'Sullia', hoblis: ['Sullia'], gramPanchayats: ['Sullia'], constituencies: ['Sullia'] }
                ],
                constituencies: [
                    { name: 'Bantwal', type: 'General', taluks: ['Bantwal'], villages: 134, booths: 267 },
                    { name: 'Belthangady', type: 'General', taluks: ['Belthangady'], villages: 189, booths: 312 },
                    { name: 'Mangalore', type: 'General', taluks: ['Mangalore'], villages: 23, booths: 256 },
                    { name: 'Mangalore City North', type: 'General', taluks: ['Mangalore'], villages: 0, booths: 234 },
                    { name: 'Mangalore City South', type: 'General', taluks: ['Mangalore'], villages: 0, booths: 245 },
                    { name: 'Moodabidri', type: 'General', taluks: ['Bantwal'], villages: 98, booths: 223 },
                    { name: 'Puttur', type: 'General', taluks: ['Puttur'], villages: 156, booths: 278 },
                    { name: 'Sullia', type: 'SC', taluks: ['Sullia'], villages: 178, booths: 298 }
                ],
                description: 'Mangaluru city. Major port. Industrial corridor and banking hub.'
            },
            'udupi': {
                name: 'Udupi',
                region: 'Mysuru Division',
                area: '3,575 sq km',
                population: '11.8 lakh',
                taluks: [
                    { name: 'Udupi', hoblis: ['Udupi'], gramPanchayats: ['Udupi'], constituencies: ['Udupi', 'Kaup'] },
                    { name: 'Kundapura', hoblis: ['Kundapura'], gramPanchayats: ['Kundapura'], constituencies: ['Kundapura', 'Byndoor'] },
                    { name: 'Karkala', hoblis: ['Karkala'], gramPanchayats: ['Karkala'], constituencies: ['Karkala'] }
                ],
                constituencies: [
                    { name: 'Udupi', type: 'General', taluks: ['Udupi'], villages: 98, booths: 234 },
                    { name: 'Kaup', type: 'General', taluks: ['Udupi'], villages: 87, booths: 223 },
                    { name: 'Kundapura', type: 'General', taluks: ['Kundapura'], villages: 134, booths: 267 },
                    { name: 'Karkala', type: 'General', taluks: ['Karkala'], villages: 156, booths: 278 },
                    { name: 'Byndoor', type: 'General', taluks: ['Kundapura'], villages: 112, booths: 245 }
                ],
                description: 'Temple town. Educational hub (Manipal). Coastal tourism and fishing.'
            }
        };

        let activeNode = null;
        let selectedData = null;
        let breadcrumbPath = [];
        
        function buildTree() {
            const tree = document.getElementById('districtTree');
            tree.innerHTML = '';
            
            const sortedDistricts = Object.entries(ALL_31_DISTRICTS).sort((a, b) => 
                a[1].name.localeCompare(b[1].name)
            );
            
            sortedDistricts.forEach(([key, district]) => {
                const districtItem = createTreeNode({
                    id: `district-${key}`,
                    label: district.name,
                    icon: '🏛️',
                    badge: `${district.taluks.length}T | ${district.constituencies.length}C`,
                    level: 0,
                    data: { type: 'district', key, ...district }
                });
                
                tree.appendChild(districtItem);
            });
        }
        
        function createTreeNode({ id, label, icon, badge, level, data, hasChildren = true }) {
            const li = document.createElement('li');
            li.className = 'tree-item';
            li.setAttribute('data-level', level);
            li.setAttribute('data-id', id);
            
            const node = document.createElement('div');
            node.className = 'tree-node';
            
            if (hasChildren) {
                const toggle = document.createElement('span');
                toggle.className = 'tree-toggle';
                toggle.innerHTML = '▶';
                toggle.addEventListener('click', (e) => {
                    e.stopPropagation();
                    toggleNode(li);
                });
                node.appendChild(toggle);
            } else {
                const spacer = document.createElement('span');
                spacer.style.width = '18px';
                spacer.style.marginRight = '10px';
                node.appendChild(spacer);
            }
            
            const iconSpan = document.createElement('span');
            iconSpan.className = 'tree-icon';
            iconSpan.textContent = icon;
            node.appendChild(iconSpan);
            
            const labelSpan = document.createElement('span');
            labelSpan.className = 'tree-label';
            labelSpan.textContent = label;
            node.appendChild(labelSpan);
            
            if (badge) {
                const badgeSpan = document.createElement('span');
                badgeSpan.className = 'tree-badge';
                badgeSpan.textContent = badge;
                node.appendChild(badgeSpan);
            }
            
            node.addEventListener('click', () => selectNode(node, data));
            
            li.appendChild(node);
            
            if (hasChildren) {
                const children = document.createElement('ul');
                children.className = 'tree-children';
                li.appendChild(children);
            }
            
            return li;
        }
        
        function toggleNode(li) {
            const toggle = li.querySelector('.tree-toggle');
            const children = li.querySelector('.tree-children');
            const node = li.querySelector('.tree-node');
            const data = node.__data;
            
            if (children.classList.contains('expanded')) {
                children.classList.remove('expanded');
                toggle.classList.remove('expanded');
                children.innerHTML = '';
            } else {
                children.classList.add('expanded');
                toggle.classList.add('expanded');
                loadChildren(li, data);
            }
        }
        
        function loadChildren(parentLi, parentData) {
            const children = parentLi.querySelector('.tree-children');
            const level = parseInt(parentLi.getAttribute('data-level')) + 1;
            
            if (parentData.type === 'district') {
                const taluksCategory = createTreeNode({
                    id: `taluks-${parentData.key}`,
                    label: 'Taluks',
                    icon: '📍',
                    badge: parentData.taluks.length,
                    level,
                    data: { type: 'taluk-category', parent: parentData }
                });
                children.appendChild(taluksCategory);
                
                const constituenciesCategory = createTreeNode({
                    id: `constituencies-${parentData.key}`,
                    label: 'Constituencies',
                    icon: '🗳️',
                    badge: parentData.constituencies.length,
                    level,
                    data: { type: 'constituency-category', parent: parentData }
                });
                children.appendChild(constituenciesCategory);
            } else if (parentData.type === 'taluk-category') {
                parentData.parent.taluks.forEach((taluk, idx) => {
                    const talukNode = createTreeNode({
                        id: `taluk-${parentData.parent.key}-${idx}`,
                        label: taluk.name,
                        icon: '📍',
                        badge: `${taluk.hoblis.length}H | ${taluk.gramPanchayats.length}GP`,
                        level,
                        data: { type: 'taluk', parent: parentData.parent, ...taluk }
                    });
                    children.appendChild(talukNode);
                });
            } else if (parentData.type === 'constituency-category') {
                parentData.parent.constituencies.forEach((constituency, idx) => {
                    const constituencyNode = createTreeNode({
                        id: `constituency-${parentData.parent.key}-${idx}`,
                        label: constituency.name,
                        icon: '🗳️',
                        badge: `${constituency.villages}V | ${constituency.booths}B`,
                        level,
                        data: { type: 'constituency', parent: parentData.parent, ...constituency }
                    });
                    children.appendChild(constituencyNode);
                });
            } else if (parentData.type === 'taluk') {
                parentData.hoblis.forEach((hobli, idx) => {
                    const hobliNode = createTreeNode({
                        id: `hobli-${idx}`,
                        label: hobli,
                        icon: '🏘️',
                        badge: null,
                        level,
                        hasChildren: false,
                        data: { type: 'hobli', name: hobli, parent: parentData }
                    });
                    children.appendChild(hobliNode);
                });
                
                if (parentData.gramPanchayats.length > 0) {
                    const gpCategory = createTreeNode({
                        id: `gp-category-${parentData.name}`,
                        label: 'Gram Panchayats',
                        icon: '🏛️',
                        badge: parentData.gramPanchayats.length,
                        level,
                        data: { type: 'gp-category', parent: parentData }
                    });
                    children.appendChild(gpCategory);
                }
            } else if (parentData.type === 'gp-category') {
                parentData.parent.gramPanchayats.forEach((gp, idx) => {
                    const gpNode = createTreeNode({
                        id: `gp-${idx}`,
                        label: gp,
                        icon: '🏛️',
                        badge: null,
                        level,
                        hasChildren: false,
                        data: { type: 'gram-panchayat', name: gp, parent: parentData.parent }
                    });
                    children.appendChild(gpNode);
                });
            }
        }
        
        function selectNode(node, data) {
            if (activeNode) {
                activeNode.classList.remove('active');
            }
            activeNode = node;
            node.classList.add('active');
            node.__data = data;
            selectedData = data;
            
            buildBreadcrumb(data);
            displayContent(data);
        }
        
        function buildBreadcrumb(data) {
            breadcrumbPath = ['Karnataka'];
            
            if (data.type === 'district') {
                breadcrumbPath.push(data.name);
            } else if (data.type === 'taluk-category') {
                breadcrumbPath.push(data.parent.name, 'All Taluks');
            } else if (data.type === 'constituency-category') {
                breadcrumbPath.push(data.parent.name, 'All Constituencies');
            } else if (data.type === 'taluk') {
                breadcrumbPath.push(data.parent.name, 'Taluks', data.name);
            } else if (data.type === 'constituency') {
                breadcrumbPath.push(data.parent.name, 'Constituencies', data.name);
            } else if (data.type === 'hobli') {
                breadcrumbPath.push(data.parent.parent.name, 'Taluks', data.parent.name, 'Hoblis', data.name);
            } else if (data.type === 'gp-category') {
                breadcrumbPath.push(data.parent.parent.name, 'Taluks', data.parent.name, 'All Gram Panchayats');
            } else if (data.type === 'gram-panchayat') {
                breadcrumbPath.push(data.parent.parent.name, 'Taluks', data.parent.name, 'Gram Panchayats', data.name);
            }
        }
        
        function renderBreadcrumb() {
            return breadcrumbPath.map((item, idx) => {
                const isLast = idx === breadcrumbPath.length - 1;
                return `
                    <span class="breadcrumb-item ${isLast ? 'current' : ''}">${item}</span>
                    ${!isLast ? '<span class="breadcrumb-separator">›</span>' : ''}
                `;
            }).join('');
        }
        
        function displayContent(data) {
            if (data.type === 'district') {
                displayDistrictContent(data);
            } else if (data.type === 'taluk-category') {
                displayTalukCategoryContent(data);
            } else if (data.type === 'constituency-category') {
                displayConstituencyCategoryContent(data);
            } else if (data.type === 'taluk') {
                displayTalukContent(data);
            } else if (data.type === 'constituency') {
                displayConstituencyContent(data);
            } else if (data.type === 'hobli') {
                displayHobliContent(data);
            } else if (data.type === 'gp-category') {
                displayGPCategoryContent(data);
            } else if (data.type === 'gram-panchayat') {
                displayGramPanchayatContent(data);
            } else {
                const mainContent = document.getElementById('mainContent');
                mainContent.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">📂</div>
                        <div class="empty-state-title">Expand to View Details</div>
                        <div class="empty-state-desc">Click the arrow to expand this category</div>
                    </div>
                `;
            }
        }
        
        function displayDistrictContent(data) {
            const mainContent = document.getElementById('mainContent');
            
            const talukCount = data.taluks.length;
            const constituencyCount = data.constituencies.length;
            const hobliCount = data.taluks.reduce((sum, t) => sum + t.hoblis.length, 0);
            const gpCount = data.taluks.reduce((sum, t) => sum + t.gramPanchayats.length, 0);
            const villageCount = data.constituencies.reduce((sum, c) => sum + c.villages, 0);
            const boothCount = data.constituencies.reduce((sum, c) => sum + c.booths, 0);
            
            mainContent.innerHTML = `
                <div class="breadcrumb">${renderBreadcrumb()}</div>
                
                <div class="content-header">
                    <div class="content-title">🏛️ ${data.name}</div>
                    <div class="content-subtitle">
                        ${data.region} | Area: ${data.area} | Population: ${data.population}<br>
                        ${data.description}
                    </div>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-card-label">Taluks</div>
                        <div class="stat-card-value">${talukCount}</div>
                        <div class="stat-card-desc">Administrative units</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">Constituencies</div>
                        <div class="stat-card-value">${constituencyCount}</div>
                        <div class="stat-card-desc">Electoral segments</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">Hoblis</div>
                        <div class="stat-card-value">${hobliCount}</div>
                        <div class="stat-card-desc">Revenue circles</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">Gram Panchayats</div>
                        <div class="stat-card-value">${gpCount}</div>
                        <div class="stat-card-desc">Village councils</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">Villages</div>
                        <div class="stat-card-value">${villageCount}</div>
                        <div class="stat-card-desc">Rural settlements</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">Polling Booths</div>
                        <div class="stat-card-value">${boothCount}</div>
                        <div class="stat-card-desc">Voting locations</div>
                    </div>
                </div>
                
                <div class="info-box">
                    <div class="info-box-title">💡 ${data.name} District Structure</div>
                    <div class="info-box-text">
                        <strong>Administrative:</strong> ${talukCount} Taluks → ${hobliCount} Hoblis → ${gpCount} Gram Panchayats → Villages<br>
                        <strong>Electoral:</strong> ${constituencyCount} Constituencies → ${boothCount} Polling Booths<br><br>
                        ${data.description}
                    </div>
                </div>
                
                <div class="data-section">
                    <div class="section-title">📍 All ${talukCount} Taluks</div>
                    <div class="data-list">
                        ${data.taluks.map(taluk => `
                            <div class="data-item">
                                <div>
                                    <div class="data-item-main">${taluk.name}</div>
                                    <div class="data-item-detail">
                                        ${taluk.hoblis.length} Hoblis • ${taluk.gramPanchayats.length} GPs
                                    </div>
                                </div>
                                <div class="data-item-badge">${taluk.hoblis.length}H • ${taluk.gramPanchayats.length}GP</div>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <div class="data-section">
                    <div class="section-title">🗳️ All ${constituencyCount} Constituencies</div>
                    <div class="data-list">
                        ${data.constituencies.map(c => {
                            const typeClass = c.type === 'SC' ? 'tag-sc' : c.type === 'ST' ? 'tag-st' : '';
                            return `
                            <div class="data-item">
                                <div style="flex: 1;">
                                    <div class="data-item-main">
                                        ${c.name}
                                        <span class="tag ${typeClass}">${c.type}</span>
                                    </div>
                                    <div class="data-item-detail">
                                        ${c.taluks.join(', ')} | ${c.villages}V | ${c.booths}B
                                    </div>
                                </div>
                                <div class="data-item-badge">${c.villages}V • ${c.booths}B</div>
                            </div>
                        `}).join('')}
                    </div>
                </div>
            `;
        }
        
        function displayTalukCategoryContent(data) {
            const mainContent = document.getElementById('mainContent');
            const district = data.parent;
            
            const totalHoblis = district.taluks.reduce((sum, t) => sum + t.hoblis.length, 0);
            const totalGPs = district.taluks.reduce((sum, t) => sum + t.gramPanchayats.length, 0);
            
            mainContent.innerHTML = `
                <div class="breadcrumb">${renderBreadcrumb()}</div>
                
                <div class="content-header">
                    <div class="content-title">📍 All Taluks in ${district.name}</div>
                    <div class="content-subtitle">
                        Complete list of ${district.taluks.length} Taluks with administrative divisions<br>
                        ${totalHoblis} Hoblis • ${totalGPs} Gram Panchayats
                    </div>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-card-label">Total Taluks</div>
                        <div class="stat-card-value">${district.taluks.length}</div>
                        <div class="stat-card-desc">Administrative units</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">Total Hoblis</div>
                        <div class="stat-card-value">${totalHoblis}</div>
                        <div class="stat-card-desc">Revenue circles</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">Total Gram Panchayats</div>
                        <div class="stat-card-value">${totalGPs}</div>
                        <div class="stat-card-desc">Village councils</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">Avg GPs per Taluk</div>
                        <div class="stat-card-value">${(totalGPs / district.taluks.length).toFixed(1)}</div>
                        <div class="stat-card-desc">Distribution</div>
                    </div>
                </div>
                
                <div class="info-box">
                    <div class="info-box-title">📍 About Taluks</div>
                    <div class="info-box-text">
                        Taluks are the primary administrative subdivisions of a district. Each taluk is headed by a Tehsildar and handles:<br>
                        • Land revenue collection and records (RTC)<br>
                        • Civil administration and law & order coordination<br>
                        • Development programs and welfare schemes<br>
                        • Coordination with Hoblis and Gram Panchayats
                    </div>
                </div>
                
                <div class="data-section">
                    <div class="section-title">📍 Complete Taluk List (${district.taluks.length})</div>
                    <div class="data-list">
                        ${district.taluks.map((taluk, idx) => `
                            <div class="data-item" style="cursor: pointer;" onclick="selectTalukFromList('${district.key}', ${idx})">
                                <div style="flex: 1;">
                                    <div class="data-item-main">
                                        ${idx + 1}. ${taluk.name} Taluk
                                    </div>
                                    <div class="data-item-detail">
                                        Hoblis: ${taluk.hoblis.join(', ')}
                                        ${taluk.gramPanchayats.length > 0 ? `<br>Gram Panchayats: ${taluk.gramPanchayats.slice(0, 5).join(', ')}${taluk.gramPanchayats.length > 5 ? ` +${taluk.gramPanchayats.length - 5} more` : ''}` : ''}
                                    </div>
                                </div>
                                <div style="text-align: right;">
                                    <div class="data-item-badge">${taluk.hoblis.length}H</div>
                                    ${taluk.gramPanchayats.length > 0 ? `<div class="data-item-badge" style="margin-top: 5px;">${taluk.gramPanchayats.length}GP</div>` : ''}
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }
        
        function displayConstituencyCategoryContent(data) {
            const mainContent = document.getElementById('mainContent');
            const district = data.parent;
            
            const scCount = district.constituencies.filter(c => c.type === 'SC').length;
            const stCount = district.constituencies.filter(c => c.type === 'ST').length;
            const generalCount = district.constituencies.filter(c => c.type === 'General').length;
            const totalVillages = district.constituencies.reduce((sum, c) => sum + c.villages, 0);
            const totalBooths = district.constituencies.reduce((sum, c) => sum + c.booths, 0);
            
            mainContent.innerHTML = `
                <div class="breadcrumb">${renderBreadcrumb()}</div>
                
                <div class="content-header">
                    <div class="content-title">🗳️ All Constituencies in ${district.name}</div>
                    <div class="content-subtitle">
                        Complete list of ${district.constituencies.length} Assembly Constituencies<br>
                        ${totalVillages} Villages • ${totalBooths} Polling Booths
                    </div>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-card-label">Total Constituencies</div>
                        <div class="stat-card-value">${district.constituencies.length}</div>
                        <div class="stat-card-desc">Electoral segments</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">General</div>
                        <div class="stat-card-value">${generalCount}</div>
                        <div class="stat-card-desc">Open seats</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">Reserved SC</div>
                        <div class="stat-card-value">${scCount}</div>
                        <div class="stat-card-desc">Scheduled Caste</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">Reserved ST</div>
                        <div class="stat-card-value">${stCount}</div>
                        <div class="stat-card-desc">Scheduled Tribe</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">Total Villages</div>
                        <div class="stat-card-value">${totalVillages}</div>
                        <div class="stat-card-desc">Coverage</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">Polling Booths</div>
                        <div class="stat-card-value">${totalBooths}</div>
                        <div class="stat-card-desc">Voting locations</div>
                    </div>
                </div>
                
                <div class="info-box">
                    <div class="info-box-title">🗳️ About Assembly Constituencies</div>
                    <div class="info-box-text">
                        Each constituency elects one Member of Legislative Assembly (MLA) to Karnataka Legislative Assembly (Vidhan Sabha).<br>
                        • <strong>General:</strong> Open for all candidates<br>
                        • <strong>SC (Scheduled Caste):</strong> Reserved for SC candidates only<br>
                        • <strong>ST (Scheduled Tribe):</strong> Reserved for ST candidates only<br><br>
                        Constituencies are delimited based on population and geographical factors. A single constituency may span multiple taluks or parts thereof.
                    </div>
                </div>
                
                <div class="data-section">
                    <div class="section-title">🗳️ Complete Constituency List (${district.constituencies.length})</div>
                    <div class="data-list">
                        ${district.constituencies.map((constituency, idx) => {
                            const typeClass = constituency.type === 'SC' ? 'tag-sc' : constituency.type === 'ST' ? 'tag-st' : '';
                            const estimatedVoters = Math.floor(constituency.villages * 800 + Math.random() * 50000 + 150000);
                            return `
                            <div class="data-item" style="cursor: pointer;" onclick="selectConstituencyFromList('${district.key}', ${idx})">
                                <div style="flex: 1;">
                                    <div class="data-item-main">
                                        ${idx + 1}. ${constituency.name}
                                        <span class="tag ${typeClass}" style="margin-left: 10px;">${constituency.type}</span>
                                    </div>
                                    <div class="data-item-detail">
                                        Taluks: ${constituency.taluks.join(', ')}<br>
                                        Coverage: ${constituency.villages} Villages • ${constituency.booths} Booths • Est. ${(estimatedVoters/100000).toFixed(1)}L Voters
                                    </div>
                                </div>
                                <div style="text-align: right;">
                                    <div class="data-item-badge">${constituency.villages}V</div>
                                    <div class="data-item-badge" style="margin-top: 5px;">${constituency.booths}B</div>
                                </div>
                            </div>
                        `}).join('')}
                    </div>
                </div>
            `;
        }
        
        function displayGPCategoryContent(data) {
            const mainContent = document.getElementById('mainContent');
            const taluk = data.parent;
            
            mainContent.innerHTML = `
                <div class="breadcrumb">${renderBreadcrumb()}</div>
                
                <div class="content-header">
                    <div class="content-title">🏛️ All Gram Panchayats in ${taluk.name}</div>
                    <div class="content-subtitle">
                        Complete list of ${taluk.gramPanchayats.length} Gram Panchayats in ${taluk.name} Taluk<br>
                        ${taluk.parent.name} District
                    </div>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-card-label">Total Gram Panchayats</div>
                        <div class="stat-card-value">${taluk.gramPanchayats.length}</div>
                        <div class="stat-card-desc">Village councils</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">Hoblis</div>
                        <div class="stat-card-value">${taluk.hoblis.length}</div>
                        <div class="stat-card-desc">Revenue circles</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">Avg GPs per Hobli</div>
                        <div class="stat-card-value">${(taluk.gramPanchayats.length / taluk.hoblis.length).toFixed(1)}</div>
                        <div class="stat-card-desc">Distribution</div>
                    </div>
                </div>
                
                <div class="info-box">
                    <div class="info-box-title">🏛️ About Gram Panchayats</div>
                    <div class="info-box-text">
                        Gram Panchayats are the grassroots level of rural local self-government. Each GP is headed by an elected President and consists of:<br>
                        • <strong>President:</strong> Elected head of the GP<br>
                        • <strong>Vice President:</strong> Deputy head<br>
                        • <strong>Ward Members:</strong> 10-15 elected representatives<br>
                        • <strong>Secretary:</strong> Government-appointed administrator<br><br>
                        <strong>Responsibilities:</strong> Village development, sanitation, water supply, roads, street lighting, birth/death certificates, and implementation of government schemes.
                    </div>
                </div>
                
                <div class="data-section">
                    <div class="section-title">🏛️ Complete Gram Panchayat List (${taluk.gramPanchayats.length})</div>
                    <div class="data-list">
                        ${taluk.gramPanchayats.map((gp, idx) => `
                            <div class="data-item">
                                <div style="flex: 1;">
                                    <div class="data-item-main">
                                        ${idx + 1}. ${gp} Gram Panchayat
                                    </div>
                                    <div class="data-item-detail">
                                        ${taluk.name} Taluk, ${taluk.parent.name} District<br>
                                        Village-level governance and development
                                    </div>
                                </div>
                                <div class="data-item-badge">GP</div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }
        
        function displayTalukContent(data) {
            const mainContent = document.getElementById('mainContent');
            const relatedConstituencies = data.parent.constituencies.filter(c => 
                c.taluks.includes(data.name)
            );
            
            mainContent.innerHTML = `
                <div class="breadcrumb">${renderBreadcrumb()}</div>
                
                <div class="content-header">
                    <div class="content-title">📍 ${data.name} Taluk</div>
                    <div class="content-subtitle">
                        ${data.parent.name} District | Tehsildar Office<br>
                        ${data.hoblis.length} Hoblis • ${data.gramPanchayats.length} Gram Panchayats
                    </div>
                </div>
                
                <div class="info-box">
                    <div class="info-box-title">📍 Taluk Information</div>
                    <div class="info-box-text">
                        Taluks handle land revenue, property records (RTC), and civil administration.<br>
                        Contains ${data.hoblis.length} hoblis and ${data.gramPanchayats.length} gram panchayats.
                    </div>
                </div>
                
                <div class="data-section">
                    <div class="section-title">🏘️ Hoblis</div>
                    <div class="data-list">
                        ${data.hoblis.map(h => `<div class="data-item"><div class="data-item-main">${h}</div></div>`).join('')}
                    </div>
                </div>
                
                ${data.gramPanchayats.length > 0 ? `
                <div class="data-section">
                    <div class="section-title">🏛️ Gram Panchayats</div>
                    <div class="data-list">
                        ${data.gramPanchayats.map(gp => `<div class="data-item"><div class="data-item-main">${gp}</div></div>`).join('')}
                    </div>
                </div>
                ` : ''}
            `;
        }
        
        function displayConstituencyContent(data) {
            const mainContent = document.getElementById('mainContent');
            const estimatedVoters = Math.floor(data.villages * 800 + Math.random() * 50000 + 150000);
            
            mainContent.innerHTML = `
                <div class="breadcrumb">${renderBreadcrumb()}</div>
                
                <div class="content-header">
                    <div class="content-title">🗳️ ${data.name}</div>
                    <div class="content-subtitle">
                        ${data.parent.name} District | Assembly Constituency
                        ${data.type !== 'General' ? ` | Reserved for ${data.type}` : ''}
                    </div>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-card-label">Villages</div>
                        <div class="stat-card-value">${data.villages}</div>
                        <div class="stat-card-desc">Coverage area</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">Polling Booths</div>
                        <div class="stat-card-value">${data.booths}</div>
                        <div class="stat-card-desc">Voting locations</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">Estimated Voters</div>
                        <div class="stat-card-value">${(estimatedVoters/100000).toFixed(1)}L</div>
                        <div class="stat-card-desc">Electorate</div>
                    </div>
                </div>
                
                <div class="info-box">
                    <div class="info-box-title">🗳️ Electoral Information</div>
                    <div class="info-box-text">
                        Constituency elects one MLA to Karnataka Legislative Assembly.<br>
                        Taluks: ${data.taluks.join(', ')}<br>
                        Type: ${data.type === 'SC' ? 'Scheduled Caste' : data.type === 'ST' ? 'Scheduled Tribe' : 'General'}
                    </div>
                </div>
            `;
        }
        
        function displayHobliContent(data) {
            const mainContent = document.getElementById('mainContent');
            mainContent.innerHTML = `
                <div class="breadcrumb">${renderBreadcrumb()}</div>
                <div class="content-header">
                    <div class="content-title">🏘️ ${data.name} Hobli</div>
                    <div class="content-subtitle">${data.parent.name} Taluk, ${data.parent.parent.name} District</div>
                </div>
                <div class="info-box">
                    <div class="info-box-title">🏘️ About Hoblis</div>
                    <div class="info-box-text">Revenue circles that group villages for administration and record-keeping.</div>
                </div>
            `;
        }
        
        function displayGramPanchayatContent(data) {
            const mainContent = document.getElementById('mainContent');
            mainContent.innerHTML = `
                <div class="breadcrumb">${renderBreadcrumb()}</div>
                <div class="content-header">
                    <div class="content-title">🏛️ ${data.name}</div>
                    <div class="content-subtitle">Gram Panchayat | ${data.parent.name} Taluk</div>
                </div>
                <div class="info-box">
                    <div class="info-box-title">🏛️ Village Governance</div>
                    <div class="info-box-text">
                        Elected village council with President, Vice President, and 10-15 Ward Members.<br>
                        Handles local development, sanitation, water supply, and village records.
                    </div>
                </div>
            `;
        }
        
        // Helper functions to select items from list views
        function selectTalukFromList(districtKey, talukIndex) {
            const district = ALL_31_DISTRICTS[districtKey];
            const taluk = district.taluks[talukIndex];
            const data = { type: 'taluk', parent: district, ...taluk };
            
            // Update breadcrumb
            breadcrumbPath = ['Karnataka', district.name, 'Taluks', taluk.name];
            displayTalukContent(data);
        }
        
        function selectConstituencyFromList(districtKey, constituencyIndex) {
            const district = ALL_31_DISTRICTS[districtKey];
            const constituency = district.constituencies[constituencyIndex];
            const data = { type: 'constituency', parent: district, ...constituency };
            
            // Update breadcrumb
            breadcrumbPath = ['Karnataka', district.name, 'Constituencies', constituency.name];
            displayConstituencyContent(data);
        }
        
        // Search
        document.getElementById('searchInput').addEventListener('input', (e) => {
            const query = e.target.value.toLowerCase();
            const allNodes = document.querySelectorAll('.tree-item');
            
            if (query === '') {
                allNodes.forEach(item => item.style.display = '');
                return;
            }
            
            allNodes.forEach(item => {
                const label = item.querySelector('.tree-label').textContent.toLowerCase();
                item.style.display = label.includes(query) ? '' : 'none';
            });
        });
        
        // Initialize
        buildTree();
    </script>
</body>
</html>