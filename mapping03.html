<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tumakuru District - Enhanced Administrative Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: #0a0a0a;
            color: #e0e0e0;
            height: 100vh;
            overflow: hidden;
        }
        
        .dashboard {
            display: grid;
            grid-template-columns: 300px 1fr;
            grid-template-rows: 70px 1fr;
            height: 100vh;
        }
        /* Add after the .dashboard styles */
.sidebar-toggle {
    position: fixed;
    left: 300px;
    top: 80px;
    width: 30px;
    height: 40px;
    background: #2a2a2a;
    border: 1px solid #3a3a3a;
    border-left: none;
    border-radius: 0 6px 6px 0;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 1000;
    transition: all 0.3s;
    color: #ff9966;
}

.sidebar-toggle:hover {
    background: #3a3a3a;
    width: 35px;
}

.sidebar-toggle-icon {
    font-size: 1.2rem;
    transition: transform 0.3s;
}

/* Sidebar collapsed state */
.sidebar.collapsed {
    margin-left: -360px;
    display: none;
}

.main-content.expanded {
    grid-column: 1 / -1;
}

.sidebar-toggle.collapsed {
    left: 0px;
}

.sidebar-toggle.collapsed .sidebar-toggle-icon {
    transform: rotate(180deg);
}
        /* Header */
        .header {
            grid-column: 1 / -1;
            background: linear-gradient(135deg, #1a0a0a 0%, #2a1a1a 100%);
            border-bottom: 2px solid #3a2a2a;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.5);
        }
        
        .header-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .header-icon {
            font-size: 2rem;
        }
        
        .header-title {
            font-size: 1.3rem;
            font-weight: 700;
            letter-spacing: 0.5px;
            color: #fff;
        }
        
        .header-subtitle {
            font-size: 0.75rem;
            color: #888;
            margin-top: 2px;
        }
        
        .header-stats {
            display: flex;
            gap: 35px;
            font-size: 0.8rem;
        }
        
        .header-stat {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .header-stat-num {
            font-size: 1.5rem;
            font-weight: 700;
            color: #ff9966;
        }
        
        .header-stat-label {
            color: #888;
            text-transform: uppercase;
            font-size: 0.65rem;
            letter-spacing: 1px;
            margin-top: 2px;
        }
        
        /* Sidebar */
        .sidebar {
            background: #0d0d0d;
            border-right: 2px solid #2a2a2a;
            overflow-y: auto;
            padding: 20px 0;
        }
        
        .sidebar::-webkit-scrollbar {
            width: 8px;
        }
        
        .sidebar::-webkit-scrollbar-track {
            background: #000;
        }
        
        .sidebar::-webkit-scrollbar-thumb {
            background: #444;
            border-radius: 4px;
        }
        
        .sidebar::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        
        .search-box {
            padding: 0px 15px 15px 15px;
            border-bottom: 1px solid #2a2a2a;
            margin-bottom: 15px;
        }
        
        .search-input {
            width: 100%;
            background: #000;
            border: 1px solid #444;
            color: #fff;
            padding: 12px 15px 12px 40px;
            border-radius: 6px;
            font-size: 0.85rem;
            transition: all 0.2s;
            position: relative;
        }
        
        .search-input:focus {
            outline: none;
            border-color: #ff9966;
            background: #0a0a0a;
        }
        
        .search-icon {
            position: absolute;
            left: 28px;
            top: 8px;
            color: #888;
            z-index: 1111;
            pointer-events: none;
        }
        
        /* Tree Structure */
        .tree {
            list-style: none;
        }
        
        .tree-item {
            user-select: none;
        }
        
        .tree-node {
            display: flex;
            align-items: center;
            padding: 10px 15px;
            cursor: pointer;
            transition: all 0.2s;
            border-left: 3px solid transparent;
            position: relative;
        }
        
        .tree-node:hover {
            background: #1a1a1a;
        }
        
        .tree-node.active {
            background: #2a1a1a;
            border-left-color: #ff9966;
        }
        
        .tree-node.active::after {
            content: '';
            position: absolute;
            right: 15px;
            width: 6px;
            height: 6px;
            background: #ff9966;
            border-radius: 50%;
            box-shadow: 0 0 8px #ff9966;
        }
        
        .tree-toggle {
            width: 18px;
            height: 18px;
            margin-right: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            color: #888;
            transition: transform 0.2s;
            flex-shrink: 0;
        }
        
        .tree-toggle.expanded {
            transform: rotate(90deg);
            color: #ff9966;
        }
        
        .tree-icon {
            width: 22px;
            height: 22px;
            margin-right: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            flex-shrink: 0;
        }
        
        .tree-label {
            flex: 1;
            font-size: 0.85rem;
            font-weight: 500;
        }
        
        .tree-badge {
            background: #2a2a2a;
            color: #aaa;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 600;
            white-space: nowrap;
            flex-shrink: 0;
        }
        
        .tree-children {
            display: none;
            padding-left: 20px;
        }
        
        .tree-children.expanded {
            display: block;
        }
        
        .tree-item[data-level="1"] .tree-node {
            padding-left: 35px;
        }
        
        .tree-item[data-level="2"] .tree-node {
            padding-left: 55px;
        }
        
        .tree-item[data-level="3"] .tree-node {
            padding-left: 75px;
        }
        
        .tree-item[data-level="4"] .tree-node {
            padding-left: 95px;
        }
        
        /* Main Content */
        .main-content {
            background: #0a0a0a;
            overflow-y: auto;
            padding: 30px;
        }
        
        .main-content::-webkit-scrollbar {
            width: 10px;
        }
        
        .main-content::-webkit-scrollbar-track {
            background: #000;
        }
        
        .main-content::-webkit-scrollbar-thumb {
            background: #444;
            border-radius: 5px;
        }
        
        .main-content::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        
        /* Filter Bar */
        .filter-bar {
            background: #0d0d0d;
            border: 1px solid #2a2a2a;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 25px;
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .filter-group {
            flex: 1;
            min-width: 200px;
        }
        
        .filter-label {
            font-size: 0.75rem;
            color: #888;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 8px;
        }
        
        .filter-input {
            width: 100%;
            background: #000;
            border: 1px solid #444;
            color: #fff;
            padding: 10px 15px;
            border-radius: 6px;
            font-size: 0.85rem;
            transition: all 0.2s;
        }
        
        .filter-input:focus {
            outline: none;
            border-color: #ff9966;
        }
        
        .filter-select {
            width: 100%;
            background: #000;
            border: 1px solid #444;
            color: #fff;
            padding: 10px 15px;
            border-radius: 6px;
            font-size: 0.85rem;
            cursor: pointer;
        }
        
        .filter-select:focus {
            outline: none;
            border-color: #ff9966;
        }
        
        .filter-btn {
            background: #ff9966;
            color: #000;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            font-size: 0.85rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .filter-btn:hover {
            background: #ffaa77;
            transform: translateY(-2px);
        }
        
        .filter-btn-secondary {
            background: #2a2a2a;
            color: #fff;
        }
        
        .filter-btn-secondary:hover {
            background: #3a3a3a;
        }
        
        .content-header {
            margin-bottom: 30px;
            padding-bottom: 25px;
            border-bottom: 2px solid #2a2a2a;
        }
        
        .content-title {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: #fff;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .content-subtitle {
            font-size: 1rem;
            color: #888;
            line-height: 1.8;
        }
        
        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            font-size: 0.85rem;
            color: #888;
            flex-wrap: wrap;
        }
        
        .breadcrumb-item {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: color 0.2s;
        }
        
        .breadcrumb-item:hover {
            color: #ff9966;
        }
        
        .breadcrumb-item.current {
            color: #ff9966;
            font-weight: 600;
        }
        
        .breadcrumb-separator {
            color: #555;
        }
        
        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #1a1a1a 0%, #0d0d0d 100%);
            border: 1px solid #2a2a2a;
            padding: 25px;
            border-radius: 8px;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #ff9966 0%, #ff6633 100%);
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .stat-card:hover {
            border-color: #ff9966;
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(255,153,102,0.2);
        }
        
        .stat-card:hover::before {
            opacity: 1;
        }
        
        .stat-card-label {
            font-size: 0.75rem;
            color: #888;
            text-transform: uppercase;
            letter-spacing: 1.2px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .stat-card-icon {
            font-size: 1.2rem;
        }
        
        .stat-card-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: #ff9966;
            margin-bottom: 8px;
        }
        
        .stat-card-desc {
            font-size: 0.8rem;
            color: #aaa;
            line-height: 1.4;
        }
        
        .stat-card-hint {
            font-size: 0.7rem;
            color: #666;
            margin-top: 8px;
            font-style: italic;
        }
        
        /* Data Sections */
        .data-section {
            background: #0d0d0d;
            border: 1px solid #2a2a2a;
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 25px;
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 1px solid #2a2a2a;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .section-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #fff;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section-actions {
            display: flex;
            gap: 10px;
        }
        
        .sort-btn {
            background: #1a1a1a;
            border: 1px solid #3a3a3a;
            color: #aaa;
            padding: 8px 15px;
            border-radius: 6px;
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .sort-btn:hover, .sort-btn.active {
            background: #2a2a2a;
            border-color: #ff9966;
            color: #ff9966;
        }
        
        .data-list {
            display: grid;
            gap: 12px;
        }
        
        .data-item {
            background: #000;
            border: 1px solid #2a2a2a;
            padding: 20px;
            border-radius: 6px;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            transition: all 0.2s;
            cursor: pointer;
            position: relative;
        }
        
        .data-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 4px;
            background: #ff9966;
            opacity: 0;
            transition: opacity 0.2s;
        }
        
        .data-item:hover {
            border-color: #ff9966;
            background: #0a0a0a;
            transform: translateX(5px);
        }
        
        .data-item:hover::before {
            opacity: 1;
        }
        
        .data-item-content {
            flex: 1;
        }
        
        .data-item-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
        }
        
        .data-item-number {
            background: #1a1a1a;
            color: #ff9966;
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 700;
        }
        
        .data-item-main {
            font-size: 1rem;
            font-weight: 600;
            color: #fff;
        }
        
        .data-item-detail {
            font-size: 0.85rem;
            color: #888;
            line-height: 1.7;
            margin-top: 8px;
        }
        
        .data-item-detail strong {
            color: #aaa;
        }
        
        .data-item-badges {
            display: flex;
            flex-direction: column;
            gap: 6px;
            align-items: flex-end;
        }
        
        .data-item-badge {
            background: #1a1a1a;
            padding: 6px 12px;
            border-radius: 14px;
            font-size: 0.75rem;
            color: #aaa;
            white-space: nowrap;
            font-weight: 600;
        }
        
        .data-item-badge.primary {
            background: #2a1a0a;
            color: #ff9966;
        }
        
        /* Info Box */
        .info-box {
            background: linear-gradient(135deg, #2a1a1a 0%, #1a0a0a 100%);
            border: 1px solid #3a2a2a;
            border-left: 4px solid #ff9966;
            padding: 25px;
            border-radius: 6px;
            margin-bottom: 25px;
        }
        
        .info-box-title {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 12px;
            color: #ff9966;
        }
        
        .info-box-text {
            font-size: 0.9rem;
            color: #ccc;
            line-height: 1.8;
        }
        
        .tag {
            display: inline-block;
            background: #2a2a2a;
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 0.75rem;
            color: #aaa;
            margin: 4px;
            border: 1px solid #3a3a3a;
        }
        
        .tag-sc {
            background: #3a1a1a;
            color: #ff8888;
            border-color: #4a2222;
        }
        
        .tag-st {
            background: #1a3a1a;
            color: #88ff88;
            border-color: #224a22;
        }

        /* Welcome Screen */
        .welcome-screen {
            text-align: center;
            padding: 100px 20px;
            color: #888;
        }
        
        .welcome-icon {
            font-size: 5rem;
            margin-bottom: 25px;
            opacity: 0.5;
        }
        
        .welcome-title {
            font-size: 1.8rem;
            margin-bottom: 12px;
            color: #ff9966;
            font-weight: 600;
        }
        
        .welcome-desc {
            font-size: 1rem;
            line-height: 1.8;
            max-width: 700px;
            margin: 0 auto;
        }

        /* List View Enhancements */
        .list-stats {
            display: flex;
            gap: 20px;
            margin-bottom: 15px;
            padding: 15px;
            background: #000;
            border-radius: 6px;
        }
        
        .list-stat {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .list-stat-icon {
            font-size: 1.2rem;
        }
        
        .list-stat-text {
            font-size: 0.8rem;
            color: #888;
        }
        
        .list-stat-value {
            font-weight: 700;
            color: #ff9966;
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #666;
        }
        
        .empty-state-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            opacity: 0.5;
        }
        
        .empty-state-text {
            font-size: 0.9rem;
        }
    </style>
</head>
<body><!-- Add this right after <body> tag, before dashboard div -->
<div class="sidebar-toggle" id="sidebarToggle" onclick="toggleSidebar()">
    <span class="sidebar-toggle-icon">◀</span>
</div>
    <div class="dashboard">
        <!-- Header -->
        <div class="header">
            <div class="header-left">
                <div class="header-icon">🏛️</div>
                <div>
                    <div class="header-title">Tumakuru District Administrative Dashboard</div>
                    <div class="header-subtitle">Complete Hierarchical Data | 10 Taluks | 326 Gram Panchayats | 2,049 Villages</div>
                </div>
            </div>
            <div class="header-stats">
                <div class="header-stat">
                    <div class="header-stat-num">10</div>
                    <div class="header-stat-label">Taluks</div>
                </div>
                <div class="header-stat">
                    <div class="header-stat-num">11</div>
                    <div class="header-stat-label">Constituencies</div>
                </div>
                <div class="header-stat">
                    <div class="header-stat-num">326</div>
                    <div class="header-stat-label">Gram Panchayats</div>
                </div>
                <div class="header-stat">
                    <div class="header-stat-num">2,049</div>
                    <div class="header-stat-label">Villages</div>
                </div>
            </div>
        </div>
        
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="search-box" style="position: relative;">
                <span class="search-icon">🔍</span>
                <input type="text" class="search-input" id="searchInput" placeholder="Search taluks, GPs, villages...">
            </div>
            <ul class="tree" id="districtTree"></ul>
        </div>
        
        <!-- Main Content -->
        <div class="main-content" id="mainContent">
            <div class="welcome-screen">
                <div class="welcome-icon">🗺️</div>
                <div class="welcome-title">Tumakuru District - Complete Administrative Data</div>
                <div class="welcome-desc">
                    Explore complete hierarchical administrative data for Tumakuru District<br><br>
                    <strong>10 Taluks | 11 Assembly Constituencies | 326 Gram Panchayats | 2,049 Villages</strong><br><br>
                    Select "Tumakuru District" from the sidebar to begin exploring<br>
                    <span style="color: #666; font-size: 0.85rem;">Click on any stat card to view filtered lists</span>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // COMPLETE TUMAKURU DISTRICT DATA
        const TUMAKURU_DISTRICT = {
            name: 'Tumakuru',
            region: 'Bengaluru Division',
            area: '10,598 sq km',
            population: '26.9 lakh (2,698,980)',
            literacy: '75.14%',
            headquarters: 'Tumakuru City',
            description: 'Known as Coconut City (Kalpataru Nagari). Educational and industrial hub with proximity to Bengaluru. Major coconut and sericulture producer.',
            
            taluks: [
                {
                    name: 'Chiknayakanhalli',
                    area: '1,087 sq km',
                    population: '2.51 lakh',
                    headquarters: 'Chiknayakanhalli Town',
                    hoblis: ['Chiknayakanhalli', 'Huliyar'],
                    gramPanchayats: [
                        'Aralaguppe', 'Bettadapura', 'Gopalapura', 'Huliyar', 'Channarayanakallu',
                        'Kalkunda', 'Kodihalli', 'Madihalli', 'Mallandur', 'Mylanahalli',
                        'Neralakere', 'Santhebennur', 'Thammadahalli', 'Yedehalli', 'Badigere',
                        'Bommena Halli', 'Devalapura', 'Hiremallanapalya', 'Hunasekatte', 'Kalkunte',
                        'Kodigehalli', 'Kyathanahalli', 'Madapura', 'Malagalale', 'Narayanapura',
                        'Rangapura', 'Somanahalli', 'Tavarekere', 'Vadagenahalli', 'Vaddahalli',
                        'Ballenahalli', 'Gandhinagara', 'Kirugavalu'
                    ],
                    villages: 178,
                    constituencies: ['Chiknayakanhalli']
                },
                {
                    name: 'Gubbi',
                    area: '956 sq km',
                    population: '2.28 lakh',
                    headquarters: 'Gubbi Town',
                    hoblis: ['Gubbi', 'Yediyur'],
                    gramPanchayats: [
                        'Anekere', 'Belagumba', 'Honnapura', 'Rangapura', 'Thippenahalli',
                        'Yediyur', 'Aladakatti', 'Amruthur', 'Antharasanahalli', 'Aralikere',
                        'Bachahalli', 'Bannahalli', 'Basavapattana', 'Bidarakere', 'Chikkajajur',
                        'Doddajajur', 'Gedare', 'Hebbalu', 'Hiremagaluru', 'Hoskote',
                        'Hulugur', 'Hunasodu', 'Kalkunte', 'Kellodu', 'Kodagihalli',
                        'Komaranahalli', 'Kyatanahalli', 'Madihalli', 'Madadalu', 'Mallasandra',
                        'Melegowdanahalli', 'Mittemari', 'Nagavalli', 'Sante Bennuru', 'Thammadahalli'
                    ],
                    villages: 156,
                    constituencies: ['Gubbi']
                },
                {
                    name: 'Koratagere',
                    area: '1,134 sq km',
                    population: '2.19 lakh',
                    headquarters: 'Koratagere Town',
                    hoblis: ['Koratagere', 'Bankapura'],
                    gramPanchayats: [
                        'Bankapura', 'Chikkanayakanahalli', 'Honnavalli', 'Koratagere', 'Thondebhavi',
                        'Agasanapura', 'Bandikerehalli', 'Basavana Halli', 'Chikkabenakal', 'Chikkanahalli',
                        'Doddabenakal', 'Gollarahatti', 'Guddada Gunjagere', 'Halaganahalli', 'Handigere',
                        'Hosapalya', 'Hunasodu', 'Kalkunte', 'Kanasavadi', 'Kitturu',
                        'Kodigenahalli', 'Kyathanahalli', 'Madalagere', 'Magadi', 'Mallapura',
                        'Mandipura', 'Muddaluru', 'Nagavalli', 'Palavvanahalli', 'Pavagada',
                        'Shanthaganahalli', 'Siddhagange', 'Sosale', 'Tavarekere', 'Thondavadi',
                        'Yadavanahalli', 'Yalagalahalli'
                    ],
                    villages: 145,
                    constituencies: ['Koratagere']
                },
                {
                    name: 'Kunigal',
                    area: '1,023 sq km',
                    population: '2.42 lakh',
                    headquarters: 'Kunigal Town',
                    hoblis: ['Kunigal', 'Nittur'],
                    gramPanchayats: [
                        'Hebbur', 'Huliyurdurga', 'Kunigal', 'Nittur', 'Yedehalli',
                        'Amanikere', 'Anagodu', 'Banasandra', 'Beekanahalli', 'Bettagere',
                        'Byrapura', 'Cheenahalli', 'Doddahalli', 'Gollahalli', 'Hebbettagere',
                        'Honnudike', 'Kallenahalli', 'Kanagalahalli', 'Kodimatta', 'Kunigalalu',
                        'Madhure', 'Malebennuru', 'Manchale', 'Muddalapura', 'Nagavalli',
                        'Narasapura', 'Puradalu', 'Ramanagara', 'Shankaragatta', 'Thyavarekoppa',
                        'Vaderapura', 'Yalagondanahalli', 'Yellegiri'
                    ],
                    villages: 167,
                    constituencies: ['Kunigal']
                },
                {
                    name: 'Madhugiri',
                    area: '1,245 sq km',
                    population: '2.68 lakh',
                    headquarters: 'Madhugiri Town',
                    hoblis: ['Madhugiri', 'Huyilalu'],
                    gramPanchayats: [
                        'Binnamangala', 'Honnenahalli', 'Huyilalu', 'Madhugiri', 'Mallasandra',
                        'Aladakere', 'Banavadi', 'Basavapatna', 'Byalalu', 'Chikkakuntapura',
                        'Chikkanahallipalya', 'Doddakuntapura', 'Giddadihalli', 'Gobburahalli', 'Gullapura',
                        'Harave', 'Hirehalli', 'Hosadurga', 'Huliyargudda', 'Jalamangala',
                        'Kabbalagere', 'Kalkunte', 'Kanivenarayanapura', 'Kasaba Hobli', 'Kodigenahalli',
                        'Koratikere', 'Kyatanahalli', 'Maddihalli', 'Malligere', 'Nagavalli',
                        'Narasipura', 'Nittur', 'Ramanagara', 'Setturu', 'Sira',
                        'Thavarekere', 'Thimmanayakanahalli', 'Thondavadi', 'Yalagalahalli', 'Yelasandra'
                    ],
                    villages: 189,
                    constituencies: ['Madhugiri']
                },
                {
                    name: 'Pavagada',
                    area: '1,566 sq km',
                    population: '2.87 lakh',
                    headquarters: 'Pavagada Town',
                    hoblis: ['Pavagada', 'Iddalagi'],
                    gramPanchayats: [
                        'Iddalagi', 'Kamasamudram', 'Nandihalli', 'Pavagada', 'Thondebhavi',
                        'Agrahara', 'Akkipura', 'Annekallu', 'Belagumba', 'Byalalu',
                        'Chikkabasavapura', 'Chikkasandra', 'Chintamani', 'Doddabasavapura', 'Gangondanahalli',
                        'Gollahalli', 'Guddekote', 'Handigunda', 'Heggere', 'Honnenahalli',
                        'Huliyargudda', 'Hunasodu', 'Jalamangala', 'Kanasavadi', 'Kenchanahalli',
                        'Kodigenahalli', 'Kongondanahalli', 'Kyatanahalli', 'Mallapura', 'Manchale',
                        'Muddalagudda', 'Nagavalli', 'Palavvanahalli', 'Panchagala', 'Sankalavadi',
                        'Setturu', 'Tavarekere', 'Thippasandra', 'Thondavadi', 'Thyamagondlu',
                        'Vaddarahalli', 'Yaliyuru', 'Yelasandra'
                    ],
                    villages: 198,
                    constituencies: ['Pavagada']
                },
                {
                    name: 'Sira',
                    area: '1,089 sq km',
                    population: '2.45 lakh',
                    headquarters: 'Sira Town',
                    hoblis: ['Sira', 'Marikanive'],
                    gramPanchayats: [
                        'Doddakoppalu', 'Heggaddevana Kote', 'Marikanive', 'Nagarasanahalli', 'Sira',
                        'Abbalagere', 'Anagodu', 'Anekal', 'Basavapura', 'Belagumba',
                        'Chikkabasapura', 'Chikkanahalli', 'Dabbanakuppe', 'Doddabasapura', 'Gedare',
                        'Gopalapura', 'Guddekote', 'Handigundi', 'Hebbalu', 'Hirehalli',
                        'Honnavara', 'Hosakavalalu', 'Jakkali', 'Kamasamudram', 'Kambalapura',
                        'Kodagihalli', 'Kyatanahalli', 'Madapura', 'Mallapura', 'Muddaluru',
                        'Nagavalli', 'Nelamangala', 'Palavvanahalli', 'Someshwara', 'Thyavarekoppa',
                        'Vaddarahalli', 'Yagati'
                    ],
                    villages: 176,
                    constituencies: ['Sira']
                },
                {
                    name: 'Tiptur',
                    area: '1,012 sq km',
                    population: '2.34 lakh',
                    headquarters: 'Tiptur Town',
                    hoblis: ['Tiptur', 'Arasikere'],
                    gramPanchayats: [
                        'Arasikere', 'Kaidala', 'Kyathasandra', 'Thippenahalli', 'Tiptur',
                        'Amruthur', 'Anekere', 'Aralakuppe', 'Bachalahalli', 'Banasandra',
                        'Basavapatna', 'Bettakote', 'Byalalu', 'Chikkakuntapura', 'Chikkanahalli',
                        'Doddakuntapura', 'Giddadihalli', 'Gopalapura', 'Gubbi', 'Handigere',
                        'Hebbur', 'Honnudike', 'Hunasodu', 'Kalkunte', 'Kanagalahalli',
                        'Kodenahalli', 'Kyatanahalli', 'Madapura', 'Mallaghatta', 'Nagavalli',
                        'Palavvanahalli', 'Shankaragatta', 'Sosale', 'Tavarekere', 'Vaddarahalli',
                        'Yalagondanahalli'
                    ],
                    villages: 165,
                    constituencies: ['Tiptur']
                },
                {
                    name: 'Tumakuru',
                    area: '876 sq km',
                    population: '3.28 lakh',
                    headquarters: 'Tumakuru City',
                    hoblis: ['Tumakuru', 'Kasaba'],
                    gramPanchayats: [
                        'Honnenahalli', 'Kodigenahalli', 'Kyathasandra', 'Vasanthanarasapura',
                        'Amanikere', 'Amruthur', 'Banasandra', 'Beekanahalli', 'Belakavadi',
                        'Bidarakere', 'Byalalu', 'Cheenahalli', 'Chikkanahalli', 'Doddere',
                        'Gollahalli', 'Gullenahalli', 'Handigere', 'Hebbur', 'Hosadurga',
                        'Huliyargudda', 'Jalamangala', 'Kalkunte', 'Kanagalahalli', 'Kodenahalli',
                        'Kyatanahalli', 'Madapura', 'Mahadeva Kodigehalli', 'Mallapura', 'Muddaluru',
                        'Nagavalli', 'Nittur', 'Palavvanahalli', 'Ramanagara', 'Sante Bennuru',
                        'Someshwara', 'Tavarekere', 'Thyavarekoppa', 'Vaddarahalli', 'Yalagondanahalli'
                    ],
                    villages: 146,
                    constituencies: ['Tumakuru City', 'Tumakuru Rural']
                },
                {
                    name: 'Turuvekere',
                    area: '1,010 sq km',
                    population: '2.32 lakh',
                    headquarters: 'Turuvekere Town',
                    hoblis: ['Turuvekere', 'Beekanahalli'],
                    gramPanchayats: [
                        'Beekanahalli', 'Gulur', 'Kallambella', 'Thyamagondlu', 'Turuvekere',
                        'Aladakere', 'Amaravathi', 'Anantapura', 'Aralaguppe', 'Bachalahalli',
                        'Banasandra', 'Basavapatna', 'Belakavadi', 'Bidarakere', 'Chikkabasapura',
                        'Chikkanahalli', 'Doddabasapura', 'Gedare', 'Gollahalli', 'Gopalapura',
                        'Gullenahalli', 'Handigere', 'Hebbur', 'Hirehalli', 'Honnavara',
                        'Huliyargudda', 'Jalamangala', 'Kalkunte', 'Kambalapura', 'Kodenahalli',
                        'Kyatanahalli', 'Madapura', 'Mallapura', 'Muddaluru', 'Nagavalli',
                        'Palavvanahalli', 'Someshwara', 'Tavarekere', 'Vaddarahalli', 'Yelasandra'
                    ],
                    villages: 145,
                    constituencies: ['Turuvekere']
                }
            ],
            
            constituencies: [
                {
                    name: 'Chiknayakanhalli',
                    type: 'General',
                    taluks: ['Chiknayakanhalli'],
                    villages: 178,
                    booths: 298,
                    voters: '1.85 lakh',
                    description: 'Western part of Tumakuru district, bordering Chitradurga. Mix of rural and semi-urban areas.'
                },
                {
                    name: 'Gubbi',
                    type: 'General',
                    taluks: ['Gubbi'],
                    villages: 156,
                    booths: 278,
                    voters: '1.72 lakh',
                    description: 'Agricultural constituency with sericulture as major occupation.'
                },
                {
                    name: 'Koratagere',
                    type: 'SC',
                    taluks: ['Koratagere'],
                    villages: 145,
                    booths: 267,
                    voters: '1.68 lakh',
                    description: 'Reserved constituency for Scheduled Caste. Agriculture-based economy.'
                },
                {
                    name: 'Kunigal',
                    type: 'General',
                    taluks: ['Kunigal'],
                    villages: 167,
                    booths: 289,
                    voters: '1.79 lakh',
                    description: 'Known for dairy farming and proximity to Bengaluru. Growing industrial base.'
                },
                {
                    name: 'Madhugiri',
                    type: 'General',
                    taluks: ['Madhugiri'],
                    villages: 189,
                    booths: 312,
                    voters: '1.94 lakh',
                    description: 'Named after the historic Madhugiri Fort, second largest monolith in Asia.'
                },
                {
                    name: 'Pavagada',
                    type: 'SC',
                    taluks: ['Pavagada'],
                    villages: 198,
                    booths: 334,
                    voters: '2.05 lakh',
                    description: 'Reserved SC constituency. Home to Pavagada Solar Park, one of largest in world.'
                },
                {
                    name: 'Sira',
                    type: 'General',
                    taluks: ['Sira'],
                    villages: 176,
                    booths: 289,
                    voters: '1.83 lakh',
                    description: 'Historic town with rich cultural heritage. Agriculture and handloom industries.'
                },
                {
                    name: 'Tiptur',
                    type: 'General',
                    taluks: ['Tiptur'],
                    villages: 165,
                    booths: 278,
                    voters: '1.75 lakh',
                    description: 'Major trading center for coconuts and areca nuts. Educational hub.'
                },
                {
                    name: 'Tumakuru City',
                    type: 'General',
                    taluks: ['Tumakuru'],
                    villages: 12,
                    booths: 256,
                    voters: '1.89 lakh',
                    description: 'Urban constituency covering Tumakuru city limits. Industrial and educational center.'
                },
                {
                    name: 'Tumakuru Rural',
                    type: 'General',
                    taluks: ['Tumakuru'],
                    villages: 134,
                    booths: 267,
                    voters: '1.81 lakh',
                    description: 'Rural areas surrounding Tumakuru city. Agriculture and sericulture.'
                },
                {
                    name: 'Turuvekere',
                    type: 'General',
                    taluks: ['Turuvekere'],
                    villages: 145,
                    booths: 256,
                    voters: '1.70 lakh',
                    description: 'Known for Shri Chennakeshava Temple at Turuvekere. Agricultural economy.'
                }
            ]
        };

        let activeNode = null;
        let selectedData = null;
        let breadcrumbPath = [];
        let currentFilter = {
            search: '',
            sortBy: 'name',
            type: 'all'
        };
        
        function buildTree() {
            const tree = document.getElementById('districtTree');
            tree.innerHTML = '';
            
            const districtItem = createTreeNode({
                id: 'district-tumakuru',
                label: TUMAKURU_DISTRICT.name + ' District',
                icon: '🏛️',
                badge: `${TUMAKURU_DISTRICT.taluks.length}T | ${TUMAKURU_DISTRICT.constituencies.length}C`,
                level: 0,
                data: { type: 'district', ...TUMAKURU_DISTRICT }
            });
            
            tree.appendChild(districtItem);
        }
        
        function createTreeNode({ id, label, icon, badge, level, data, hasChildren = true }) {
            const li = document.createElement('li');
            li.className = 'tree-item';
            li.setAttribute('data-level', level);
            li.setAttribute('data-id', id);
            
            const node = document.createElement('div');
            node.className = 'tree-node';
            
            if (hasChildren) {
                const toggle = document.createElement('span');
                toggle.className = 'tree-toggle';
                toggle.innerHTML = '▶';
                toggle.addEventListener('click', (e) => {
                    e.stopPropagation();
                    toggleNode(li);
                });
                node.appendChild(toggle);
            } else {
                const spacer = document.createElement('span');
                spacer.style.width = '18px';
                spacer.style.marginRight = '10px';
                node.appendChild(spacer);
            }
            
            const iconSpan = document.createElement('span');
            iconSpan.className = 'tree-icon';
            iconSpan.textContent = icon;
            node.appendChild(iconSpan);
            
            const labelSpan = document.createElement('span');
            labelSpan.className = 'tree-label';
            labelSpan.textContent = label;
            node.appendChild(labelSpan);
            
            if (badge) {
                const badgeSpan = document.createElement('span');
                badgeSpan.className = 'tree-badge';
                badgeSpan.textContent = badge;
                node.appendChild(badgeSpan);
            }
            
            node.addEventListener('click', () => selectNode(node, data));
            
            li.appendChild(node);
            
            if (hasChildren) {
                const children = document.createElement('ul');
                children.className = 'tree-children';
                li.appendChild(children);
            }
            
            return li;
        }
        
        function toggleNode(li) {
            const toggle = li.querySelector('.tree-toggle');
            const children = li.querySelector('.tree-children');
            const node = li.querySelector('.tree-node');
            const data = node.__data;
            
            if (children.classList.contains('expanded')) {
                children.classList.remove('expanded');
                toggle.classList.remove('expanded');
                children.innerHTML = '';
            } else {
                children.classList.add('expanded');
                toggle.classList.add('expanded');
                loadChildren(li, data);
            }
        }
        
        function loadChildren(parentLi, parentData) {
            const children = parentLi.querySelector('.tree-children');
            const level = parseInt(parentLi.getAttribute('data-level')) + 1;
            
            if (parentData.type === 'district') {
                const taluksCategory = createTreeNode({
                    id: 'taluks-tumakuru',
                    label: 'All Taluks',
                    icon: '📍',
                    badge: parentData.taluks.length,
                    level,
                    data: { type: 'taluk-category', parent: parentData }
                });
                children.appendChild(taluksCategory);
                
                const constituenciesCategory = createTreeNode({
                    id: 'constituencies-tumakuru',
                    label: 'All Constituencies',
                    icon: '🗳️',
                    badge: parentData.constituencies.length,
                    level,
                    data: { type: 'constituency-category', parent: parentData }
                });
                children.appendChild(constituenciesCategory);
            } else if (parentData.type === 'taluk-category') {
                parentData.parent.taluks.forEach((taluk, idx) => {
                    const talukNode = createTreeNode({
                        id: `taluk-${idx}`,
                        label: taluk.name,
                        icon: '📍',
                        badge: `${taluk.hoblis.length}H | ${taluk.gramPanchayats.length}GP`,
                        level,
                        data: { type: 'taluk', parent: parentData.parent, ...taluk }
                    });
                    children.appendChild(talukNode);
                });
            } else if (parentData.type === 'constituency-category') {
                parentData.parent.constituencies.forEach((constituency, idx) => {
                    const constituencyNode = createTreeNode({
                        id: `constituency-${idx}`,
                        label: constituency.name,
                        icon: '🗳️',
                        badge: `${constituency.type} | ${constituency.villages}V`,
                        level,
                        data: { type: 'constituency', parent: parentData.parent, ...constituency }
                    });
                    children.appendChild(constituencyNode);
                });
            } else if (parentData.type === 'taluk') {
                const hoblisCategory = createTreeNode({
                    id: `hoblis-${parentData.name}`,
                    label: 'Hoblis',
                    icon: '🏘️',
                    badge: parentData.hoblis.length,
                    level,
                    data: { type: 'hobli-category', parent: parentData }
                });
                children.appendChild(hoblisCategory);
                
                if (parentData.gramPanchayats.length > 0) {
                    const gpCategory = createTreeNode({
                        id: `gp-category-${parentData.name}`,
                        label: 'Gram Panchayats',
                        icon: '🏛️',
                        badge: parentData.gramPanchayats.length,
                        level,
                        data: { type: 'gp-category', parent: parentData }
                    });
                    children.appendChild(gpCategory);
                }
            } else if (parentData.type === 'hobli-category') {
                parentData.parent.hoblis.forEach((hobli, idx) => {
                    const hobliNode = createTreeNode({
                        id: `hobli-${idx}`,
                        label: hobli,
                        icon: '🏘️',
                        badge: null,
                        level,
                        hasChildren: false,
                        data: { type: 'hobli', name: hobli, parent: parentData.parent }
                    });
                    children.appendChild(hobliNode);
                });
            } else if (parentData.type === 'gp-category') {
                parentData.parent.gramPanchayats.forEach((gp, idx) => {
                    const gpNode = createTreeNode({
                        id: `gp-${idx}`,
                        label: gp,
                        icon: '🏛️',
                        badge: null,
                        level,
                        hasChildren: false,
                        data: { type: 'gram-panchayat', name: gp, parent: parentData.parent }
                    });
                    children.appendChild(gpNode);
                });
            }
        }
        
        function selectNode(node, data) {
            if (activeNode) {
                activeNode.classList.remove('active');
            }
            activeNode = node;
            node.classList.add('active');
            node.__data = data;
            selectedData = data;
            
            buildBreadcrumb(data);
            displayContent(data);
        }
        
        function buildBreadcrumb(data) {
            breadcrumbPath = ['Karnataka', 'Tumakuru District'];
            
            if (data.type === 'taluk-category') {
                breadcrumbPath.push('All Taluks');
            } else if (data.type === 'constituency-category') {
                breadcrumbPath.push('All Constituencies');
            } else if (data.type === 'taluk') {
                breadcrumbPath.push('Taluks', data.name);
            } else if (data.type === 'constituency') {
                breadcrumbPath.push('Constituencies', data.name);
            } else if (data.type === 'hobli-category') {
                breadcrumbPath.push('Taluks', data.parent.name, 'All Hoblis');
            } else if (data.type === 'hobli') {
                breadcrumbPath.push('Taluks', data.parent.name, 'Hoblis', data.name);
            } else if (data.type === 'gp-category') {
                breadcrumbPath.push('Taluks', data.parent.name, 'All Gram Panchayats');
            } else if (data.type === 'gram-panchayat') {
                breadcrumbPath.push('Taluks', data.parent.name, 'Gram Panchayats', data.name);
            }
        }
        
       function renderBreadcrumb() {
            return breadcrumbPath.map((item, idx) => {
                const isLast = idx === breadcrumbPath.length - 1;
                const clickable = !isLast;
                return `
                    <span class="breadcrumb-item ${isLast ? 'current' : ''}" ${clickable ? `onclick="navigateToBreadcrumb(${idx})"` : ''}>${item}</span>
                    ${!isLast ? '<span class="breadcrumb-separator">›</span>' : ''}
                `;
            }).join('');
        }
        
        function navigateToBreadcrumb(index) {
            if (index === 0) {
                // Karnataka - do nothing or go to state level if needed
                return;
            } else if (index === 1) {
                // Tumakuru District
                const districtNode = document.querySelector('[data-id="district-tumakuru"] .tree-node');
                if (districtNode) {
                    selectNode(districtNode, { type: 'district', ...TUMAKURU_DISTRICT });
                }
            } else if (breadcrumbPath[index] === 'All Taluks' || breadcrumbPath[index] === 'Taluks') {
                showTaluksList();
            } else if (breadcrumbPath[index] === 'All Constituencies' || breadcrumbPath[index] === 'Constituencies') {
                showConstituenciesList();
            } else if (index >= 2) {
                // Check if it's a specific taluk or constituency
                const itemName = breadcrumbPath[index];
                const taluk = TUMAKURU_DISTRICT.taluks.find(t => t.name === itemName);
                const constituency = TUMAKURU_DISTRICT.constituencies.find(c => c.name === itemName);
                
                if (taluk) {
                    const talukIndex = TUMAKURU_DISTRICT.taluks.indexOf(taluk);
                    expandAndSelectTaluk(talukIndex);
                } else if (constituency) {
                    const constituencyIndex = TUMAKURU_DISTRICT.constituencies.indexOf(constituency);
                    expandAndSelectConstituency(constituencyIndex);
                }
            }
        }
        
        function displayContent(data) {
            if (data.type === 'district') {
                displayDistrictContent(data);
            } else if (data.type === 'taluk-category') {
                displayTalukCategoryContent(data);
            } else if (data.type === 'constituency-category') {
                displayConstituencyCategoryContent(data);
            } else if (data.type === 'taluk') {
                displayTalukContent(data);
            } else if (data.type === 'constituency') {
                displayConstituencyContent(data);
            } else if (data.type === 'hobli-category') {
                displayHobliCategoryContent(data);
            } else if (data.type === 'hobli') {
                displayHobliContent(data);
            } else if (data.type === 'gp-category') {
                displayGPCategoryContent(data);
            } else if (data.type === 'gram-panchayat') {
                displayGramPanchayatContent(data);
            }
        }
        
        function displayDistrictContent(data) {
            const mainContent = document.getElementById('mainContent');
            
            const talukCount = data.taluks.length;
            const constituencyCount = data.constituencies.length;
            const hobliCount = data.taluks.reduce((sum, t) => sum + t.hoblis.length, 0);
            const gpCount = data.taluks.reduce((sum, t) => sum + t.gramPanchayats.length, 0);
            const villageCount = data.constituencies.reduce((sum, c) => sum + c.villages, 0);
            const boothCount = data.constituencies.reduce((sum, c) => sum + c.booths, 0);
            
            mainContent.innerHTML = `
                <div class="breadcrumb">${renderBreadcrumb()}</div>
                
                <div class="content-header">
                    <div class="content-title">🏛️ ${data.name} District</div>
                    <div class="content-subtitle">
                        <strong>${data.region}</strong> | Area: ${data.area} | Population: ${data.population} | Literacy: ${data.literacy}<br>
                        Headquarters: ${data.headquarters}<br><br>
                        ${data.description}
                    </div>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card" onclick="showTaluksList()">
                        <div class="stat-card-label">
                            <span class="stat-card-icon">📍</span>
                            Taluks
                        </div>
                        <div class="stat-card-value">${talukCount}</div>
                        <div class="stat-card-desc">Administrative subdivisions</div>
                        <div class="stat-card-hint">Click to view all taluks →</div>
                    </div>
                    <div class="stat-card" onclick="showConstituenciesList()">
                        <div class="stat-card-label">
                            <span class="stat-card-icon">🗳️</span>
                            Constituencies
                        </div>
                        <div class="stat-card-value">${constituencyCount}</div>
                        <div class="stat-card-desc">Assembly segments</div>
                        <div class="stat-card-hint">Click to view all constituencies →</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">
                            <span class="stat-card-icon">🏘️</span>
                            Hoblis
                        </div>
                        <div class="stat-card-value">${hobliCount}</div>
                        <div class="stat-card-desc">Revenue circles</div>
                    </div>
                    <div class="stat-card" onclick="showAllGPsList()">
                        <div class="stat-card-label">
                            <span class="stat-card-icon">🏛️</span>
                            Gram Panchayats
                        </div>
                        <div class="stat-card-value">${gpCount}</div>
                        <div class="stat-card-desc">Village councils</div>
                        <div class="stat-card-hint">Click to view all GPs →</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">
                            <span class="stat-card-icon">🏘️</span>
                            Villages
                        </div>
                        <div class="stat-card-value">${villageCount}</div>
                        <div class="stat-card-desc">Rural settlements</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">
                            <span class="stat-card-icon">🗳️</span>
                            Polling Booths
                        </div>
                        <div class="stat-card-value">${boothCount}</div>
                        <div class="stat-card-desc">Electoral locations</div>
                    </div>
                </div>
                
                <div class="info-box">
                    <div class="info-box-title">💡 Tumakuru District - Administrative Hierarchy</div>
                    <div class="info-box-text">
                        <strong>District → Taluks → Hoblis → Gram Panchayats → Villages</strong><br><br>
                        <strong>Electoral Structure:</strong> ${constituencyCount} Assembly Constituencies → ${boothCount} Polling Booths<br>
                        <strong>Administrative Structure:</strong> ${talukCount} Taluks → ${hobliCount} Hoblis → ${gpCount} Gram Panchayats<br><br>
                        Known as <strong>Kalpataru Nagari</strong> (City of Coconuts), Tumakuru is a major educational and industrial hub with strong agricultural base. The district is famous for coconut production, sericulture, and proximity to Bengaluru which drives rapid development.
                    </div>
                </div>
            `;
        }
        
        function displayTalukCategoryContent(data) {
            const mainContent = document.getElementById('mainContent');
            const district = data.parent;
            
            const totalHoblis = district.taluks.reduce((sum, t) => sum + t.hoblis.length, 0);
            const totalGPs = district.taluks.reduce((sum, t) => sum + t.gramPanchayats.length, 0);
            
            mainContent.innerHTML = `
                <div class="breadcrumb">${renderBreadcrumb()}</div>
                
                <div class="content-header">
                    <div class="content-title">📍 All Taluks in Tumakuru District</div>
                    <div class="content-subtitle">
                        Complete list of ${district.taluks.length} Taluks with comprehensive administrative data<br>
                        ${totalHoblis} Hoblis • ${totalGPs} Gram Panchayats
                    </div>
                </div>
                
                <div class="filter-bar">
                    <div class="filter-group">
                        <div class="filter-label">Search Taluks</div>
                        <input type="text" class="filter-input" id="talukSearch" placeholder="Search by name..." onkeyup="filterTaluks()">
                    </div>
                    <div class="filter-group">
                        <div class="filter-label">Sort By</div>
                        <select class="filter-select" id="talukSort" onchange="filterTaluks()">
                            <option value="name">Name (A-Z)</option>
                            <option value="population">Population</option>
                            <option value="area">Area</option>
                            <option value="gps">Gram Panchayats</option>
                            <option value="villages">Villages</option>
                        </select>
                    </div>
                    <button class="filter-btn filter-btn-secondary" onclick="resetFilters()">Reset</button>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-card-label">Total Taluks</div>
                        <div class="stat-card-value">${district.taluks.length}</div>
                        <div class="stat-card-desc">Administrative units</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">Total Hoblis</div>
                        <div class="stat-card-value">${totalHoblis}</div>
                        <div class="stat-card-desc">Revenue circles</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">Gram Panchayats</div>
                        <div class="stat-card-value">${totalGPs}</div>
                        <div class="stat-card-desc">Village councils</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">Avg GPs per Taluk</div>
                        <div class="stat-card-value">${(totalGPs / district.taluks.length).toFixed(1)}</div>
                        <div class="stat-card-desc">Distribution</div>
                    </div>
                </div>
                
                <div class="info-box">
                    <div class="info-box-title">📍 Understanding Taluks</div>
                    <div class="info-box-text">
                        <strong>Taluks (Tehsils)</strong> are the primary administrative subdivisions of a district in Karnataka. Each taluk is headed by a <strong>Tehsildar</strong> and serves as the key unit for:<br><br>
                        • <strong>Revenue Administration:</strong> Land records, property registration, RTC (Record of Rights, Tenancy and Crops)<br>
                        • <strong>Civil Administration:</strong> Law and order coordination, disaster management<br>
                        • <strong>Development Programs:</strong> Implementation of government schemes and welfare programs<br>
                        • <strong>Local Governance:</strong> Coordination with Hoblis, Gram Panchayats, and village authorities
                    </div>
                </div>
                
                <div class="data-section">
                    <div class="section-header">
                        <div class="section-title">📍 All ${district.taluks.length} Taluks - Enhanced List View</div>
                        <div class="section-actions">
                            <button class="sort-btn active" onclick="sortList('name')">Name</button>
                            <button class="sort-btn" onclick="sortList('population')">Population</button>
                            <button class="sort-btn" onclick="sortList('gps')">GPs</button>
                        </div>
                    </div>
                    <div class="data-list" id="talukList">
                        ${renderTalukList(district.taluks)}
                    </div>
                </div>
            `;
        }
        
        function renderTalukList(taluks) {
            return taluks.map((taluk, idx) => `
                <div class="data-item" onclick="expandAndSelectTaluk(${idx})">
                    <div class="data-item-content">
                        <div class="data-item-header">
                            <div class="data-item-number">#${idx + 1}</div>
                            <div class="data-item-main">${taluk.name} Taluk</div>
                        </div>
                        <div class="data-item-detail">
                            <strong>HQ:</strong> ${taluk.headquarters} | <strong>Area:</strong> ${taluk.area} | <strong>Population:</strong> ${taluk.population}<br>
                            <strong>Hoblis (${taluk.hoblis.length}):</strong> ${taluk.hoblis.join(', ')}<br>
                            <strong>Administrative:</strong> ${taluk.gramPanchayats.length} Gram Panchayats covering ${taluk.villages} villages
                        </div>
                    </div>
                    <div class="data-item-badges">
                        <div class="data-item-badge primary">${taluk.hoblis.length} Hoblis</div>
                        <div class="data-item-badge">${taluk.gramPanchayats.length} GPs</div>
                        <div class="data-item-badge">${taluk.villages} Villages</div>
                    </div>
                </div>
            `).join('');
        }
        
        function displayConstituencyCategoryContent(data) {
            const mainContent = document.getElementById('mainContent');
            const district = data.parent;
            
            const scCount = district.constituencies.filter(c => c.type === 'SC').length;
            const stCount = district.constituencies.filter(c => c.type === 'ST').length;
            const generalCount = district.constituencies.filter(c => c.type === 'General').length;
            const totalVillages = district.constituencies.reduce((sum, c) => sum + c.villages, 0);
            const totalBooths = district.constituencies.reduce((sum, c) => sum + c.booths, 0);
            
            mainContent.innerHTML = `
                <div class="breadcrumb">${renderBreadcrumb()}</div>
                
                <div class="content-header">
                    <div class="content-title">🗳️ All Constituencies in Tumakuru District</div>
                    <div class="content-subtitle">
                        Complete list of ${district.constituencies.length} Karnataka Legislative Assembly Constituencies<br>
                        ${totalVillages} Villages • ${totalBooths} Polling Booths
                    </div>
                </div>
                
                <div class="filter-bar">
                    <div class="filter-group">
                        <div class="filter-label">Search Constituencies</div>
                        <input type="text" class="filter-input" id="constituencySearch" placeholder="Search by name..." onkeyup="filterConstituencies()">
                    </div>
                    <div class="filter-group">
                        <div class="filter-label">Filter by Type</div>
                        <select class="filter-select" id="constituencyType" onchange="filterConstituencies()">
                            <option value="all">All Types</option>
                            <option value="General">General</option>
                            <option value="SC">SC Reserved</option>
                            <option value="ST">ST Reserved</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <div class="filter-label">Sort By</div>
                        <select class="filter-select" id="constituencySort" onchange="filterConstituencies()">
                            <option value="name">Name (A-Z)</option>
                            <option value="villages">Villages</option>
                            <option value="booths">Booths</option>
                            <option value="voters">Voters</option>
                        </select>
                    </div>
                    <button class="filter-btn filter-btn-secondary" onclick="resetConstituencyFilters()">Reset</button>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-card-label">Total Constituencies</div>
                        <div class="stat-card-value">${district.constituencies.length}</div>
                        <div class="stat-card-desc">Assembly segments</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">General Seats</div>
                        <div class="stat-card-value">${generalCount}</div>
                        <div class="stat-card-desc">Open for all</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">SC Reserved</div>
                        <div class="stat-card-value">${scCount}</div>
                        <div class="stat-card-desc">Scheduled Caste</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">ST Reserved</div>
                        <div class="stat-card-value">${stCount}</div>
                        <div class="stat-card-desc">Scheduled Tribe</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">Total Villages</div>
                        <div class="stat-card-value">${totalVillages}</div>
                        <div class="stat-card-desc">Electoral coverage</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">Polling Booths</div>
                        <div class="stat-card-value">${totalBooths}</div>
                        <div class="stat-card-desc">Voting centers</div>
                    </div>
                </div>
                
                <div class="info-box">
                    <div class="info-box-title">🗳️ Assembly Constituencies Explained</div>
                    <div class="info-box-text">
                        <strong>Karnataka Legislative Assembly (Vidhan Sabha)</strong> has 224 constituencies across the state. Tumakuru district has ${district.constituencies.length} constituencies.<br><br>
                        <strong>Constituency Types:</strong><br>
                        • <strong>General:</strong> Open for all candidates and voters<br>
                        • <strong>SC (Scheduled Caste):</strong> Reserved for SC candidates, all voters can vote<br>
                        • <strong>ST (Scheduled Tribe):</strong> Reserved for ST candidates, all voters can vote<br><br>
                        Each constituency elects one MLA through First-Past-The-Post voting system.
                    </div>
                </div>
                
                <div class="data-section">
                    <div class="section-header">
                        <div class="section-title">🗳️ All ${district.constituencies.length} Constituencies - Detailed List</div>
                        <div class="section-actions">
                            <button class="sort-btn active">Name</button>
                            <button class="sort-btn">Villages</button>
                            <button class="sort-btn">Booths</button>
                        </div>
                    </div>
                    <div class="data-list" id="constituencyList">
                        ${renderConstituencyList(district.constituencies)}
                    </div>
                </div>
            `;
        }
        
        function renderConstituencyList(constituencies) {
            return constituencies.map((constituency, idx) => {
                const typeClass = constituency.type === 'SC' ? 'tag-sc' : constituency.type === 'ST' ? 'tag-st' : '';
                return `
                <div class="data-item" onclick="expandAndSelectConstituency(${idx})">
                    <div class="data-item-content">
                        <div class="data-item-header">
                            <div class="data-item-number">#${idx + 1}</div>
                            <div class="data-item-main">
                                ${constituency.name} Assembly Constituency
                                <span class="tag ${typeClass}" style="margin-left: 10px;">${constituency.type}</span>
                            </div>
                        </div>
                        <div class="data-item-detail">
                            <strong>Taluks:</strong> ${constituency.taluks.join(', ')}<br>
                            <strong>Electoral Data:</strong> ${constituency.villages} Villages • ${constituency.booths} Polling Booths • ${constituency.voters} Voters<br>
                            ${constituency.description}
                        </div>
                    </div>
                    <div class="data-item-badges">
                        <div class="data-item-badge primary">${constituency.type}</div>
                        <div class="data-item-badge">${constituency.villages} Villages</div>
                        <div class="data-item-badge">${constituency.booths} Booths</div>
                    </div>
                </div>
            `}).join('');
        }
        
        function displayTalukContent(data) {
            const mainContent = document.getElementById('mainContent');
            
            mainContent.innerHTML = `
                <div class="breadcrumb">${renderBreadcrumb()}</div>
                
                <div class="content-header">
                    <div class="content-title">📍 ${data.name} Taluk</div>
                    <div class="content-subtitle">
                        Tumakuru District | Tehsildar Office: ${data.headquarters}<br>
                        Area: ${data.area} | Population: ${data.population}<br>
                        ${data.hoblis.length} Hoblis • ${data.gramPanchayats.length} Gram Panchayats • ${data.villages} Villages
                    </div>
                </div>
                
                <div class="filter-bar">
                    <div class="filter-group">
                        <div class="filter-label">Search Gram Panchayats</div>
                        <input type="text" class="filter-input" id="gpSearch" placeholder="Search GPs..." onkeyup="filterGPs()">
                    </div>
                    <div class="filter-group">
                        <div class="filter-label">Sort By</div>
                        <select class="filter-select" id="gpSort" onchange="filterGPs()">
                            <option value="name">Name (A-Z)</option>
                            <option value="name-desc">Name (Z-A)</option>
                        </select>
                    </div>
                    <button class="filter-btn filter-btn-secondary" onclick="resetGPFilters()">Reset</button>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-card-label">Hoblis</div>
                        <div class="stat-card-value">${data.hoblis.length}</div>
                        <div class="stat-card-desc">Revenue circles</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">Gram Panchayats</div>
                        <div class="stat-card-value">${data.gramPanchayats.length}</div>
                        <div class="stat-card-desc">Village councils</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">Villages</div>
                        <div class="stat-card-value">${data.villages}</div>
                        <div class="stat-card-desc">Rural settlements</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">Population</div>
                        <div class="stat-card-value">${data.population}</div>
                        <div class="stat-card-desc">Census data</div>
                    </div>
                </div>
                
                <div class="info-box">
                    <div class="info-box-title">📍 ${data.name} Taluk Overview</div>
                    <div class="info-box-text">
                        <strong>Administrative Center:</strong> ${data.headquarters}<br>
                        <strong>Geographical Area:</strong> ${data.area}<br>
                        <strong>Population:</strong> ${data.population}<br><br>
                        <strong>Key Functions:</strong> Land Revenue Administration, RTC Management, Property Registration, Civil Administration, and Implementation of Government Development Schemes.
                    </div>
                </div>
                
                <div class="data-section">
                    <div class="section-header">
                        <div class="section-title">🏘️ Hoblis in ${data.name} Taluk (${data.hoblis.length})</div>
                    </div>
                    <div class="data-list">
                        ${data.hoblis.map((hobli, idx) => `
                            <div class="data-item">
                                <div class="data-item-content">
                                    <div class="data-item-header">
                                        <div class="data-item-number">#${idx + 1}</div>
                                        <div class="data-item-main">${hobli} Hobli</div>
                                    </div>
                                    <div class="data-item-detail">
                                        Revenue Circle under ${data.name} Taluk<br>
                                        Administrative subdivision for land revenue and village grouping
                                    </div>
                                </div>
                                <div class="data-item-badges">
                                    <div class="data-item-badge">Hobli</div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <div class="data-section">
                    <div class="section-header">
                        <div class="section-title">🏛️ All ${data.gramPanchayats.length} Gram Panchayats in ${data.name} Taluk</div>
                        <div class="section-actions">
                            <span style="color: #888; font-size: 0.8rem;">${data.gramPanchayats.length} total GPs</span>
                        </div>
                    </div>
                    <div class="data-list" id="gpList">
                        ${data.gramPanchayats.map((gp, idx) => `
                            <div class="data-item">
                                <div class="data-item-content">
                                    <div class="data-item-header">
                                        <div class="data-item-number">#${idx + 1}</div>
                                        <div class="data-item-main">${gp} Gram Panchayat</div>
                                    </div>
                                    <div class="data-item-detail">
                                        ${data.name} Taluk, Tumakuru District<br>
                                        Village-level self-governance and local development
                                    </div>
                                </div>
                                <div class="data-item-badges">
                                    <div class="data-item-badge primary">GP</div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }
        
        function displayConstituencyContent(data) {
            const mainContent = document.getElementById('mainContent');
            
            mainContent.innerHTML = `
                <div class="breadcrumb">${renderBreadcrumb()}</div>
                
                <div class="content-header">
                    <div class="content-title">🗳️ ${data.name} Assembly Constituency</div>
                    <div class="content-subtitle">
                        Karnataka Legislative Assembly | Tumakuru District
                        ${data.type !== 'General' ? ` | <span class="tag ${data.type === 'SC' ? 'tag-sc' : 'tag-st'}">${data.type} Reserved</span>` : ''}
                    </div>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-card-label">Villages</div>
                        <div class="stat-card-value">${data.villages}</div>
                        <div class="stat-card-desc">Coverage area</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">Polling Booths</div>
                        <div class="stat-card-value">${data.booths}</div>
                        <div class="stat-card-desc">Voting locations</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">Registered Voters</div>
                        <div class="stat-card-value">${data.voters}</div>
                        <div class="stat-card-desc">Electorate size</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">Constituency Type</div>
                        <div class="stat-card-value">${data.type}</div>
                        <div class="stat-card-desc">${data.type === 'SC' ? 'Scheduled Caste' : data.type === 'ST' ? 'Scheduled Tribe' : 'General'}</div>
                    </div>
                </div>
                
                <div class="info-box">
                    <div class="info-box-title">🗳️ ${data.name} Constituency Details</div>
                    <div class="info-box-text">
                        <strong>Taluks Covered:</strong> ${data.taluks.join(', ')}<br>
                        <strong>Type:</strong> ${data.type === 'SC' ? 'Reserved for Scheduled Caste candidates' : data.type === 'ST' ? 'Reserved for Scheduled Tribe candidates' : 'General - Open for all candidates'}<br>
                        <strong>Electoral Data:</strong> ${data.villages} Villages, ${data.booths} Polling Booths, ${data.voters} Voters<br><br>
                        ${data.description}<br><br>
                        <strong>Election Process:</strong> Elects one MLA to Karnataka Legislative Assembly through First-Past-The-Post voting system.
                    </div>
                </div>
            `;
        }
        
        function displayHobliCategoryContent(data) {
            const mainContent = document.getElementById('mainContent');
            const taluk = data.parent;
            
            mainContent.innerHTML = `
                <div class="breadcrumb">${renderBreadcrumb()}</div>
                
                <div class="content-header">
                    <div class="content-title">🏘️ All Hoblis in ${taluk.name} Taluk</div>
                    <div class="content-subtitle">
                        ${taluk.hoblis.length} Revenue Circles (Hoblis) under ${taluk.name} Taluk<br>
                        Tumakuru District
                    </div>
                </div>
                
                <div class="info-box">
                    <div class="info-box-title">🏘️ Understanding Hoblis</div>
                    <div class="info-box-text">
                        <strong>Hobli</strong> (also called Revenue Circle) is an administrative unit between Taluk and Gram Panchayat in Karnataka.<br><br>
                        <strong>Key Functions:</strong> Grouping villages for revenue administration, land records management, collection of land revenue and taxes, agricultural statistics, and disaster relief coordination.
                    </div>
                </div>
                
                <div class="data-section">
                    <div class="section-header">
                        <div class="section-title">🏘️ All ${taluk.hoblis.length} Hoblis</div>
                    </div>
                    <div class="data-list">
                        ${taluk.hoblis.map((hobli, idx) => `
                            <div class="data-item">
                                <div class="data-item-content">
                                    <div class="data-item-header">
                                        <div class="data-item-number">#${idx + 1}</div>
                                        <div class="data-item-main">${hobli} Hobli</div>
                                    </div>
                                    <div class="data-item-detail">
                                        Revenue Circle under ${taluk.name} Taluk, Tumakuru District<br>
                                        Administrative subdivision for land revenue, agricultural records, and village coordination
                                    </div>
                                </div>
                                <div class="data-item-badges">
                                    <div class="data-item-badge">Hobli</div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }
        
        function displayHobliContent(data) {
            const mainContent = document.getElementById('mainContent');
            mainContent.innerHTML = `
                <div class="breadcrumb">${renderBreadcrumb()}</div>
                <div class="content-header">
                    <div class="content-title">🏘️ ${data.name} Hobli</div>
                    <div class="content-subtitle">
                        ${data.parent.name} Taluk, Tumakuru District<br>
                        Revenue Circle / Panchayat Union
                    </div>
                </div>
                <div class="info-box">
                    <div class="info-box-title">🏘️ ${data.name} Hobli Information</div>
                    <div class="info-box-text">
                        <strong>Administrative Jurisdiction:</strong> ${data.parent.name} Taluk, Tumakuru District<br>
                        <strong>Level:</strong> Revenue Circle (between Taluk and Gram Panchayat)<br><br>
                        <strong>Functions:</strong> Land revenue collection, agricultural census, village-level coordination, and implementation of rural development schemes.
                    </div>
                </div>
            `;
        }
        
        function displayGPCategoryContent(data) {
            const mainContent = document.getElementById('mainContent');
            const taluk = data.parent;
            
            mainContent.innerHTML = `
                <div class="breadcrumb">${renderBreadcrumb()}</div>
                
                <div class="content-header">
                    <div class="content-title">🏛️ All Gram Panchayats in ${taluk.name} Taluk</div>
                    <div class="content-subtitle">
                        Complete list of ${taluk.gramPanchayats.length} Gram Panchayats<br>
                        ${taluk.name} Taluk, Tumakuru District
                    </div>
                </div>
                
                <div class="filter-bar">
                    <div class="filter-group">
                        <div class="filter-label">Search Gram Panchayats</div>
                        <input type="text" class="filter-input" id="gpCategorySearch" placeholder="Search GPs..." onkeyup="filterGPCategory()">
                    </div>
                    <div class="filter-group">
                        <div class="filter-label">Sort By</div>
                        <select class="filter-select" id="gpCategorySort" onchange="filterGPCategory()">
                            <option value="name">Name (A-Z)</option>
                            <option value="name-desc">Name (Z-A)</option>
                        </select>
                    </div>
                    <button class="filter-btn filter-btn-secondary" onclick="resetGPCategoryFilters()">Reset</button>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-card-label">Gram Panchayats</div>
                        <div class="stat-card-value">${taluk.gramPanchayats.length}</div>
                        <div class="stat-card-desc">Village councils</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">Hoblis</div>
                        <div class="stat-card-value">${taluk.hoblis.length}</div>
                        <div class="stat-card-desc">Revenue circles</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label">Avg GPs per Hobli</div>
                        <div class="stat-card-value">${(taluk.gramPanchayats.length / taluk.hoblis.length).toFixed(1)}</div>
                        <div class="stat-card-desc">Distribution</div>
                    </div>
                </div>
                
                <div class="info-box">
                    <div class="info-box-title">🏛️ Gram Panchayat System</div>
                    <div class="info-box-text">
                        <strong>Gram Panchayat (GP)</strong> is the cornerstone of rural local self-government in India, as per the 73rd Constitutional Amendment Act, 1992.<br><br>
                        <strong>Structure:</strong> President, Vice President, 10-20 Ward Members, and Panchayat Secretary<br>
                        <strong>Functions:</strong> Village development, water supply, sanitation, birth/death registration, implementation of welfare schemes, and primary education/health support.
                    </div>
                </div>
                
                <div class="data-section">
                    <div class="section-header">
                        <div class="section-title">🏛️ Complete List - ${taluk.gramPanchayats.length} Gram Panchayats</div>
                        <div class="section-actions">
                            <span style="color: #888; font-size: 0.8rem;">${taluk.gramPanchayats.length} total GPs</span>
                        </div>
                    </div>
                    <div class="data-list" id="gpCategoryList">
                        ${taluk.gramPanchayats.map((gp, idx) => `
                            <div class="data-item">
                                <div class="data-item-content">
                                    <div class="data-item-header">
                                        <div class="data-item-number">#${idx + 1}</div>
                                        <div class="data-item-main">${gp} Gram Panchayat</div>
                                    </div>
                                    <div class="data-item-detail">
                                        ${taluk.name} Taluk, Tumakuru District, Karnataka<br>
                                        Rural local self-government body for village-level administration and development
                                    </div>
                                </div>
                                <div class="data-item-badges">
                                    <div class="data-item-badge primary">GP</div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }
        
        function displayGramPanchayatContent(data) {
            const mainContent = document.getElementById('mainContent');
            mainContent.innerHTML = `
                <div class="breadcrumb">${renderBreadcrumb()}</div>
                <div class="content-header">
                    <div class="content-title">🏛️ ${data.name} Gram Panchayat</div>
                    <div class="content-subtitle">
                        ${data.parent.name} Taluk, Tumakuru District, Karnataka<br>
                        Rural Local Self-Government Body
                    </div>
                </div>
                <div class="info-box">
                    <div class="info-box-title">🏛️ ${data.name} Gram Panchayat</div>
                    <div class="info-box-text">
                        <strong>Administrative Jurisdiction:</strong> ${data.parent.name} Taluk, Tumakuru District<br>
                        <strong>Governance Level:</strong> Village / Rural Local Self-Government<br><br>
                        <strong>Structure:</strong> President, Vice President, Ward Members, and Panchayat Secretary<br>
                        <strong>Responsibilities:</strong> Village infrastructure, water supply, sanitation, birth/death registration, welfare schemes, and rural development.
                    </div>
                </div>
            `;
        }
        
        // Helper functions for navigation
        function showTaluksList() {
            const data = { type: 'taluk-category', parent: TUMAKURU_DISTRICT };
            breadcrumbPath = ['Karnataka', 'Tumakuru District', 'All Taluks'];
            displayTalukCategoryContent(data);
            window.scrollTo(0, 0);
        }
        
        function showConstituenciesList() {
            const data = { type: 'constituency-category', parent: TUMAKURU_DISTRICT };
            breadcrumbPath = ['Karnataka', 'Tumakuru District', 'All Constituencies'];
            displayConstituencyCategoryContent(data);
            window.scrollTo(0, 0);
        }
        
        function showAllGPsList() {
            // Show combined list of all GPs
            alert('Feature coming soon: Combined view of all 326 Gram Panchayats');
        }
        
        function expandAndSelectTaluk(talukIndex) {
            const taluk = TUMAKURU_DISTRICT.taluks[talukIndex];
            const data = { type: 'taluk', parent: TUMAKURU_DISTRICT, ...taluk };
            breadcrumbPath = ['Karnataka', 'Tumakuru District', 'Taluks', taluk.name];
            displayTalukContent(data);
            window.scrollTo(0, 0);
        }
        
        function expandAndSelectConstituency(constituencyIndex) {
            const constituency = TUMAKURU_DISTRICT.constituencies[constituencyIndex];
            const data = { type: 'constituency', parent: TUMAKURU_DISTRICT, ...constituency };
            breadcrumbPath = ['Karnataka', 'Tumakuru District', 'Constituencies', constituency.name];
            displayConstituencyContent(data);
            window.scrollTo(0, 0);
        }
        
        // Filter functions
        function filterTaluks() {
            const searchTerm = document.getElementById('talukSearch')?.value.toLowerCase() || '';
            const sortBy = document.getElementById('talukSort')?.value || 'name';
            
            let filteredTaluks = TUMAKURU_DISTRICT.taluks.filter(t => 
                t.name.toLowerCase().includes(searchTerm)
            );
            
            // Sort
            if (sortBy === 'name') {
                filteredTaluks.sort((a, b) => a.name.localeCompare(b.name));
            } else if (sortBy === 'gps') {
                filteredTaluks.sort((a, b) => b.gramPanchayats.length - a.gramPanchayats.length);
            }
            
            const listElement = document.getElementById('talukList');
            if (listElement) {
                listElement.innerHTML = renderTalukList(filteredTaluks);
            }
        }
        
        function filterConstituencies() {
            const searchTerm = document.getElementById('constituencySearch')?.value.toLowerCase() || '';
            const type = document.getElementById('constituencyType')?.value || 'all';
            const sortBy = document.getElementById('constituencySort')?.value || 'name';
            
            let filteredConstituencies = TUMAKURU_DISTRICT.constituencies.filter(c => {
                const matchesSearch = c.name.toLowerCase().includes(searchTerm);
                const matchesType = type === 'all' || c.type === type;
                return matchesSearch && matchesType;
            });
            
            // Sort
            if (sortBy === 'name') {
                filteredConstituencies.sort((a, b) => a.name.localeCompare(b.name));
            } else if (sortBy === 'villages') {
                filteredConstituencies.sort((a, b) => b.villages - a.villages);
            } else if (sortBy === 'booths') {
                filteredConstituencies.sort((a, b) => b.booths - a.booths);
            }
            
            const listElement = document.getElementById('constituencyList');
            if (listElement) {
                listElement.innerHTML = renderConstituencyList(filteredConstituencies);
            }
        }
        
        function resetFilters() {
            const searchInput = document.getElementById('talukSearch');
            const sortSelect = document.getElementById('talukSort');
            if (searchInput) searchInput.value = '';
            if (sortSelect) sortSelect.value = 'name';
            filterTaluks();
        }
        
        function resetConstituencyFilters() {
            const searchInput = document.getElementById('constituencySearch');
            const typeSelect = document.getElementById('constituencyType');
            const sortSelect = document.getElementById('constituencySort');
            if (searchInput) searchInput.value = '';
            if (typeSelect) typeSelect.value = 'all';
            if (sortSelect) sortSelect.value = 'name';
            filterConstituencies();
        }
        
        // Search functionality in sidebar
        document.getElementById('searchInput').addEventListener('input', (e) => {
            const query = e.target.value.toLowerCase();
            const allNodes = document.querySelectorAll('.tree-item');
            
            if (query === '') {
                allNodes.forEach(item => item.style.display = '');
                return;
            }
            
            allNodes.forEach(item => {
                const label = item.querySelector('.tree-label');
                if (label) {
                    const text = label.textContent.toLowerCase();
                    item.style.display = text.includes(query) ? '' : 'none';
                }
            });
        });
        
        // Initialize
        buildTree();


        // Add this function anywhere in your script section
function toggleSidebar() {
    const sidebar = document.querySelector('.sidebar');
    const mainContent = document.querySelector('.main-content');
    const toggleBtn = document.getElementById('sidebarToggle');
    const toggleIcon = toggleBtn.querySelector('.sidebar-toggle-icon');
    
    sidebar.classList.toggle('collapsed');
    mainContent.classList.toggle('expanded');
    toggleBtn.classList.toggle('collapsed');
    
    // Change icon
    if (sidebar.classList.contains('collapsed')) {
        toggleIcon.textContent = '▶';
    } else {
        toggleIcon.textContent = '◀';
    }
}
    </script>
</body>
</html>